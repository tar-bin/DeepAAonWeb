!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(21),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,i,o;!function(a,s){i=[t,n(9),n(22),n(16)],r=s,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(t,e,n,r){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var c=i(e),l=i(n),p=i(r),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),d=function(t){function e(t,n){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.resolveOptions(n),r.listenClick(t),r}return s(e,t),f(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===h(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,p.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(l.default);t.exports=d})},function(t,e){t.exports=[["　",11],[" ",5],["|",4],["/",8],["_",5],["＼",16],["／",16],["＿",16],["￣",16],[",",3],[".",3],["l",3],["-",8],["'",3],["{",4],["}",4],["‐",8],["〉",8],["ヽ",12],["´",8],["〈",8],["｀",8],["ｌ",4],["､",7],["〔",8],["二",16],["=",8],["〕",8],["r",6],["―",16],["ﾉ",8],["i",3],["′",16],["⌒",16],["∧",16],["、",11],["ノ",11],["∨",16],["｜",16],[":",3],["`",7],["ｰ",10],["j",4],["¨",8],["ﾆ",10],["ｉ",4],["｛",8],["三",16],["丶",16],["!",4],["｢",7],["ﾊ",10],["ー",15],["｝",8],["＞",16],["人",16],["[",5],["八",16],["]",5],["＜",16],["く",9],["ﾍ",10],["ﾄ",7],["Y",9],[")",5],["ミ",11],["(",5],["ニ",15],["彡",16],["イ",13],["V",10],["∠",16],["｣",7],["7",8],["（",8],["ｲ",9],["└",16],["ト",10],["＾",8],['"',8],["…",16],["）",8],["ハ",16],["─",16],["┐",16],["┘",16],["．",11],["厶",16],["^",7],["Ｖ",11],["ｧ",8],[";",3],["辷",16],["x",7],["ﾞ",4],["〃",16],["「",8],["￤",16],["＝",16],["７",11],[">",8],["ﾐ",7],["┴",16],["ﾘ",8],["厂",16],["ｨ",7],["ﾟ",4],["ﾌ",9],["━",16],["‘",8],["L",9],["从",16],["ｘ",8],["T",9],["乂",16],["」",8],["f",5],["≧",16],["！",16],["ゝ",12],["Ｙ",10],["v",8],["≦",16],["丿",16],["匚",16],["｡",7],["ﾏ",10],["ィ",10],["X",10],["┌",16],["￢",16],["：",8],["冖",16],["┬",16],["斗",16],["ア",14],["，",11],["│",16],["~",7],["ヾ",12],["个",16],["小",16],["Ⅵ",16],["ん",15],["⊥",16],["廴",16],["≠",16],["う",11],["ｱ",10],["し",12],["弋",16],["o",8],["ﾚ",9],["ソ",13],["ﾋ",8],["’",8],["て",14],["仁",16],["爪",16],["Ｌ",10],["ｭ",8],["ｿ",9],["･",7],["k",7],["丁",16],["‥",16],["い",15],["一",16],["。",11],["工",16],["》",8],["ヘ",15],["y",8],["z",7],["◯",16],["宀",16],["刈",16],["ｆ",5],["～",16],["<",8],["t",6],["ゞ",11],["］",8],["ｎ",10],["⊂",16],["O",11],["ｒ",6],["了",16],["ﾒ",8],["⊃",16],["☆",16],["匸",16],["Ｎ",12],["┼",16],["・",8],["ﾑ",11],["Λ",16],["《",8],["゜",8],["ァ",12],["こ",13],["1",8],["Ｔ",10],["n",8],["≫",16],["┤",16],["リ",12],["Z",9],["ⅰ",16],["り",12],["勹",16],["メ",12],["寸",16],["H",10],["フ",13],["レ",14],["代",16],["ﾃ",10],["ﾝ",9],["へ",16],["ｊ",4],["ぅ",10],["癶",16],["ｈ",10],["ツ",14],["下",16],["介",16],["；",8],["ｚ",8],["N",10],["″",16],["├",16],["１",11],["ｪ",8],["u",8],["マ",14],["冫",16],["ｬ",8],["孑",16],["ｋ",10],["十",16],["乙",16],["３",11],["ﾖ",8],["ﾛ",9],["≡",16],["㌻",16],["入",16],["＋",16],["゛",8],["心",16],["ｽ",10],["°",16],["仏",16],["示",16],["込",16],["+",8],["J",9],["c",8],["┃",16],["广",16],["I",4],["┓",16],["▽",16],["0",8],["√",16],["≪",16],["っ",13],["不",16],["Ｏ",13],["ﾂ",10],["┛",16],["七",16],["［",8],["ｼ",9],["ﾅ",10],["У",16],["〇",16],["つ",15],["ン",14],["抖",16],["ｯ",8],["ム",16],["千",16],["辻",16],["ｔ",5],["ｕ",10],["云",16],["弌",16],["ⅱ",16],["∟",16],["ヒ",12],["少",16],["才",16],["芋",16],["ｖ",8],["ﾕ",10],["┏",16],["┰",16],["㍉",16],["以",16],["儿",16],["升",16],["斤",16],["－",16],["ｷ",10],["h",8],["Ⅳ",16],["【",8],["た",15],["づ",15],["ス",14],["圦",16],["川",16],["汽",16],["ｸ",9],["ﾁ",10],["?",7],["w",10],["エ",14],["ロ",14],["卜",16],["彳",16],["%",8],["と",12],["㏍",16],["上",16],["匕",16],["笊",16],["Ｃ",12],["Ｘ",10],["ﾙ",11],["○",16],["キ",15],["弐",16],["Ａ",11],["ｏ",10],["W",12],["×",16],["炒",16],["筏",16],["C",11],["P",10],["∵",16],["≒",16],["か",16],["タ",12],["ユ",15],["ル",16],["乃",16],["冂",16],["戈",16],["扞",16],["气",16],["汀",16],["Ｗ",16],["ｴ",10],["A",10],["∩",16],["】",8],["狄",16],["行",16],["”",8],["┗",16],["┣",16],["●",16],["じ",12],["ナ",15],["匀",16],["大",16],["苧",16],["＊",16],["K",10],["U",10],["シ",14],["仄",16],["土",16],["弖",16],["Ｚ",10],["ｾ",10],["‰",16],["ⅵ",16],["⊇",16],["で",14],["于",16],["仆",16],["干",16],["爻",16],["襾",16],["Ｕ",12],["ﾀ",9],["℃",16],["ぃ",13],["え",14],["ク",13],["ド",11],["壬",16],["沁",16],["荻",16],["ｺ",9],["S",10],["Τ",16],["“",8],["テ",14],["ュ",13],["乞",16],["庁",16],["％",16],["Ｈ",12],["Ｊ",10],["ｃ",9]]},function(module,exports,__webpack_require__){(function(setImmediate,clearImmediate){!function(t,e){module.exports=e()}("undefined"!=typeof self&&self,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=168)}([function(t,e,n){var r=n(3),i=n(34),o=n(13),a=n(22),s=n(18),u="prototype",c=function(t,e,n){var l,p,h,f,d=t&c.F,v=t&c.G,m=t&c.S,y=t&c.P,g=t&c.B,_=v?r:m?r[e]||(r[e]={}):(r[e]||{})[u],b=v?i:i[e]||(i[e]={}),x=b[u]||(b[u]={});v&&(n=e);for(l in n)p=!d&&_&&void 0!==_[l],h=(p?_:n)[l],f=g&&p?s(h,r):y&&"function"==typeof h?s(Function.call,h):h,_&&a(_,l,h,t&c.U),b[l]!=h&&o(b,l,f),y&&x[l]!=h&&(x[l]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){"use strict";function r(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:r(t.pre),body:r(t.body),post:r(t.proc),funcName:t.funcName})}function o(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(i(t))}var a=n(158),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var n=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in c){var n=c[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in l){var n=l[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<p.length;++t){var n=p[t];e[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var f=["atan2","pow"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(2);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(84)("wks"),i=n(26),o=n(3).Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(4),i=n(109),o=n(47),a=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";function r(t){for(var e in t)a.indexOf(e)<0&&s.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var n=0;n<a.length;++n)if(!t[a[n]])throw new Error("cwise: Missing argument: "+a[n]);return o({args:t.args,pre:i(t.pre||function(){}),body:i(t.body),post:i(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}var i=n(415),o=n(158),a=["args","body"],s=["pre","post","printCode","funcName","blockSize"];t.exports=r},function(t,e,n){var r=n(28),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){t.exports=!n(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";function r(t){return"[object Array]"===T.call(t)}function i(t){return"[object ArrayBuffer]"===T.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function a(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t){return void 0===t}function l(t){return null!==t&&"object"==typeof t}function p(t){return"[object Date]"===T.call(t)}function h(t){return"[object File]"===T.call(t)}function f(t){return"[object Blob]"===T.call(t)}function d(t){return"[object Function]"===T.call(t)}function v(t){return l(t)&&d(t.pipe)}function m(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function y(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document}function _(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),r(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function b(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=b(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)_(arguments[n],t);return e}function x(t,e,n){return _(e,function(e,r){t[r]=n&&"function"==typeof e?w(e,n):e}),t}var w=n(152),S=n(153),T=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:i,isBuffer:S,isFormData:o,isArrayBufferView:a,isString:s,isNumber:u,isObject:l,isUndefined:c,isDate:p,isFile:h,isBlob:f,isFunction:d,isStream:v,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:_,merge:b,extend:x,trim:y}},function(t,e,n){var r=n(7),i=n(25);t.exports=n(10)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(81),i=n(23);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(0),i=n(34),o=n(5);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(t,e,n){var r=n(134),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var r=n(27);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(23);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";if(n(10)){var r=n(35),i=n(3),o=n(5),a=n(0),s=n(80),u=n(110),c=n(18),l=n(37),p=n(25),h=n(13),f=n(36),d=n(28),v=n(9),m=n(111),y=n(39),g=n(47),_=n(11),b=n(88),x=n(2),w=n(19),S=n(89),T=n(49),P=n(42),k=n(48).f,C=n(90),A=n(26),O=n(6),E=n(50),j=n(82),F=n(87),M=n(91),I=n(41),R=n(61),D=n(60),L=n(86),U=n(117),z=n(7),N=n(21),G=z.f,B=N.f,q=i.RangeError,V=i.TypeError,$=i.Uint8Array,H="ArrayBuffer",W="SharedArrayBuffer",X="BYTES_PER_ELEMENT",Y="prototype",K=Array[Y],J=u.ArrayBuffer,Z=u.DataView,Q=E(0),tt=E(2),et=E(3),nt=E(4),rt=E(5),it=E(6),ot=j(!0),at=j(!1),st=M.values,ut=M.keys,ct=M.entries,lt=K.lastIndexOf,pt=K.reduce,ht=K.reduceRight,ft=K.join,dt=K.sort,vt=K.slice,mt=K.toString,yt=K.toLocaleString,gt=O("iterator"),_t=O("toStringTag"),bt=A("typed_constructor"),xt=A("def_constructor"),wt=s.CONSTR,St=s.TYPED,Tt=s.VIEW,Pt="Wrong length!",kt=E(1,function(t,e){return jt(F(t,t[xt]),e)}),Ct=o(function(){return 1===new $(new Uint16Array([1]).buffer)[0]}),At=!!$&&!!$[Y].set&&o(function(){new $(1).set({})}),Ot=function(t,e){var n=d(t);if(n<0||n%e)throw q("Wrong offset!");return n},Et=function(t){if(x(t)&&St in t)return t;throw V(t+" is not a typed array!")},jt=function(t,e){if(!(x(t)&&bt in t))throw V("It is not a typed array constructor!");return new t(e)},Ft=function(t,e){return Mt(F(t,t[xt]),e)},Mt=function(t,e){for(var n=0,r=e.length,i=jt(t,r);r>n;)i[n]=e[n++];return i},It=function(t,e,n){G(t,e,{get:function(){return this._d[n]}})},Rt=function(t){var e,n,r,i,o,a,s=w(t),u=arguments.length,l=u>1?arguments[1]:void 0,p=void 0!==l,h=C(s);if(void 0!=h&&!S(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(p&&u>2&&(l=c(l,arguments[2],2)),e=0,n=v(s.length),i=jt(this,n);n>e;e++)i[e]=p?l(s[e],e):s[e];return i},Dt=function(){for(var t=0,e=arguments.length,n=jt(this,e);e>t;)n[t]=arguments[t++];return n},Lt=!!$&&o(function(){yt.call(new $(1))}),Ut=function(){return yt.apply(Lt?vt.call(Et(this)):Et(this),arguments)},zt={copyWithin:function(t,e){return U.call(Et(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Et(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Et(this),arguments)},filter:function(t){return Ft(this,tt(Et(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(Et(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Et(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Et(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Et(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Et(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(Et(this),arguments)},lastIndexOf:function(t){return lt.apply(Et(this),arguments)},map:function(t){return kt(Et(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return pt.apply(Et(this),arguments)},reduceRight:function(t){return ht.apply(Et(this),arguments)},reverse:function(){for(var t,e=this,n=Et(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Et(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Et(this),t)},subarray:function(t,e){var n=Et(this),r=n.length,i=y(t,r);return new(F(n,n[xt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===e?r:y(e,r))-i))}},Nt=function(t,e){return Ft(this,vt.call(Et(this),t,e))},Gt=function(t){Et(this);var e=Ot(arguments[1],1),n=this.length,r=w(t),i=v(r.length),o=0;if(i+e>n)throw q(Pt);for(;o<i;)this[e+o]=r[o++]},Bt={entries:function(){return ct.call(Et(this))},keys:function(){return ut.call(Et(this))},values:function(){return st.call(Et(this))}},qt=function(t,e){return x(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function(t,e){return qt(t,e=g(e,!0))?p(2,t[e]):B(t,e)},$t=function(t,e,n){return!(qt(t,e=g(e,!0))&&x(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?G(t,e,n):(t[e]=n.value,t)};wt||(N.f=Vt,z.f=$t),a(a.S+a.F*!wt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:$t}),o(function(){mt.call({})})&&(mt=yt=function(){return ft.call(this)});var Ht=f({},zt);f(Ht,Bt),h(Ht,gt,Bt.values),f(Ht,{slice:Nt,set:Gt,constructor:function(){},toString:mt,toLocaleString:Ut}),It(Ht,"buffer","b"),It(Ht,"byteOffset","o"),It(Ht,"byteLength","l"),It(Ht,"length","e"),G(Ht,_t,{get:function(){return this[St]}}),t.exports=function(t,e,n,u){u=!!u;var c=t+(u?"Clamped":"")+"Array",p="get"+t,f="set"+t,d=i[c],y=d||{},g=d&&P(d),_=!d||!s.ABV,w={},S=d&&d[Y],C=function(t,n){var r=t._d;return r.v[p](n*e+r.o,Ct)},A=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*e+i.o,r,Ct)},O=function(t,e){G(t,e,{get:function(){return C(this,e)},set:function(t){return A(this,e,t)},enumerable:!0})};_?(d=n(function(t,n,r,i){l(t,d,c,"_d");var o,a,s,u,p=0,f=0;if(x(n)){if(!(n instanceof J||(u=b(n))==H||u==W))return St in n?Mt(d,n):Rt.call(d,n);o=n,f=Ot(r,e);var y=n.byteLength;if(void 0===i){if(y%e)throw q(Pt);if((a=y-f)<0)throw q(Pt)}else if((a=v(i)*e)+f>y)throw q(Pt);s=a/e}else s=m(n),a=s*e,o=new J(a);for(h(t,"_d",{b:o,o:f,l:a,e:s,v:new Z(o)});p<s;)O(t,p++)}),S=d[Y]=T(Ht),h(S,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&R(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){l(t,d,c);var o;return x(n)?n instanceof J||(o=b(n))==H||o==W?void 0!==i?new y(n,Ot(r,e),i):void 0!==r?new y(n,Ot(r,e)):new y(n):St in n?Mt(d,n):Rt.call(d,n):new y(m(n))}),Q(g!==Function.prototype?k(y).concat(k(g)):k(y),function(t){t in d||h(d,t,y[t])}),d[Y]=S,r||(S.constructor=d));var E=S[gt],j=!!E&&("values"==E.name||void 0==E.name),F=Bt.values;h(d,bt,!0),h(S,St,c),h(S,Tt,!0),h(S,xt,d),(u?new d(1)[_t]==c:_t in S)||G(S,_t,{get:function(){return c}}),w[c]=d,a(a.G+a.W+a.F*(d!=y),w),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){y.of.call(d,1)}),c,{from:Rt,of:Dt}),X in S||h(S,X,e),a(a.P,c,zt),D(c),a(a.P+a.F*At,c,{set:Gt}),a(a.P+a.F*!j,c,Bt),r||S.toString==mt||(S.toString=mt),a(a.P+a.F*o(function(){new d(1).slice()}),c,{slice:Nt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:Ut}),I[c]=j?E:F,r||j||h(S,gt,F)}}else t.exports=function(){}},function(t,e,n){var r=n(51),i=n(25),o=n(15),a=n(47),s=n(11),u=n(109),c=Object.getOwnPropertyDescriptor;e.f=n(10)?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(3),i=n(13),o=n(11),a=n(26)("src"),s="toString",u=Function[s],c=(""+u).split(s);n(34).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(26)("meta"),i=n(2),o=n(11),a=n(7).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(5)(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},p=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},f=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:h,onFreeze:f}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(112),i=n(85);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(307),o=n(310);t.exports=r},function(t,e,n){var r=n(410),i=r();t.exports=i},function(t,e,n){"use strict";(function(t){function r(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)void 0!==t[r[i]]&&n||(t[r[i]]=e[r[i]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}var o=e;o.asPromise=n(457),o.base64=n(458),o.EventEmitter=n(459),o.float=n(460),o.inquire=n(461),o.utf8=n(462),o.pool=n(463),o.LongBits=n(464),o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isNode=Boolean(t.process&&t.process.versions&&t.process.versions.node),o.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},o.isString=function(t){return"string"==typeof t||t instanceof String},o.isObject=function(t){return t&&"object"==typeof t},o.isset=o.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},o.Buffer=function(){try{var t=o.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(t){return"number"==typeof t?o.Buffer?o._Buffer_allocUnsafe(t):new o.Array(t):o.Buffer?o._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=t.dcodeIO&&t.dcodeIO.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(t){return t?o.LongBits.from(t).toHash():o.LongBits.zeroHash},o.longFromHash=function(t,e){var n=o.LongBits.fromHash(t);return o.Long?o.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},o.merge=r,o.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},o.newError=i,o.ProtocolError=i("ProtocolError"),o.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},o.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var t=o.Buffer;if(!t)return void(o._Buffer_from=o._Buffer_allocUnsafe=null);o._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},o._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}}}).call(e,n(30))},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=!1},function(t,e,n){var r=n(22);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(28),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(7).f,i=n(11),o=n(6)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,n){var r=n(11),i=n(19),o=n(83)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(6)("unscopables"),i=Array.prototype;void 0==i[r]&&n(13)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(2);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){"use strict";function r(t){return Array.isArray(t)?[t.length,t[0].length]:t.shape}function i(t,e,n){var i=r(t),o=r(e),a=r(n);if(i[0]!==o[0]||i[1]!==a[1]||o[1]!==a[0])throw new Error("Mismatched array shapes for matrix product")}function o(t){if(Array.isArray(t)){if(Array.isArray(t))return["r","native"]}else if(t.shape&&2===t.shape.length)return t.order[0]?["r",t.dtype]:["c",t.dtype];throw new Error("Unrecognized data type")}function a(t,e,n,r,a){void 0===r&&(r=1),void 0===a&&(a=0);var c=1!==r,l=0!==a,p=o(t),h=o(e),f=o(n);i(t,e,n);var d=[p,h,f,c,l].join(":"),v=u[d];return v||(v=u[d]=s(p,h,f,c,l)),v(t,e,n,r,a)}t.exports=a;var s=n(420),u={}},function(t,e,n){var r=n(2);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(112),i=n(85).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(4),i=n(171),o=n(85),a=n(83)("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n(79)("iframe"),r=o.length;for(e.style.display="none",n(113).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(18),i=n(81),o=n(19),a=n(9),s=n(172);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,p=6==t,h=5==t||p,f=e||s;return function(e,s,d){for(var v,m,y=o(e),g=i(y),_=r(s,d,3),b=a(g.length),x=0,w=n?f(e,b):u?f(e,0):void 0;b>x;x++)if((h||x in g)&&(v=g[x],m=_(v,x,y),t))if(n)w[x]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:w.push(v)}else if(l)return!1;return p?-1:c||l?l:w}}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(283),o=n(292),a=n(56);t.exports=r},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var i=n(54),o=n(286),a=n(287),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){var r=n(17),i=r.Symbol;t.exports=i},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(137),o=n(101);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(76),o=1/0;t.exports=r},function(t,e,n){function r(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(r);var i=new Array(n.length);for(t=0;t<i.length;++t)i[t]=n[t][1];return i}function o(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var r="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",o);return a(p[t][0])}var o=["'use strict'"],s=u(e),c=s.map(function(t){return"i"+t}),l="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),h=s.map(function(t){return"b"+t}).join(","),f=s.map(function(t){return"c"+t}).join(",");o.push("function "+n+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),r?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),r?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),v=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+v.join(","));for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var y=new Array(e),g=new Array(e),m=0;m<e;++m)y[m]="a[i"+m+"]",g[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+y.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(p[t],i)}function a(t){if(c(t))return"buffer";if(l)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,n,r){if(void 0===t){var i=p.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var u=s-1,c=1;u>=0;--u)n[u]=c,c*=e[u]}if(void 0===r){r=0;for(var u=0;u<s;++u)n[u]<0&&(r-=(e[u]-1)*n[u])}for(var l=a(t),h=p[l];h.length<=s+1;)h.push(o(l,h.length-1));var i=h[s+1];return i(t,e,n,r)}var u=n(412),c=n(153),l="undefined"!=typeof Float64Array,p={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=s},function(t,e,n){"use strict";t.exports.gemv=n(421),t.exports.gbmv=n(432),t.exports.symv=n(433),t.exports.sbmv=n(434),t.exports.spmv=n(435),t.exports.trmv=n(436),t.exports.tbmv=n(437),t.exports.trsv=n(438),t.exports.tbsv=n(439),t.exports.tpsv=n(440),t.exports.ger=n(441),t.exports.syr=n(442),t.exports.spr=n(443),t.exports.syr2=n(444),t.exports.spr2=n(445),t.exports.trmv_lower=function(e,n){return console.warn("trmv_lower is deprecated. Please use the 'isLower' flag with trmv."),t.exports.trmv(e,n,!0)},t.exports.trsv_lower=function(e,n){return console.warn("trsv_lower is deprecated. Please use the 'isLower' flag with trsv."),t.exports.trsv(e,n,!0)}},function(t,e,n){"use strict";var r=n(3),i=n(7),o=n(10),a=n(6)("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(6)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},t(o)}catch(t){}return n}},function(t,e,n){var r=n(18),i=n(119),o=n(89),a=n(4),s=n(9),u=n(90),c={},l={},e=t.exports=function(t,e,n,p,h){var f,d,v,m,y=h?function(){return t}:u(t),g=r(n,p,e?2:1),_=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(f=s(t.length);f>_;_++)if((m=e?g(a(d=t[_])[0],d[1]):g(t[_]))===c||m===l)return m}else for(v=y.call(t);!(d=v.next()).done;)if((m=i(v,g,d.value,e))===c||m===l)return m};e.BREAK=c,e.RETURN=l},function(t,e,n){"use strict";var r=n(3),i=n(0),o=n(22),a=n(36),s=n(24),u=n(62),c=n(37),l=n(2),p=n(5),h=n(61),f=n(40),d=n(184);t.exports=function(t,e,n,v,m,y){var g=r[t],_=g,b=m?"set":"add",x=_&&_.prototype,w={},S=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(y||x.forEach&&!p(function(){(new _).entries().next()}))){var T=new _,P=T[b](y?{}:-0,1)!=T,k=p(function(){T.has(1)}),C=h(function(t){new _(t)}),A=!y&&p(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});C||(_=e(function(e,n){c(e,_,t);var r=d(new g,e,_);return void 0!=n&&u(n,m,r[b],r),r}),_.prototype=x,x.constructor=_),(k||A)&&(S("delete"),S("has"),m&&S("get")),(A||P)&&S(b),y&&x.clear&&delete x.clear}else _=v.getConstructor(e,t,m,b),a(_.prototype,n),s.NEED=!0;return f(_,t),w[t]=_,i(i.G+i.W+i.F*(_!=g),w),y||v.setStrong(_,t,m),_}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(13),i=n(22),o=n(5),a=n(23),s=n(6);t.exports=function(t,e,n){var u=s(t),c=n(a,u,""[t]),l=c[0],p=c[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(i(String.prototype,t,l),r(RegExp.prototype,u,2==e?function(t,e){return p.call(t,this,e)}:function(t){return p.call(t,this)}))}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t,e){return i(t,e)}var i=n(102);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(297),o=n(298),a=n(299),s=n(300),u=n(301);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(71);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){var r=n(31),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(319);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(344),o=n(347),a=n(107),s=n(14),u=n(356);t.exports=r},function(t,e,n){function r(t,e){return i(t)?t:o(t,e)?[t]:a(s(t))}var i=n(14),o=n(106),a=n(349),s=n(352);t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(53),o=n(55),a="[object Symbol]";t.exports=r},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){v&&f&&(v=!1,f.length?d=f.concat(d):m=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(f=d,d=[];++m<e;)f&&f[m].run();m=-1,e=d.length}f=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,p,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var f,d=[],v=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";t.exports.swap=n(422),t.exports.scal=n(423),t.exports.copy=n(424),t.exports.axpy=n(425),t.exports.dot=n(426),t.exports.cpsc=n(427),t.exports.nrm2=n(428),t.exports.asum=n(429),t.exports.iamax=n(430),t.exports.rotg=n(431)},function(t,e,n){var r=n(2),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){for(var r,i=n(3),o=n(13),a=n(26),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,p=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");p<9;)(r=i[h[p++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(t,e,n){var r=n(38);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(15),i=n(9),o=n(39);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(84)("keys"),i=n(26);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(3),i="__core-js_shared__",o=r[i]||(r[i]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";var r=n(19),i=n(39),o=n(9);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(4),i=n(27),o=n(6)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},function(t,e,n){var r=n(38),i=n(6)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(41),i=n(6)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(88),i=n(6)("iterator"),o=n(41);t.exports=n(34).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(43),i=n(115),o=n(41),a=n(15);t.exports=n(116)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){var r=n(2),i=n(4),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(18)(Function.call,n(21).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t,e,n){var r,i,o,a=n(18),s=n(122),u=n(113),c=n(79),l=n(3),p=l.process,h=l.setImmediate,f=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,m=0,y={},g="onreadystatechange",_=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},b=function(t){_.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},f=function(t){delete y[t]},"process"==n(38)(p)?r=function(t){p.nextTick(a(_,t,1))}:v&&v.now?r=function(t){v.now(a(_,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r=g in c("script")?function(t){u.appendChild(c("script"))[g]=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:h,clear:f}},function(t,e,n){var r=n(128),i=n(23);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},function(t,e,n){var r=n(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){"use strict";var r=n(7),i=n(25);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var r=n(285),i=n(55),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,s))}var i=n(296),o=n(55);t.exports=r},function(t,e,n){var r=n(31),i=n(17),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(311),o=n(318),a=n(320),s=n(321),u=n(322);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){e=i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}var i=n(75),o=n(57);t.exports=r},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||s.test(t)||!a.test(t)||null!=e&&t in Object(e)}var i=n(14),o=n(76),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){"use strict";(function(e){function r(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i=n(12),o=n(393),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(154):void 0!==e&&(t=n(154)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){s.headers[t]={}}),i.forEach(["post","put","patch"],function(t){s.headers[t]=i.merge(a)}),t.exports=s}).call(e,n(77))},function(t,e,n){t.exports=!n(10)&&!n(5)(function(){return 7!=Object.defineProperty(n(79)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,a=Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?N(2,-24)-N(2,-77):0,p=0,h=t<0||0===t&&1/t<0?1:0;for(t=z(t),t!=t||t===L?(i=t!=t?1:0,r=u):(r=G(B(t)/q),t*(o=N(2,-r))<1&&(r--,o*=2),t+=r+c>=1?l/o:l*N(2,1-c),t*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*N(2,e),r+=c):(i=t*N(2,c-1)*N(2,e),r=0));e>=8;a[p++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[p++]=255&r,r/=256,s-=8);return a[--p]|=128*h,a}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-L:L;r+=N(2,e),l-=a}return(c?-1:1)*r*N(2,l-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function a(t){return[255&t]}function s(t){return[255&t,t>>8&255]}function u(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function c(t){return r(t,52,8)}function l(t){return r(t,23,4)}function p(t,e,n){k(t[j],e,{get:function(){return this[n]}})}function h(t,e,n,r){var i=+n,o=T(i);if(o+e>t[X])throw D(F);var a=t[W]._b,s=o+t[Y],u=a.slice(s,s+e);return r?u:u.reverse()}function f(t,e,n,r,i,o){var a=+n,s=T(a);if(s+e>t[X])throw D(F);for(var u=t[W]._b,c=s+t[Y],l=r(+i),p=0;p<e;p++)u[c+p]=l[o?p:e-p-1]}var d=n(3),v=n(10),m=n(35),y=n(80),g=n(13),_=n(36),b=n(5),x=n(37),w=n(28),S=n(9),T=n(111),P=n(48).f,k=n(7).f,C=n(86),A=n(40),O="ArrayBuffer",E="DataView",j="prototype",F="Wrong index!",M=d[O],I=d[E],R=d.Math,D=d.RangeError,L=d.Infinity,U=M,z=R.abs,N=R.pow,G=R.floor,B=R.log,q=R.LN2,V="buffer",$="byteLength",H="byteOffset",W=v?"_b":V,X=v?"_l":$,Y=v?"_o":H;if(y.ABV){if(!b(function(){M(1)})||!b(function(){new M(-1)})||b(function(){return new M,new M(1.5),new M(NaN),M.name!=O})){M=function(t){return x(this,M),new U(T(t))};for(var K,J=M[j]=U[j],Z=P(U),Q=0;Z.length>Q;)(K=Z[Q++])in M||g(M,K,U[K]);m||(J.constructor=M)}var tt=new I(new M(2)),et=I[j].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||_(I[j],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else M=function(t){x(this,M,O);var e=T(t);this._b=C.call(Array(e),0),this[X]=e},I=function(t,e,n){x(this,I,E),x(t,M,E);var r=t[X],i=w(e);if(i<0||i>r)throw D("Wrong offset!");if(n=void 0===n?r-i:S(n),i+n>r)throw D("Wrong length!");this[W]=t,this[Y]=i,this[X]=n},v&&(p(M,$,"_l"),p(I,V,"_b"),p(I,$,"_l"),p(I,H,"_o")),_(I[j],{getInt8:function(t){return h(this,1,t)[0]<<24>>24},getUint8:function(t){return h(this,1,t)[0]},getInt16:function(t){var e=h(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=h(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(h(this,4,t,arguments[1]))},getUint32:function(t){return o(h(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(h(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(h(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){f(this,1,t,a,e)},setUint8:function(t,e){f(this,1,t,a,e)},setInt16:function(t,e){f(this,2,t,s,e,arguments[2])},setUint16:function(t,e){f(this,2,t,s,e,arguments[2])},setInt32:function(t,e){f(this,4,t,u,e,arguments[2])},setUint32:function(t,e){f(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){f(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){f(this,8,t,c,e,arguments[2])}});A(M,O),A(I,E),g(I[j],y.VIEW,!0),e[O]=M,e[E]=I},function(t,e,n){var r=n(28),i=n(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(11),i=n(15),o=n(82)(!1),a=n(83)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(38);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(35),i=n(0),o=n(22),a=n(13),s=n(11),u=n(41),c=n(174),l=n(40),p=n(42),h=n(6)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",v="values",m=function(){return this};t.exports=function(t,e,n,y,g,_,b){c(n,e,y);var x,w,S,T=function(t){if(!f&&t in A)return A[t];switch(t){case d:case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},P=e+" Iterator",k=g==v,C=!1,A=t.prototype,O=A[h]||A["@@iterator"]||g&&A[g],E=O||T(g),j=g?k?T("entries"):E:void 0,F="Array"==e?A.entries||O:O;if(F&&(S=p(F.call(new t)))!==Object.prototype&&S.next&&(l(S,P,!0),r||s(S,h)||a(S,h,m)),k&&O&&O.name!==v&&(C=!0,E=function(){return O.call(this)}),r&&!b||!f&&!C&&A[h]||a(A,h,E),u[e]=E,u[P]=m,g)if(x={values:k?E:T(v),keys:_?E:T(d),entries:j},b)for(w in x)w in A||o(A,w,x[w]);else i(i.P+i.F*(f||C),e,x);return x}},function(t,e,n){"use strict";var r=n(19),i=n(39),o=n(9);t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),p=1;for(u<s&&s<u+l&&(p=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=p,u+=p;return n}},function(t,e,n){"use strict";var r=n(7).f,i=n(49),o=n(36),a=n(18),s=n(37),u=n(62),c=n(116),l=n(115),p=n(60),h=n(10),f=n(24).fastKey,d=n(44),v=h?"_s":"size",m=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(d(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return d(this,e)[v]}}),l},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[v]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?"keys"==e?l(0,n.k):"values"==e?l(0,n.v):l(0,[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),p(e)}}},function(t,e,n){var r=n(4);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){"use strict";var r=n(29),i=n(64),o=n(51),a=n(19),s=n(81),u=Object.assign;t.exports=!u||n(5)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,p=o.f;u>c;)for(var h,f=s(arguments[c++]),d=l?r(f).concat(l(f)):r(f),v=d.length,m=0;v>m;)p.call(f,h=d[m++])&&(n[h]=f[h]);return n}:u},function(t,e,n){"use strict";var r=n(36),i=n(24).getWeak,o=n(4),a=n(2),s=n(37),u=n(62),c=n(50),l=n(11),p=n(44),h=c(5),f=c(6),d=0,v=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},y=function(t,e){return h(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(p(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?v(p(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?v(t).set(e,n):r[t._i]=n,t},ufstore:v}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(48),i=n(64),o=n(4),a=n(3).Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(27);t.exports.f=function(t){return new r(t)}},function(t,e,n){e.f=n(6)},function(t,e,n){var r=n(15),i=n(48).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},function(t,e,n){"use strict";var r=n(28),i=n(23);t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var r=n(2),i=n(38),o=n(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(2),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(0),i=n(23),o=n(5),a=n(97),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),p=function(t,e,n){var i={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=i[t]=s?e(h):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},h=p.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=p},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var r=n(29),i=n(15),o=n(51).f;t.exports=function(t){return function(e){for(var n,a=i(e),s=r(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(t?[n,a[n]]:a[n]);return l}}},function(t,e,n){var r=n(9),i=n(127),o=n(23);t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var p=l-u,h=i.call(c,Math.ceil(p/c.length));return h.length>p&&(h=h.slice(0,p)),a?h+s:s+h}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(30))},function(t,e,n){(function(t){var r=n(17),i=n(288),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;t.exports=l}).call(e,n(66)(t))},function(t,e,n){var r=n(289),i=n(290),o=n(291),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==c}var i=n(53),o=n(45),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(69),o=n(302),a=n(303),s=n(304),u=n(305),c=n(306);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n,r,c,l){var p=n&s,h=t.length,f=e.length;if(h!=f&&!(p&&f>h))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var v=-1,m=!0,y=n&u?new i:void 0;for(l.set(t,e),l.set(e,t);++v<h;){var g=t[v],_=e[v];if(r)var b=p?r(_,g,v,e,t,l):r(g,_,v,t,e,l);if(void 0!==b){if(b)continue;m=!1;break}if(y){if(!o(e,function(t,e){if(!a(y,e)&&(g===t||c(g,t,n,r,l)))return y.push(e)})){m=!1;break}}else if(g!==_&&!c(g,_,n,r,l)){m=!1;break}}return l.delete(t),l.delete(e),m}var i=n(323),o=n(326),a=n(327),s=1,u=2;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(45);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}t.exports=n},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(354),o=n(355);t.exports=r},function(t,e,n){var r=n(360),i=n(363),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=n(71),o=n(56),a=n(67),s=n(45);t.exports=r},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(149);t.exports=r},function(t,e,n){function r(t){return t?(t=i(t))===o||t===-o?(t<0?-1:1)*a:t===t?t:0:0===t?t:0}var i=n(371),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){var r=n(31),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){function r(t,e,n,a,s){var u=-1,c=t.length;for(n||(n=o),s||(s=[]);++u<c;){var l=t[u];e>0&&n(l)?e>1?r(l,e-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(141),o=n(380);t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(12),i=n(394),o=n(396),a=n(397),s=n(398),u=n(155),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(399);t.exports=function(t){return new Promise(function(e,l){var p=t.data,h=t.headers;r.isFormData(p)&&delete h["Content-Type"];var f=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||s(t.url)||(f=new window.XDomainRequest,d="onload",v=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var m=t.auth.username||"",y=t.auth.password||"";h.Authorization="Basic "+c(m+":"+y)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[d]=function(){if(f&&(4===f.readyState||v)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?f.response:f.responseText,o={data:r,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f};i(e,l,o),f=null}},f.onerror=function(){l(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var g=n(400),_=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;_&&(h[t.xsrfHeaderName]=_)}if("setRequestHeader"in f&&r.forEach(h,function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),l(t),f=null)}),void 0===p&&(p=null),f.send(p)})}},function(t,e,n){"use strict";var r=n(395);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,o(e)}var o=n(413);t.exports=i},function(t,e,n){"use strict";function r(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,i=t[a],e(i,o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}function i(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,(r=t[o])!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}function o(t,e,n){return 0===t.length?t:e?(n||t.sort(e),r(t,e)):(n||t.sort(),i(t))}t.exports=o},function(t,e,n){"use strict";function r(t,e){var n,r=[],o=[];if(void 0!==e&&!Array.isArray(e))throw new Error("axes must be an Array list of dimensions to squeeze");for(n=0;n<t.shape.length;n++)(1!==t.shape[n]||void 0!==e&&-1===e.indexOf(n))&&(r.push(t.shape[n]),o.push(t.stride[n]));return i(t.data,r,o,t.offset)}var i=n(58);t.exports=r},function(t,e,n){function r(t){return t&&t.length?i(t,o):0}var i=n(419),o=n(107);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n,r;if(void 0!==e&&(!Number.isFinite(e)||e%1!==e))throw new Error("axis of dimension to unsqueeze must be an integer");return e=void 0===e?t.shape.length:e,n=t.shape.slice(0),r=t.stride.slice(0),n.splice(e||0,0,1),r.splice(e||0,0,(r[e]||1)*(n[e+1]||1)),i(t.data,n,r,t.offset)}var i=n(58);t.exports=r},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){"use strict";function r(t){var e=t.dtype;"generic"!==e&&"array"!==e||(e="double");var n=p.malloc(t.size,e),r=c(n,t.shape);return l.assign(r,t),r}function i(t,e){e||(e="double");for(var n=1,r=new Array(t.length),i=t.length-1;i>=0;--i)r[i]=n,n*=t[i];return c(p.malloc(n,e),t,r,0)}function o(t){"generic"!==t.dtype&&"array"!==t.dtype&&p.free(t.data)}function a(t,e){e||(e="double");for(var n=1,r=new Array(t.length),i=t.length-1;i>=0;--i)r[i]=n,n*=t[i];for(var o=p.malloc(n,e),i=0;i<n;++i)o[i]=0;return c(o,t,r,0)}function s(t,e){e||(e="double");for(var n=1,r=new Array(t.length),i=t.length-1;i>=0;--i)r[i]=n,n*=t[i];for(var o=p.malloc(n,e),i=0;i<n;++i)o[i]=1;return c(o,t,r,0)}function u(t,e){var n,r;e||(e="double");var i=1,o=new Array(t.length);for(n=t.length-1;n>=0;--n)o[n]=i,i*=t[n];var a=p.malloc(i,e);for(n=0;n<i;++n)a[n]=0;var s=1/0,u=0;for(n=t.length-1;n>=0;n--)u+=o[n],s=Math.min(s,t[n]);for(n=0,r=0;n<s;n++,r+=u)a[r]=1;return c(a,t,o,0)}var c=n(58),l=n(1),p=n(447);e.clone=r,e.malloc=i,e.free=o,e.zeros=a,e.ones=s,e.eye=u},function(t,e,n){"use strict";function r(t,e,n){var i=0|t[n];if(i<=0)return[];var o,a=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=r(t,e,n+1);return a}function i(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return r(t,e,0)}return[]}t.exports=o},function(t,e,n){"use strict";function r(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function i(){}function o(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function a(){this.len=0,this.head=new r(i,0,0),this.tail=this.head,this.states=null}function s(t,e,n){e[n]=255&t}function u(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t}function c(t,e){this.len=t,this.next=void 0,this.val=e}function l(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function p(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}t.exports=a;var h,f=n(33),d=f.LongBits,v=f.base64,m=f.utf8;a.create=f.Buffer?function(){return(a.create=function(){return new h})()}:function(){return new a},a.alloc=function(t){return new f.Array(t)},f.Array!==Array&&(a.alloc=f.pool(a.alloc,f.Array.prototype.subarray)),a.prototype._push=function(t,e,n){return this.tail=this.tail.next=new r(t,e,n),this.len+=e,this},c.prototype=Object.create(r.prototype),c.prototype.fn=u,a.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new c((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},a.prototype.int32=function(t){return t<0?this._push(l,10,d.fromNumber(t)):this.uint32(t)},a.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},a.prototype.uint64=function(t){var e=d.from(t);return this._push(l,e.length(),e)},a.prototype.int64=a.prototype.uint64,a.prototype.sint64=function(t){var e=d.from(t).zzEncode();return this._push(l,e.length(),e)},a.prototype.bool=function(t){return this._push(s,1,t?1:0)},a.prototype.fixed32=function(t){return this._push(p,4,t>>>0)},a.prototype.sfixed32=a.prototype.fixed32,a.prototype.fixed64=function(t){var e=d.from(t);return this._push(p,4,e.lo)._push(p,4,e.hi)},a.prototype.sfixed64=a.prototype.fixed64,a.prototype.float=function(t){return this._push(f.float.writeFloatLE,4,t)},a.prototype.double=function(t){return this._push(f.float.writeDoubleLE,8,t)};var y=f.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};a.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(s,1,0);if(f.isString(t)){var n=a.alloc(e=v.length(t));v.decode(t,n,0),t=n}return this.uint32(e)._push(y,e,t)},a.prototype.string=function(t){var e=m.length(t);return e?this.uint32(e)._push(m.write,e,t):this._push(s,1,0)},a.prototype.fork=function(){return this.states=new o(this),this.head=this.tail=new r(i,0,0),this.len=0,this},a.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new r(i,0,0),this.len=0),this},a.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},a.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},a._configure=function(t){h=t}},function(t,e,n){"use strict";function r(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function i(t){this.buf=t,this.pos=0,this.len=t.length}function o(){var t=new l(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw r(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw r(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function a(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function s(){if(this.pos+8>this.len)throw r(this,8);return new l(a(this.buf,this.pos+=4),a(this.buf,this.pos+=4))}t.exports=i;var u,c=n(33),l=c.LongBits,p=c.utf8,h="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new i(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new i(t);throw Error("illegal buffer")};i.create=c.Buffer?function(t){return(i.create=function(t){return c.Buffer.isBuffer(t)?new u(t):h(t)})(t)}:h,i.prototype._slice=c.Array.prototype.subarray||c.Array.prototype.slice,i.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,r(this,10);return t}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw r(this,4);return a(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw r(this,4);return 0|a(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw r(this,4);var t=c.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},i.prototype.double=function(){if(this.pos+8>this.len)throw r(this,4);var t=c.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},i.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw r(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},i.prototype.string=function(){var t=this.bytes();return p.read(t,0,t.length)},i.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw r(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw r(this)}while(128&this.buf[this.pos++]);return this},i.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},i._configure=function(t){u=t;var e=c.Long?"toLong":"toNumber";c.merge(i.prototype,{int64:function(){return o.call(this)[e](!1)},uint64:function(){return o.call(this)[e](!0)},sint64:function(){return o.call(this).zzDecode()[e](!1)},fixed64:function(){return s.call(this)[e](!0)},sfixed64:function(){return s.call(this)[e](!1)}})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(t,e){if(t.length&&e.length&&t.length!==e.reduce(function(t,e){return t*e},1))throw new Error("[Tensor] specified shape incompatible with data.")}function p(t,e,n){for(var r=new t(e.data.length),i=Jc()(new t(n[0]*n[1]),[n[0],n[1]]),o=0,a=0;a<n[2];a++)Qc.a.assign(i,e.pick(null,null,a)),r.set(i.data,o),o+=n[0]*n[1];return r}function h(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=t.reduce(function(t,e){return t*e},1),i=Jc()(new Int32Array(r),t);if(e){for(var o=Math.ceil(Math.sqrt(r)),a=Jc()(new Int32Array(Math.pow(o,2)),[o,o]),s=Jc()(new Int32Array(Math.pow(o,2)),[o,o]),u=Jc()(new Int32Array(Math.pow(o,2)),[o,o]),l=0;l<o;l++)Qc.a.assigns(a.pick(l,null),l);for(var p=0;p<o;p++)Qc.a.assigns(s.pick(null,p),p);Qc.a.muls(u,a,o),Qc.a.addeq(u,s),i.data.set(u.data.subarray(0,i.size))}else{n<0&&(n=t.length+n);for(var h=t[n],f=Jc()(new Int32Array(r),t),d=Jc()(new Int32Array(r),t),v=c(t.slice(0,n)).concat(c(t.slice(n+1))),m=v.reduce(function(t,e){return t*e},1),y=Jc()(new Int32Array(Yc()(m)),v),g=Array(t.length).fill(null),_=0;_<h;_++)g[n]=_,Qc.a.assign(f.pick.apply(f,c(g)),y),Qc.a.assigns(d.pick.apply(d,c(g)),_);Qc.a.muls(i,f,h),Qc.a.addeq(i,d)}return i}function f(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function x(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function S(t){if(1===t.tensor.shape.length){var e=Qc.a.sup(t.tensor);Qc.a.subseq(t.tensor,e),Qc.a.expeq(t.tensor);var n=Qc.a.sum(t.tensor);Qc.a.divseq(t.tensor,n)}else{if(2!==t.tensor.shape.length)throw new Error("[activations.softmax] tensor shape ".concat(t.tensor.shape," not supported."));for(var r=0;r<t.tensor.shape[0];r++){var i=Qc.a.sup(t.tensor.pick(r,null));Qc.a.subseq(t.tensor.pick(r,null),i),Qc.a.expeq(t.tensor.pick(r,null));var o=Qc.a.sum(t.tensor.pick(r,null));Qc.a.divseq(t.tensor.pick(r,null),o)}}}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.alpha,r=void 0===n?1:n;al(t.tensor,r)}function P(t){sl(t.tensor)}function k(t){ul(t.tensor)}function C(t){cl(t.tensor)}function A(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.alpha,i=void 0===r?0:r,o=n.maxValue,a=void 0===o?null:o;0!==i&&(e=new nl([],t.tensor.shape),Qc.a.mins(e.tensor,t.tensor,0),Qc.a.mulseq(e.tensor,i)),Qc.a.maxseq(t.tensor,0),a&&Qc.a.minseq(t.tensor,a),e&&Qc.a.addeq(t.tensor,e.tensor)}function O(t){ll(t.tensor)}function E(t){pl(t.tensor)}function j(t){hl(t.tensor)}function F(t){return t}function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return e&&R(t.prototype,e),n&&R(t,n),t}function L(t,e){if(e&&("object"===M(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function B(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}function q(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function $(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e,n){return e&&X(t.prototype,e),n&&X(t,n),t}function K(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nt(t,e,n){return e&&et(t.prototype,e),n&&et(t,n),t}function rt(t,e){if(e&&("object"===Q(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t,e){return"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[".concat(t,"];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(").concat(e[0],") * outTex.y);\n  int out_x = int(float(").concat(e[1],") * outTex.x);\n  \n  outColor = vec4(").concat(Yc()(t).map(function(t){return"texelFetch(inputs[".concat(t,"], ivec2(out_x, out_y), 0).r")}).join(" + "),");\n}\n")}function st(t,e){return"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[".concat(t,"];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(").concat(e[0],") * outTex.y);\n  int out_x = int(float(").concat(e[1],") * outTex.x);\n  \n  outColor = vec4((").concat(Yc()(t).map(function(t){return"texelFetch(inputs[".concat(t,"], ivec2(out_x, out_y), 0).r")}).join(" + "),") / float(").concat(t,"));\n}\n")}function ut(t,e,n,r){var i=e.map(function(t){return t[r]}),o=Yc()(t+1).map(function(t){return kl()(Tl()(i,t))}),a=0===r?"out_y":"out_x",s="\n  int n = 0;\n  int offset = 0;\n  if (".concat(a," >= ").concat(o[1]," && ").concat(a," < ").concat(o[2],") {\n    n = 1;\n    offset = ").concat(o[1],";\n  }");t>2&&(s+="".concat(Yc()(2,t).map(function(t){return" else if (".concat(a," >= ").concat(o[t]," && ").concat(a," < ").concat(o[t+1],") {\n    n = ").concat(t,";\n    offset = ").concat(o[t],";\n  }")}).join(""),"\n"));var u="outColor = vec4(0.0);";if(0===r||1===r){var c=function(t){return"out_x".concat(1===r?" - ".concat(o[t]):"")},l=function(t){return"out_y".concat(0===r?" - ".concat(o[t]):"")};u="\n  if (n == 0) {\n    outColor = vec4(texelFetch(inputs[0], ivec2(out_x, out_y), 0).r);\n  }".concat(Yc()(1,t).map(function(t){return" else if (n == ".concat(t,") {\n    outColor = vec4(texelFetch(inputs[").concat(t,"], ivec2(").concat(c(t),", ").concat(l(t),"), 0).r);\n  }")}).join(""),"\n")}return"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[".concat(t,"];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(").concat(n[0],") * outTex.y);\n  int out_x = int(float(").concat(n[1],") * outTex.x);\n").concat(s,"\n").concat(u,"\n}\n")}function ct(t,e){return"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[".concat(t,"];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(").concat(e[0],") * outTex.y);\n  int out_x = int(float(").concat(e[1],") * outTex.x);\n\n  float val = texelFetch(inputs[0], ivec2(out_x, out_y), 0).r;\n  for (int i = 1; i < ").concat(t,"; i++) {\n    val = max(val, texelFetch(inputs[i], ivec2(out_x, out_y), 0).r);\n  }\n\n  outColor = vec4(val);\n}\n")}function lt(t,e){return"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[".concat(t,"];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(").concat(e[0],") * outTex.y);\n  int out_x = int(float(").concat(e[1],") * outTex.x);\n\n  float val = texelFetch(inputs[0], ivec2(out_x, out_y), 0).r;\n  for (int i = 1; i < ").concat(t,"; i++) {\n    val = min(val, texelFetch(inputs[i], ivec2(out_x, out_y), 0).r);\n  }\n\n  outColor = vec4(val);\n}\n")}function pt(t,e){return"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[".concat(t,"];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(").concat(e[0],") * outTex.y);\n  int out_x = int(float(").concat(e[1],") * outTex.x);\n\n  outColor = vec4(").concat(Yc()(t).map(function(t){return"texelFetch(inputs[".concat(t,"], ivec2(out_x, out_y), 0).r")}).join(" * "),");\n}\n")}function ht(t,e){return"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[2];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(".concat(e[0],") * outTex.y);\n  int out_x = int(float(").concat(e[1],") * outTex.x);\n  \n  outColor = vec4(texelFetch(inputs[0], ivec2(out_x, out_y), 0).r - texelFetch(inputs[1], ivec2(out_x, out_y), 0).r);\n}\n")}function ft(t,e,n,r,i){var o=r?"sum += texelFetch(bias, ivec2(out_x, 0), 0).r;":"",a=i?"int fragmentIndex = int(floor(float(rowIndex) / float(".concat(e[0],")));\n      rowIndex = int(mod(float(rowIndex), float(").concat(e[0],")));\n      colIndex += fragmentIndex * ").concat(e[1],";"):"";return"#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform sampler2D kernel;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(".concat(t[0],") * outTex.y);\n  int out_x = int(float(").concat(t[1],") * outTex.x);\n\n  float sum = 0.;\n  for (int i = 0; i < ").concat(n[1],"; ++i) {\n    int index = texelFetch(indexMap, ivec2(i, out_y), 0).r;    \n    if (index != -1) {\n      int rowIndex = int(floor(float(index) / float(").concat(e[1],")));\n      int colIndex = int(mod(float(index), float(").concat(e[1],")));\n      ").concat(a,"\n      sum += texelFetch(x, ivec2(colIndex, rowIndex), 0).r * texelFetch(kernel, ivec2(out_x, i), 0).r;\n    }\n  }\n\n  ").concat(o,"\n  outColor = vec4(sum);\n}   \n")}function dt(t,e,n,r,i){var o=r?"sum += texelFetch(bias, ivec2(out_x, 0), 0).r;":"",a=i?"int fragmentIndex = int(floor(float(rowIndex) / float(".concat(e[0],")));\n      rowIndex = int(mod(float(rowIndex), float(").concat(e[0],")));\n      colIndex += fragmentIndex * ").concat(e[1],";"):"";return"#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D matMulResult;\nuniform isampler2D indexMap;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(".concat(t[0],") * outTex.y);\n  int out_x = int(float(").concat(t[1],") * outTex.x);\n\n  float sum = 0.;\n  for (int n = 0; n < ").concat(n[1],"; ++n) {\n    int index = texelFetch(indexMap, ivec2(n, out_y), 0).r;\n    if (index != -1) {\n      int rowIndex = int(floor(float(index) / float(").concat(e[1],")));\n      int colIndex = int(mod(float(index), float(").concat(e[1],")));\n      ").concat(a,"\n      sum += texelFetch(matMulResult, ivec2(colIndex + out_x, rowIndex), 0).r;\n    }\n  }\n\n  ").concat(o,"\n  outColor = vec4(sum);\n}  \n")}function vt(t,e,n){return n?"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D featureMaps;\nuniform sampler2D weights;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(".concat(t[0],") * outTex.y);\n  int out_x = int(float(").concat(t[1],") * outTex.x);\n\n  int featureMapsRow = out_x + ").concat(t[0]," * out_y;\n\n  float sum = 0.;\n  for (int k = 0; k < ").concat(e,"; ++k) {\n    float f = texelFetch(featureMaps, ivec2(k, featureMapsRow), 0).r;\n    float w = texelFetch(weights, ivec2(k, 0), 0).r;\n    sum += f * w;\n  }\n\n  outColor = vec4(max(sum, 0.0));\n}  \n"):"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D featureMaps;\nuniform sampler2D weights;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(".concat(t[0],") * outTex.y);\n  int out_x = int(float(").concat(t[1],") * outTex.x);\n\n  float sum = 0.;\n  for (int k = 0; k < ").concat(e,"; ++k) {\n    float f = texelFetch(featureMaps, ivec2(k, out_y), 0).r;\n    float w = texelFetch(weights, ivec2(out_x, k), 0).r;\n    sum += f * w;\n  }\n\n  outColor = vec4(max(sum, 0.0));\n}  \n")}function mt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];switch(t){case"add":return at.apply(void 0,n);case"average":return st.apply(void 0,n);case"concatenate":return ut.apply(void 0,n);case"maximum":return ct.apply(void 0,n);case"minimum":return lt.apply(void 0,n);case"multiply":return pt.apply(void 0,n);case"subtract":return ht.apply(void 0,n);case"conv2d":return ft.apply(void 0,n);case"conv2dTranspose":return dt.apply(void 0,n);case"cam":return vt.apply(void 0,n);default:throw new Error("GLSL program not found")}}function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function _t(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return gt(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function bt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(t,e,n){return e&&wt(t.prototype,e),n&&wt(t,n),t}function Tt(t,e){if(e&&("object"===yt(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pt(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Pt(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function kt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e,n){return e&&Ot(t.prototype,e),n&&Ot(t,n),t}function jt(t,e){if(e&&("object"===Ct(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ft(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Mt(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function Dt(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return Rt(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(t,e,n){return e&&Ut(t.prototype,e),n&&Ut(t,n),t}function Nt(t,e){if(e&&("object"===It(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gt(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Gt(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function Bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function $t(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return Vt(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ht(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yt(t,e,n){return e&&Xt(t.prototype,e),n&&Xt(t,n),t}function Kt(t,e){if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jt(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Jt(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function Zt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function ee(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return te(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function ne(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oe(t,e,n){return e&&ie(t.prototype,e),n&&ie(t,n),t}function ae(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:se(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function ue(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function he(t,e,n){return e&&pe(t.prototype,e),n&&pe(t,n),t}function fe(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e,n){return e&&ye(t.prototype,e),n&&ye(t,n),t}function _e(t,e){if(e&&("object"===ve(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function be(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function xe(t){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Se(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t,e,n){return e&&Se(t.prototype,e),n&&Se(t,n),t}function Pe(t,e){if(e&&("object"===xe(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ke(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e,n){return e&&Oe(t.prototype,e),n&&Oe(t,n),t}function je(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e,n){return e&&Re(t.prototype,e),n&&Re(t,n),t}function Le(t,e){if(e&&("object"===Me(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ue(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(t,e,n){return e&&Ge(t.prototype,e),n&&Ge(t,n),t}function qe(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ve(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t,e,n){return e&&We(t.prototype,e),n&&We(t,n),t}function Ye(t,e){if(e&&("object"===$e(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ke(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Je(t){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tn(t,e,n){return e&&Qe(t.prototype,e),n&&Qe(t,n),t}function en(t,e){if(e&&("object"===Je(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function rn(t){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t,e,n){return e&&an(t.prototype,e),n&&an(t,n),t}function un(t,e){if(e&&("object"===rn(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fn(t,e,n){return e&&hn(t.prototype,e),n&&hn(t,n),t}function dn(t,e){if(e&&("object"===ln(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function mn(t){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _n(t,e,n){return e&&gn(t.prototype,e),n&&gn(t,n),t}function bn(t,e){if(e&&("object"===mn(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pn(t,e,n){return e&&Tn(t.prototype,e),n&&Tn(t,n),t}function kn(t,e){if(e&&("object"===wn(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function En(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jn(t,e,n){return e&&En(t.prototype,e),n&&En(t,n),t}function Fn(t,e){if(e&&("object"===An(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e,n){return e&&Dn(t.prototype,e),n&&Dn(t,n),t}function Un(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qn(t,e,n){return e&&Bn(t.prototype,e),n&&Bn(t,n),t}function Vn(t,e){if(e&&("object"===Nn(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Hn(t){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yn(t,e,n){return e&&Xn(t.prototype,e),n&&Xn(t,n),t}function Kn(t,e){if(e&&("object"===Hn(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nr(t,e,n){return e&&er(t.prototype,e),n&&er(t,n),t}function rr(t,e){if(e&&("object"===Zn(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ir(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function or(t){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ar(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cr(t,e,n){return e&&ur(t.prototype,e),n&&ur(t,n),t}function lr(t,e){if(e&&("object"===or(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function hr(t){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e,n){return e&&dr(t.prototype,e),n&&dr(t,n),t}function mr(t,e){if(e&&("object"===hr(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xr(t,e,n){return e&&br(t.prototype,e),n&&br(t,n),t}function wr(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Tr(t){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cr(t,e,n){return e&&kr(t.prototype,e),n&&kr(t,n),t}function Ar(t,e){if(e&&("object"===Tr(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Or(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mr(t,e,n){return e&&Fr(t.prototype,e),n&&Fr(t,n),t}function Ir(t,e){if(e&&("object"===Er(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rr(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Rr(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function Dr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Lr(t){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nr(t,e,n){return e&&zr(t.prototype,e),n&&zr(t,n),t}function Gr(t,e){if(e&&("object"===Lr(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Br(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Br(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function qr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Vr(t){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wr(t,e,n){return e&&Hr(t.prototype,e),n&&Hr(t,n),t}function Xr(t,e){if(e&&("object"===Vr(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yr(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Yr(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function Kr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ti(t,e,n){return e&&Qr(t.prototype,e),n&&Qr(t,n),t}function ei(t,e){if(e&&("object"===Jr(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ni(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:ni(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function ri(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ii(t){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function si(t,e,n){return e&&ai(t.prototype,e),n&&ai(t,n),t}function ui(t,e){if(e&&("object"===ii(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ci(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:ci(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function li(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function pi(t){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function di(t,e,n){return e&&fi(t.prototype,e),n&&fi(t,n),t}function vi(t,e){if(e&&("object"===pi(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mi(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:mi(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function yi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xi(t,e,n){return e&&bi(t.prototype,e),n&&bi(t,n),t}function wi(t,e){if(e&&("object"===gi(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Si(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ti(t){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ci(t,e,n){return e&&ki(t.prototype,e),n&&ki(t,n),t}function Ai(t,e){if(e&&("object"===Ti(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ji(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mi(t,e,n){return e&&Fi(t.prototype,e),n&&Fi(t,n),t}function Ii(t,e){if(e&&("object"===Ei(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ri(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Di(t){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ui(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zi(t,e,n){return e&&Ui(t.prototype,e),n&&Ui(t,n),t}function Ni(t,e){if(e&&("object"===Di(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Bi(t){return(Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qi(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function Vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hi(t,e,n){return e&&$i(t.prototype,e),n&&$i(t,n),t}function Wi(t,e){if(e&&("object"===Bi(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Yi(t){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zi(t,e,n){return e&&Ji(t.prototype,e),n&&Ji(t,n),t}function Qi(t,e){if(e&&("object"===Yi(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function to(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function eo(t){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ro(t,e){if(e&&("object"===eo(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function io(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function oo(t){return(oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ao(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function so(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return ao(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function uo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lo(t,e,n){return e&&co(t.prototype,e),n&&co(t,n),t}function po(t,e){if(e&&("object"===oo(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ho(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function fo(t){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mo(t,e){if(e&&("object"===fo(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function go(t){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function bo(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return _o(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function So(t,e,n){return e&&wo(t.prototype,e),n&&wo(t,n),t}function To(t,e){if(e&&("object"===go(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Po(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ko(t){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Co(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ao(t,e){if(e&&("object"===ko(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Eo(t){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fo(t,e){if(e&&("object"===Eo(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Io(t){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Do(t,e){if(e&&("object"===Io(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Uo(t){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function No(t,e){if(e&&("object"===Uo(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Go(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qo(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function Vo(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return qo(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function $o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ho(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wo(t,e,n){return e&&Ho(t.prototype,e),n&&Ho(t,n),t}function Xo(t,e){if(e&&("object"===Bo(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ko(t){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zo(t,e){if(e&&("object"===Ko(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qo(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ta(t){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ea(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function na(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return ea(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function ra(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oa(t,e,n){return e&&ia(t.prototype,e),n&&ia(t,n),t}function aa(t,e){if(e&&("object"===ta(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sa(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ua(t){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function la(t,e){if(e&&("object"===ua(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pa(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ha(t){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fa(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function da(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return fa(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function va(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ya(t,e,n){return e&&ma(t.prototype,e),n&&ma(t,n),t}function ga(t,e){if(e&&("object"===ha(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ba(t){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wa(t,e){if(e&&("object"===ba(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sa(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ta(t){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ka(t,e){if(e&&("object"===Ta(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ca(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Aa(t){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ea(t,e){if(e&&("object"===Aa(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ja(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Fa(t){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ma(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ia(t,e){if(e&&("object"===Fa(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ra(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Da(t){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function La(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function za(t,e,n){return e&&Ua(t.prototype,e),n&&Ua(t,n),t}function Na(t,e){if(e&&("object"===Da(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ga(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Ga(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function Ba(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function qa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Va(t){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wa(t,e,n){return e&&Ha(t.prototype,e),n&&Ha(t,n),t}function Xa(t,e){if(e&&("object"===Va(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ya(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:Ya(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function Ka(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ja(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Za(t){return(Za="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ts(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function es(t,e,n){return e&&ts(t.prototype,e),n&&ts(t,n),t}function ns(t,e){if(e&&("object"===Za(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:rs(i,e,n)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(n):void 0}function is(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function os(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function as(t){return(as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ss(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function us(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ls(t,e,n){return e&&cs(t.prototype,e),n&&cs(t,n),t}function ps(t,e){if(e&&("object"===as(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function fs(t){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ms(t,e,n){return e&&vs(t.prototype,e),n&&vs(t,n),t}function ys(t,e){if(e&&("object"===fs(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gs(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _s(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function bs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ws(t,e,n){return e&&xs(t.prototype,e),n&&xs(t,n),t}function Ss(t){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ts(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){function o(t,e){try{var n=u[t](e),o=n.value}catch(t){return void i(t)}n.done?r(o):Promise.resolve(o).then(a,s)}function a(t){o("next",t)}function s(t){o("throw",t)}var u=t.apply(e,n);a()})}}function Ps(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ks(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cs(t,e,n){return e&&ks(t.prototype,e),n&&ks(t,n),t}function As(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4,r=Tf()(kf()(t)),i=e;if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++){if(!wf()(r[o]))return!1;if(r[o]<i[o]-n||r[o]>i[o]+n)return!1}return!0}Object.defineProperty(e,"__esModule",{value:!0});var Os={};n.d(Os,"softmax",function(){return S}),n.d(Os,"elu",function(){return T}),n.d(Os,"selu",function(){return P}),n.d(Os,"softplus",function(){return k}),n.d(Os,"softsign",function(){return C}),n.d(Os,"relu",function(){return A}),n.d(Os,"tanh",function(){return O}),n.d(Os,"sigmoid",function(){return E}),n.d(Os,"hard_sigmoid",function(){return j}),n.d(Os,"linear",function(){return F});var Es={};n.d(Es,"softmax",function(){return Ol}),n.d(Es,"elu",function(){return El}),n.d(Es,"selu",function(){return jl}),n.d(Es,"softplus",function(){return Fl}),n.d(Es,"softsign",function(){return Ml}),n.d(Es,"relu",function(){return Il}),n.d(Es,"tanh",function(){return Rl}),n.d(Es,"sigmoid",function(){return Dl}),n.d(Es,"hard_sigmoid",function(){return Ll}),n.d(Es,"linear",function(){return Ul});var js={};n.d(js,"SimpleRNN",function(){return Lh}),n.d(js,"LSTM",function(){return $h}),n.d(js,"GRU",function(){return Qh});var Fs={};n.d(Fs,"InputLayer",function(){return rl}),n.d(Fs,"LeakyReLU",function(){return dl}),n.d(Fs,"PReLU",function(){return ml}),n.d(Fs,"ELU",function(){return gl}),n.d(Fs,"ThresholdedReLU",function(){return xl}),n.d(Fs,"Conv1D",function(){return $l}),n.d(Fs,"Conv2D",function(){return Bl}),n.d(Fs,"SeparableConv2D",function(){return Wl}),n.d(Fs,"Conv2DTranspose",function(){return Jl}),n.d(Fs,"Conv3D",function(){return ep}),n.d(Fs,"Cropping1D",function(){return rp}),n.d(Fs,"Cropping2D",function(){return op}),n.d(Fs,"Cropping3D",function(){return sp}),n.d(Fs,"UpSampling1D",function(){return cp}),n.d(Fs,"UpSampling2D",function(){return pp}),n.d(Fs,"UpSampling3D",function(){return fp}),n.d(Fs,"ZeroPadding1D",function(){return vp}),n.d(Fs,"ZeroPadding2D",function(){return yp}),n.d(Fs,"ZeroPadding3D",function(){return _p}),n.d(Fs,"Dense",function(){return wp}),n.d(Fs,"Activation",function(){return Sp}),n.d(Fs,"Dropout",function(){return Tp}),n.d(Fs,"SpatialDropout1D",function(){return Pp}),n.d(Fs,"SpatialDropout2D",function(){return kp}),n.d(Fs,"SpatialDropout3D",function(){return Cp}),n.d(Fs,"Flatten",function(){return Ep}),n.d(Fs,"Reshape",function(){return Ip}),n.d(Fs,"Permute",function(){return Dp}),n.d(Fs,"RepeatVector",function(){return Np}),n.d(Fs,"Embedding",function(){return Bp}),n.d(Fs,"Add",function(){return Vp}),n.d(Fs,"Subtract",function(){return $p}),n.d(Fs,"Multiply",function(){return Hp}),n.d(Fs,"Average",function(){return Wp}),n.d(Fs,"Maximum",function(){return Xp}),n.d(Fs,"Minimum",function(){return Yp}),n.d(Fs,"Concatenate",function(){return Zp}),n.d(Fs,"Dot",function(){return th}),n.d(Fs,"GaussianDropout",function(){return eh}),n.d(Fs,"GaussianNoise",function(){return nh}),n.d(Fs,"BatchNormalization",function(){return ih}),n.d(Fs,"MaxPooling1D",function(){return uh}),n.d(Fs,"MaxPooling2D",function(){return hh}),n.d(Fs,"MaxPooling3D",function(){return mh}),n.d(Fs,"AveragePooling1D",function(){return yh}),n.d(Fs,"AveragePooling2D",function(){return gh}),n.d(Fs,"AveragePooling3D",function(){return _h}),n.d(Fs,"GlobalMaxPooling1D",function(){return wh}),n.d(Fs,"GlobalMaxPooling2D",function(){return Ph}),n.d(Fs,"GlobalMaxPooling3D",function(){return Ah}),n.d(Fs,"GlobalAveragePooling1D",function(){return Oh}),n.d(Fs,"GlobalAveragePooling2D",function(){return Eh}),n.d(Fs,"GlobalAveragePooling3D",function(){return jh}),n.d(Fs,"SimpleRNN",function(){return Lh}),n.d(Fs,"LSTM",function(){return $h}),n.d(Fs,"GRU",function(){return Qh}),n.d(Fs,"TimeDistributed",function(){return af}),n.d(Fs,"Bidirectional",function(){return hf});var Ms={};n.d(Ms,"CAM",function(){return ff});var Is={};n.d(Is,"approxEquals",function(){return As});var Rs=n(169),Ds=(n.n(Rs),n(170)),Ls=(n.n(Ds),n(175)),Us=(n.n(Ls),n(176)),zs=(n.n(Us),n(177)),Ns=(n.n(zs),n(178)),Gs=(n.n(Ns),n(179)),Bs=(n.n(Gs),n(180)),qs=(n.n(Bs),n(181)),Vs=(n.n(qs),n(182)),$s=(n.n(Vs),n(183)),Hs=(n.n($s),n(185)),Ws=(n.n(Hs),n(186)),Xs=(n.n(Ws),n(187)),Ys=(n.n(Xs),n(188)),Ks=(n.n(Ys),n(189)),Js=(n.n(Ks),n(191)),Zs=(n.n(Js),n(192)),Qs=(n.n(Zs),n(193)),tu=(n.n(Qs),n(194)),eu=(n.n(tu),n(195)),nu=(n.n(eu),n(196)),ru=(n.n(nu),n(197)),iu=(n.n(ru),n(198)),ou=(n.n(iu),n(199)),au=(n.n(ou),n(200)),su=(n.n(au),n(201)),uu=(n.n(su),n(202)),cu=(n.n(uu),n(206)),lu=(n.n(cu),n(209)),pu=(n.n(lu),n(210)),hu=(n.n(pu),n(211)),fu=(n.n(hu),n(212)),du=(n.n(fu),n(213)),vu=(n.n(du),n(214)),mu=(n.n(vu),n(215)),yu=(n.n(mu),n(216)),gu=(n.n(yu),n(217)),_u=(n.n(gu),n(218)),bu=(n.n(_u),n(219)),xu=(n.n(bu),n(220)),wu=(n.n(xu),n(222)),Su=(n.n(wu),n(223)),Tu=(n.n(Su),n(224)),Pu=(n.n(Tu),n(225)),ku=(n.n(Pu),n(226)),Cu=(n.n(ku),n(228)),Au=(n.n(Cu),n(229)),Ou=(n.n(Au),n(230)),Eu=(n.n(Ou),n(231)),ju=(n.n(Eu),n(232)),Fu=(n.n(ju),n(234)),Mu=(n.n(Fu),n(235)),Iu=(n.n(Mu),n(236)),Ru=(n.n(Iu),n(237)),Du=(n.n(Ru),n(238)),Lu=(n.n(Du),n(239)),Uu=(n.n(Lu),n(240)),zu=(n.n(Uu),n(241)),Nu=(n.n(zu),n(242)),Gu=(n.n(Nu),n(243)),Bu=(n.n(Gu),n(91)),qu=(n.n(Bu),n(244)),Vu=(n.n(qu),n(245)),$u=(n.n(Vu),n(246)),Hu=(n.n($u),n(247)),Wu=(n.n(Hu),n(248)),Xu=(n.n(Wu),n(249)),Yu=(n.n(Xu),n(250)),Ku=(n.n(Yu),n(251)),Ju=(n.n(Ku),n(253)),Zu=(n.n(Ju),n(255)),Qu=(n.n(Zu),n(256)),tc=(n.n(Qu),n(257)),ec=(n.n(tc),n(258)),nc=(n.n(ec),n(259)),rc=(n.n(nc),n(260)),ic=(n.n(rc),n(261)),oc=(n.n(ic),n(262)),ac=(n.n(oc),n(264)),sc=(n.n(ac),n(265)),uc=(n.n(sc),n(266)),cc=(n.n(uc),n(267)),lc=(n.n(cc),n(268)),pc=(n.n(lc),n(269)),hc=(n.n(pc),n(270)),fc=(n.n(hc),n(271)),dc=(n.n(fc),n(272)),vc=(n.n(dc),n(273)),mc=(n.n(vc),n(274)),yc=(n.n(mc),n(275)),gc=(n.n(yc),n(276)),_c=(n.n(gc),n(277)),bc=(n.n(_c),n(278)),xc=(n.n(bc),n(279)),wc=(n.n(xc),n(280)),Sc=(n.n(wc),n(281)),Tc=(n.n(Sc),n(282)),Pc=(n.n(Tc),n(52)),kc=n.n(Pc),Cc=n(68),Ac=n.n(Cc),Oc=n(343),Ec=n.n(Oc),jc=n(364),Fc=n.n(jc),Mc=n(367),Ic=n.n(Mc),Rc=n(372),Dc=n.n(Rc),Lc=n(387),Uc=n.n(Lc),zc=n(390),Nc=n.n(zc),Gc=n(408),Bc=n.n(Gc),qc=n(409),Vc=(n.n(qc),function(){function t(){if(r(this,t),this.isSupported=!1,this.vertexShader=null,"undefined"!=typeof window){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("webgl2");var e=this.context;e?(this.isSupported=!0,e.getExtension("EXT_color_buffer_float"),this.MAX_TEXTURE_SIZE=e.getParameter(e.MAX_TEXTURE_SIZE),this.MAX_TEXTURE_IMAGE_UNITS=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.init()):console.log("Unable to initialize WebGL2 -- your browser may not support it.")}this._refs={textures:[],buffers:[]}}return o(t,[{key:"init",value:function(){this.createCommonVertexShader()}},{key:"createCommonVertexShader",value:function(){var t=this.context,e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,"#version 300 es\nprecision highp float;\n\nin vec3 position;\nin vec2 texcoord;\nout vec2 outTex;\n\nvoid main () {\n  gl_Position = vec4(position, 1.0);\n\toutTex = texcoord;\n}\n"),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)||(console.error(t.getShaderInfoLog(e)),t.deleteShader(e),this.isSupported=!1),this.vertexShader=e}},{key:"compileProgram",value:function(t){var e=this.context,n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,t),e.compileShader(n);var r=e.getShaderParameter(n,e.COMPILE_STATUS);r||(console.error(e.getShaderInfoLog(n)),e.deleteShader(n),this.isSupported=!1);var i=e.createProgram();return e.attachShader(i,this.vertexShader),e.attachShader(i,n),e.linkProgram(i),r=e.getProgramParameter(i,e.LINK_STATUS),r||(console.error(e.getProgramInfoLog(i)),this.isSupported=!1),this.setupVertices(i),i}},{key:"setupVertices",value:function(t){var e=this.context,n=e.getAttribLocation(t,"position"),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),this.storeRef("buffer",r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),e.STATIC_DRAW),e.vertexAttribPointer(n,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n);var i=e.getAttribLocation(t,"texcoord"),o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),e.STATIC_DRAW),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i),this.storeRef("buffer",o);var a=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),this.storeRef("buffer",a)}},{key:"selectProgram",value:function(t){this.context.useProgram(t)}},{key:"bindUniforms",value:function(t,e){var n=this.context;e.forEach(function(e){var r=e.value,i=e.type,o=e.name,a=n.getUniformLocation(t,o);"float"===i?n.uniform1f(a,r):"int"!==i&&"bool"!==i||n.uniform1i(a,r)})}},{key:"bindInputTextures",value:function(t,e,n){var r=this,i=this.context;e.forEach(function(e,o){var a=e.input,s=e.name;if(i.activeTexture(i.TEXTURE0+o),a.glTextureFragments)if(a.glTextureFragmentsAsColStack){var u=r.getWebGLTextureOptions(a.glTextureType,a.glTextureFormat),c=u.textureTarget;i.bindTexture(c,a.glTextureFragmentsAsColStack)}else{var l=r.getWebGLTextureOptions(a.glTextureType,a.glTextureFormat),p=l.textureTarget;i.bindTexture(p,a.glTextureFragments[n])}else{var h=r.getWebGLTextureOptions(a.glTextureType,a.glTextureFormat),f=h.textureTarget;i.bindTexture(f,a.glTexture)}i.uniform1i(i.getUniformLocation(t,s),o)})}},{key:"bindOutputTexture",value:function(t,e){var n=this.context;n.viewport(0,0,e[1],e[0]),this.framebuffer=this.framebuffer||n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0)}},{key:"runProgram",value:function(t){var e=t.program,n=t.output,r=t.inputs,i=t.uniforms,o=t.supportsTextureFragments,a=void 0!==o&&o;if(!e)throw new Error("[WebGL2] missing program");if(!n)throw new Error("[WebGL2] missing output");if(!r)throw new Error("[WebGL2] missing inputs");var s=this.context;if(this.selectProgram(e),i&&Array.isArray(i)&&this.bindUniforms(e,i),n.glTextureFragments){if(!a)throw new Error("[WebGL2] program does not support texture fragments");var u=r.filter(function(t){return t.input.glTextureFragments&&!t.input.glTextureFragmentsAsColStack}),c=n.glTextureFragments.length;if(u.some(function(t){return t.input.glTextureFragments.length!==c}))throw new Error("[WebGL2] number of texture fragments in inputs and output do not match");for(var l=0;l<c;l++)this.bindOutputTexture(n.glTextureFragments[l],n.glTextureFragmentShape),this.bindInputTextures(e,r,l),s.drawElements(s.TRIANGLES,6,s.UNSIGNED_SHORT,0)}else this.bindOutputTexture(n.glTexture,n.glTextureShape),this.bindInputTextures(e,r),s.drawElements(s.TRIANGLES,6,s.UNSIGNED_SHORT,0)}},{key:"readData",value:function(t){var e=this.context,n=new ArrayBuffer(t[0]*t[1]*4*4),r=new Float32Array(n);e.readPixels(0,0,t[1],t[0],e.RGBA,e.FLOAT,r);for(var i=[],o=0;o<r.length;o+=4)i.push(r[o]);return new Float32Array(i)}},{key:"getWebGLTextureOptions",value:function(t,e){var n=this.context;return{textureTarget:{"2d":n.TEXTURE_2D,"2d_array":n.TEXTURE_2D_ARRAY,"3d":n.TEXTURE_3D}[t],textureInternalFormat:{float:n.R32F,int:n.R32I}[e],textureFormat:{float:n.RED,int:n.RED_INTEGER}[e],textureType:{float:n.FLOAT,int:n.INT}[e]}}},{key:"storeRef",value:function(t,e){"texture"===t?this._refs.textures.push(e):"buffer"===t&&this._refs.buffers.push(e)}},{key:"clearRefs",value:function(){var t=this.context;this._refs.textures.forEach(function(e){return t.deleteTexture(e)}),this._refs.buffers.forEach(function(e){return t.deleteBuffer(e)}),this._refs={textures:[],buffers:[]}}}]),t}()),$c=new Vc,Hc=$c.MAX_TEXTURE_SIZE,Wc=($c.MAX_TEXTURE_IMAGE_UNITS,function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.layerClass="Layer",this.name=e.name,this.description="",this.gpu=$c.isSupported&&e.gpu,this.params=[],this.weights={},this.inbound=[],this.outbound=[]}return u(t,[{key:"throwError",value:function(t){throw new Error("[".concat(this.layerClass," layer: ").concat(this.name||"","] ").concat(t))}},{key:"toggleGPU",value:function(t){var e=void 0===t?!this.gpu:t;$c.isSupported&&e?this.gpu=!0:this.gpu=!1}},{key:"setWeights",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.params.forEach(function(r,i){e.weights[r]=t[i],e.gpu&&n&&e.weights[r].createGLTexture({type:"2d",format:"float"})})}},{key:"call",value:function(t){return this.output=t,this.output}}]),t}()),Xc=n(32),Yc=n.n(Xc),Kc=n(58),Jc=n.n(Kc),Zc=n(1),Qc=n.n(Zc),tl=n(160),el=n.n(tl),nl=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d(this,t),this.arrayType=r.type||Float32Array,e&&e.length&&(e instanceof this.arrayType||e instanceof Array)?(l(e,n),e instanceof this.arrayType?this.tensor=Jc()(e,n):e instanceof Array&&(this.tensor=Jc()(new this.arrayType(e),n))):!e.length&&n.length?this.tensor=Jc()(new this.arrayType(n.reduce(function(t,e){return t*e},1)),n):this.tensor=Jc()(new this.arrayType([]),[])}return m(t,[{key:"createGLTexture",value:function(t){var e=t.type,n=void 0===e?"2d":e,r=t.format,i=void 0===r?"float":r,o=t.supportsTextureFragments,a=void 0!==o&&o,s=[];if(1===this.tensor.shape.length)s=[1,this.tensor.shape[0]],this.is1D=!0;else if(2===this.tensor.shape.length)s=this.tensor.shape;else{if(3!==this.tensor.shape.length||"2d_array"!==n&&"3d"!==n)throw new Error("[Tensor] cannot create WebGL2 texture.");s=this.tensor.shape}if(this.glTextureShape=s,this.glTextureType=n,this.glTextureFormat=i,"2d"===n)this.glTextureShape[0]>Hc&&a?this._create2DRowFragmentedGLTexture():this._create2DGLTexture();else{if("2d_array"!==n&&"3d"!==n)throw new Error("[Tensor] invalid type ".concat(n,"."));this._create3DGLTexture()}}},{key:"_create2DGLTexture",value:function(){var t=$c.context,e=$c.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),n=e.textureTarget,r=e.textureInternalFormat,i=e.textureFormat,o=e.textureType;this.glTexture=t.createTexture(),$c.storeRef("texture",this.glTexture),t.bindTexture(n,this.glTexture);var a=this.glTextureShape,s=this.tensor.data;t.texImage2D(n,0,r,a[1],a[0],0,i,o,s),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}},{key:"_create2DRowFragmentedGLTexture",value:function(){var t=$c.context,e=$c.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),n=e.textureTarget,r=e.textureInternalFormat,i=e.textureFormat,o=e.textureType;this.glTextureFragments=[],this.glTextureFragmentShape=[Hc,this.glTextureShape[1]];for(var a=this.glTextureFragmentShape,s=Math.ceil(this.glTextureShape[0]/Hc),u=0,c=0;c<s;c++){var l=t.createTexture();$c.storeRef("texture",l),t.bindTexture(n,l);var p=void 0;c===s-1?(p=new this.arrayType(a[0]*a[1]),p.set(this.tensor.data.slice(u,u+a[0]*a[1]),0)):p=this.tensor.data.slice(u,u+a[0]*a[1]),t.texImage2D(n,0,r,a[1],a[0],0,i,o,p),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST),this.glTextureFragments.push(l),u+=a[0]*a[1]}}},{key:"_create3DGLTexture",value:function(){var t=$c.context,e=$c.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),n=e.textureTarget,r=e.textureInternalFormat,i=e.textureFormat,o=e.textureType;this.glTexture=t.createTexture(),$c.storeRef("texture",this.glTexture),t.bindTexture(n,this.glTexture);var a=this.glTextureShape,s=p(this.arrayType,this.tensor,this.glTextureShape);t.texImage3D(n,0,r,a[1],a[0],a[2],0,i,o,s),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}},{key:"convert2DRowFragmentedGLTextureToColStack",value:function(){var t=this;if(!this.glTextureFragments||!this.glTextureFragmentShape)throw new Error("[Tensor] no glTextureFragments available.");var e=$c.context,n=$c.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),r=n.textureTarget,i=n.textureInternalFormat,o=n.textureFormat,a=n.textureType;if(this.glTextureFragmentsAsColStack)e.bindTexture(r,this.glTextureFragmentsAsColStack);else{this.glTextureFragmentsAsColStack=e.createTexture(),$c.storeRef("texture",this.glTextureFragmentsAsColStack),e.bindTexture(r,this.glTextureFragmentsAsColStack);var s=this.glTextureFragments.length;this.glTextureFragmentsAsColStackShape=[this.glTextureFragmentShape[0],this.glTextureFragmentShape[1]*s];var u=this.glTextureFragmentsAsColStackShape,c=new this.arrayType(u.reduce(function(t,e){return t*e},1));e.texImage2D(r,0,i,u[1],u[0],0,o,a,c),e.texParameteri(r,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(r,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(r,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(r,e.TEXTURE_MIN_FILTER,e.NEAREST)}var l=e.createFramebuffer();e.bindFramebuffer(e.READ_FRAMEBUFFER,l),this.glTextureFragments.forEach(function(n,i){e.framebufferTexture2D(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.copyTexSubImage2D(r,0,i*t.glTextureFragmentShape[1],0,0,0,t.glTextureFragmentShape[1],t.glTextureFragmentShape[0])}),e.deleteFramebuffer(l)}},{key:"removeGLTextureFragmentsAsColStack",value:function(){this.glTextureFragmentsAsColStack&&($c.context.deleteTexture(this.glTextureFragmentsAsColStack),delete this.glTextureFragmentsAsColStack,delete this.glTextureFragmentsAsColStackShape)}},{key:"deleteGLTexture",value:function(){var t=$c.context;this.glTexture&&(t.deleteTexture(this.glTexture),delete this.glTexture),this.glTextureFragments&&(this.glTextureFragments.forEach(function(e){t.deleteTexture(e)}),delete this.glTextureFragments)}},{key:"replaceTensorData",value:function(t){if(t&&t.length&&t instanceof this.arrayType)this.tensor.data.set(t);else{if(!(t&&t.length&&t instanceof Array))throw new Error("[Tensor] invalid input for replaceTensorData method.");this.tensor.data.set(new this.arrayType(t))}if(this.glTexture){var e=$c.context,n=$c.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),r=n.textureTarget,i=n.textureFormat,o=n.textureType;e.bindTexture(r,this.glTexture);var a=this.glTextureShape;if("2d"===this.glTextureType){var s=this.tensor.data;e.texSubImage2D(r,0,0,0,a[1],a[0],i,o,s,0)}else if("2d_array"===this.glTextureType||"3d"===this.glTextureType){var u=p(this.arrayType,this.tensor,a);e.texSubImage3D(r,0,0,0,0,a[1],a[0],a[2],i,o,u,0)}}}},{key:"transferFromGLTexture",value:function(){if(this.glTextureFragments){this.tensor=Jc()(new this.arrayType(this.glTextureShape[0]*this.glTextureShape[1]),this.glTextureShape);for(var t=0,e=0;e<this.glTextureFragments.length;e++){$c.bindOutputTexture(this.glTextureFragments[e],this.glTextureFragmentShape);var n=$c.readData(this.glTextureFragmentShape);if(e===this.glTextureFragments.length-1){var r=this.tensor.data.length-t;this.tensor.data.set(n.subarray(0,r),t)}else this.tensor.data.set(n,t);t+=n.length}}else $c.bindOutputTexture(this.glTexture,this.glTextureShape),this.tensor=Jc()(new this.arrayType([]),this.glTextureShape),this.tensor.data=$c.readData(this.glTextureShape);this.is1D&&1===this.glTextureShape[0]&&(this.tensor=el()(this.tensor,[0]))}},{key:"reshapeTo2D",value:function(){for(var t=this.tensor.shape.length-1,e=this.tensor.shape[t],n=this.tensor.shape.slice(0,t),r=n.reduce(function(t,e){return t*e},1),i=Jc()(new this.arrayType(r*e),[r,e]),o=Jc()(new this.arrayType(r),n),a=Jc()(new this.arrayType(r),[r]),s=Array(this.tensor.shape.length).fill(null),u=0;u<e;u++){var c;s[t]=u,Qc.a.assign(o,(c=this.tensor).pick.apply(c,f(s))),a.data=o.data,Qc.a.assign(i.pick(null,u),a)}this.originalShape=this.tensor.shape,this.indicesForReshaped=h(this.tensor.shape,!1,t),this.tensor=i,this.is2DReshaped=!0}},{key:"reshapeFrom2D",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(!this.is2DReshaped)throw new Error("[Tensor] not in reshaped 2D representation.");if(!this.originalShape)throw new Error("[Tensor] does not contain originalShape.");t<0&&(t=this.originalShape.length+t);for(var e=this.tensor.shape[0],n=this.tensor.shape[1],r=Jc()(new this.arrayType(this.originalShape.reduce(function(t,e){return t*e},1)),this.originalShape),i=Jc()(new this.arrayType(e),[e]),o=f(this.originalShape.slice(0,t)).concat(f(this.originalShape.slice(t+1))),a=Jc()(new this.arrayType(o.reduce(function(t,e){return t*e},1)),o),s=Array(this.originalShape.length).fill(null),u=0;u<n;u++)Qc.a.assign(i,this.tensor.pick(null,u)),a.data=i.data,s[t]=u,Qc.a.assign(r.pick.apply(r,f(s)),a);this.tensor=r}},{key:"reshapeTo2DSquare",value:function(){var t=Math.ceil(Math.sqrt(this.tensor.size)),e=Jc()(new this.arrayType(Math.pow(t,2)),[t,t]);e.data.set(this.tensor.data),this.originalShape=this.tensor.shape,this.indicesForReshaped=h(this.tensor.shape,!0),this.tensor=e,this.is2DSquareReshaped=!0}},{key:"reshapeFrom2DSquare",value:function(){if(!this.is2DSquareReshaped)throw new Error("[Tensor] not in reshaped 2D square representation.");if(!this.originalShape)throw new Error("[Tensor] does not contain originalShape.");var t=this.originalShape.reduce(function(t,e){return t*e},1),e=Jc()(new this.arrayType(t),this.originalShape);e.data.set(this.tensor.data.subarray(0,t)),this.tensor=e}}]),t}(),rl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,e),t=x(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="InputLayer";var r=n.shape,i=void 0===r?[]:r;return t.shape=n.batch_input_shape&&n.batch_input_shape.length?n.batch_input_shape.slice(1):i,t.description="shape: ".concat(JSON.stringify(t.shape)),t}return w(e,t),b(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,Ac()(this.inputShape,this.shape)||this.throwError("input tensor shape ".concat(t.tensor.shape," does not match specified shape ").concat(this.shape,".")),this.output=new nl(t.tensor.data,t.tensor.shape)}},{key:"_callGPU",value:function(t){(t.glTexture||t.glTextureFragments)&&(t.is2DReshaped||t.is2DSquareReshaped)?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape,Ac()(this.inputShape,this.shape)||this.throwError("input tensor shape ".concat(t.tensor.shape," does not match specified shape ").concat(this.shape,".")),t.glTexture||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}):t.tensor.shape.length>2&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}))),this.output=t}}]),e}(Wc),il=n(8),ol=n.n(il),al=ol()({args:["array","scalar"],body:function(t,e){t=Math.max(t,0)+e*(Math.exp(Math.min(t,0))-1)}}),sl=ol()({args:["array","scalar"],body:function(t){t=1.0507009873554805*(Math.max(t,0)+1.6732632423543772*(Math.exp(Math.min(t,0))-1))}}),ul=ol()({args:["array"],body:function(t){t=Math.log(Math.exp(t)+1)}}),cl=ol()({args:["array"],body:function(t){t/=1+Math.abs(t)}}),ll=ol()({args:["array"],body:function(t){t=Math.tanh(t)}}),pl=ol()({args:["array"],body:function(t){t=1/(1+Math.exp(-t))}}),hl=ol()({args:["array"],body:function(t){t=.2*t+.5,t<=0?t=0:t>=1&&(t=1)}}),fl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * min(v, 0.0);\n}\n",dl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};I(this,e),t=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="LeakyReLU";var r=n.alpha,i=void 0===r?.3:r;return t.description="alpha: ".concat(i),t.alpha=i,t.gpu&&(t.program=$c.compileProgram(fl)),t}return U(e,t),D(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.output=t,A(this.output,{alpha:this.alpha})}},{key:"_callGPU",value:function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new nl([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),$c.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.alpha,type:"float",name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),vl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  vec4 a = texture(alpha, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + a * min(v, 0.0);\n}\n",ml=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N(this,e),t=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),Object.defineProperty($(t),"_compute",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","array"],body:function(t,e){t=Math.max(t,0)+e*Math.min(t,0)}})}),t.layerClass="PReLU",t.params=["alpha"],t.gpu&&(t.program=$c.compileProgram(vl)),t}return V(e,t),B(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.output=t,this._compute(this.output.tensor,this.weights.alpha.tensor)}},{key:"_callGPU",value:function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new nl([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),$c.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"},{input:this.weights.alpha,name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),yl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0);\n}\n",gl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W(this,e),t=K(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),_l.call(Z(t)),t.layerClass="ELU";var r=n.alpha,i=void 0===r?1:r;return t.description="alpha: ".concat(i),t.alpha=i,t.gpu&&(t.program=$c.compileProgram(yl)),t}return J(e,t),Y(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.output=t,this._compute(this.output.tensor,this.alpha)}},{key:"_callGPU",value:function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new nl([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),$c.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.alpha,type:"float",name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),_l=function(){Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","scalar"],body:function(t,e){t=Math.max(t,0)+e*(Math.exp(Math.min(t,0))-1)}})})},bl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float theta;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = v * float(greaterThan(v, vec4(theta)));\n}\n",xl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tt(this,e),t=rt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),wl.call(ot(t)),t.layerClass="ThresholdedReLU";var r=n.theta,i=void 0===r?1:r;return t.description="theta: ".concat(i),t.theta=i,t.gpu&&(t.program=$c.compileProgram(bl)),t}return it(e,t),nt(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.output=t,this._compute(this.output.tensor,this.theta)}},{key:"_callGPU",value:function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new nl([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),$c.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.theta,type:"float",name:"theta"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),wl=function(){Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","scalar"],body:function(t,e){t*=Number(t>e)}})})},Sl=n(417),Tl=n.n(Sl),Pl=n(161),kl=n.n(Pl),Cl=n(46),Al=n.n(Cl),Ol="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float maxval = 0.0;\n  for (int i = 0; i < int(size[0]); ++i) {\n    float val = texelFetch(x, ivec2(i, out_y), 0).r;\n    if (i == 0 || val > maxval) {\n      maxval = val;\n    }\n  }\n\n  float sum = 0.0;\n  for (int i = 0; i < int(size[0]); ++i) {\n    float val = texelFetch(x, ivec2(i, out_y), 0).r;\n    sum += exp(val - maxval);\n  }\n\n  outColor = exp(texture(x, vec2(outTex.x, outTex.y)) - maxval) / sum;\n}\n",El="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  float alpha = 1.0;\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0);\n}\n",jl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  float alpha = 1.6732632423543772848170429916717;\n  float scale = 1.0507009873554804934193349852946;\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = scale * (max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0));\n}\n",Fl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = log(1.0 + exp(texture(x, vec2(outTex.x, outTex.y))));\n}\n",Ml="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  v /= 1.0 + abs(v);\n  outColor = v;\n}\n",Il="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0);\n}\n",Rl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = tanh(v);\n}\n",Dl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = 1.0 / (1.0 + exp(-1.0 * texture(x, vec2(outTex.x, outTex.y))));\n}\n",Ll="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  v = v * 0.2 + 0.5;\n  v = max(v, 0.0);\n  v = min(v, 1.0);\n  outColor = v;\n}\n",Ul="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(x, vec2(outTex.x, outTex.y));\n}\n",zl="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",Nl="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(indexMap, 0);\n  int out_x = int(float(outputSize[0]) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    int fragmentIndex = int(floor(float(rowIndex) / float(inputSize[1])));\n    rowIndex = int(mod(float(rowIndex), float(inputSize[1])));\n    colIndex = fragmentIndex * inputCols + colIndex;\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",Gl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",Bl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xt(this,e),t=Tt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Conv2D";var r=n.filters,i=void 0===r?1:r,o=n.kernel_size,a=void 0===o?[3,3]:o,s=n.strides,u=void 0===s?[1,1]:s,c=n.padding,l=void 0===c?"valid":c,p=n.data_format,h=void 0===p?"channels_last":p,f=n.dilation_rate,d=void 0===f?[1,1]:f,v=n.activation,m=void 0===v?"linear":v,y=n.use_bias,g=void 0===y||y;return Array.isArray(a)?t.kernelShape=[i].concat(bt(a)):t.kernelShape=[i,a,a],Array.isArray(u)?t.strides=u:t.strides=[u,u],"valid"===l||"same"===l?t.padding=l:t.throwError("Invalid padding."),"channels_last"===h||"channels_first"===h?t.dataFormat=h:t.throwError("Only channels_last and channels_first data formats are allowed."),Array.isArray(d)?t.dilationRate=d:t.dilationRate=[d,d],1===t.dilationRate[0]&&1===t.dilationRate[1]||1===t.strides[0]&&1===t.strides[1]||t.throwError("Incompatible combination of dilation_rate with strides."),t.activation=m,t.activationFunc=Os[m],t.useBias=g,t.params=t.useBias?["kernel","bias"]:["kernel"],t.description="".concat(t.kernelShape[0]," ").concat(t.kernelShape.slice(1).join("x")," filters"),t.description+=t.strides.some(function(t){return t>1})?", ".concat(t.strides.join("x")," striding"):"",t.description+="valid"===t.padding?", no border padding":", pad to same borders",t.description+=t.dilationRate.some(function(t){return t>1})?", ".concat(t.dilationRate.join("x")," dilation"):"",t.description+="linear"!==t.activation?", ".concat(t.activation," activation"):"",t.gpu&&(t.mapInputProgram=$c.compileProgram(zl),t.mapInputFragmentsProgram=$c.compileProgram(Nl),t.matMulProgram=$c.compileProgram(Gl),t.activationProgram=$c.compileProgram(Es[t.activation])),t}return kt(e,t),St(e,[{key:"setWeights",value:function(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,1,0)),Pt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setWeights",this).call(this,t,!1),this._w2row(),this.gpu&&(this.weights.kernel=this.wRowsMat,this.weights.kernel.createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_calcOutputShape",value:function(t){if(!this.outputShape||!this.inputPadding){var e=t[0],n=t[1],r=_t(this.kernelShape,3),i=r[0],o=r[1],a=r[2],s=o+(o-1)*(this.dilationRate[0]-1),u=a+(a-1)*(this.dilationRate[1]-1),c="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-s+this.strides[0])/this.strides[0]),l="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-u+this.strides[1])/this.strides[1]),p=i,h="same"===this.padding?Math.max(0,Math.floor((c-1)*this.strides[0]+s-e)):0,f="same"===this.padding?Math.max(0,Math.floor((l-1)*this.strides[1]+u-n)):0,d=Math.floor(h/2),v=h-d,m=Math.floor(f/2),y=f-m;this.outputShape=[c,l,p],this.inputPadding=[d,v,m,y]}}},{key:"_padInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("same"===this.padding){var n=_t(t.tensor.shape,3),r=n[0],i=n[1],o=n[2],a=_t(this.inputPadding,4),s=a[0],u=a[1],c=a[2],l=a[3],p=r+s+u,h=i+c+l,f=new nl([],[p,h,o]);return 0!==e&&Qc.a.assigns(f.tensor,e),Qc.a.assign(f.tensor.hi(r+s,i+c,o).lo(s,c,0),t.tensor),f}return t}},{key:"_im2col",value:function(t){var e=_t(t.tensor.shape,3),n=e[0],r=e[1],i=e[2],o=this.kernelShape[1],a=this.kernelShape[2],s=this.outputShape[0],u=this.outputShape[1],c=s*u,l=o*a*i,p=o+(o-1)*(this.dilationRate[0]-1),h=a+(a-1)*(this.dilationRate[1]-1);if(this.imColsMat||(this.imColsMat=new nl([],[c,l])),1===p&&1===h&&1===this.strides[0]&&1===this.strides[1])return this.imColsMat.replaceTensorData(t.tensor.data),this.imColsMat;for(var f=new nl([],[o,a,i]),d=0,v=0,m=n-p;v<=m;v+=this.strides[0])for(var y=0,g=r-h;y<=g;y+=this.strides[1])Qc.a.assign(f.tensor,t.tensor.hi(v+p,y+h,i).lo(v,y,0).step(this.dilationRate[0],this.dilationRate[1],1)),this.imColsMat.tensor.data.set(f.tensor.data,d),d+=l;return this.imColsMat}},{key:"_w2row",value:function(){var t=this.weights.kernel.tensor.shape[2],e=_t(this.kernelShape,3),n=e[0],r=e[1],i=e[2],o=r*i*t;this.wRowsMat=new nl([],[o,n]);for(var a=new nl([],[r,i,t]),s=new nl([],[o]),u=0;u<n;u++)Qc.a.assign(a.tensor,this.weights.kernel.tensor.pick(null,null,null,u)),s.replaceTensorData(a.tensor.data),Qc.a.assign(this.wRowsMat.tensor.pick(null,u),s.tensor);return this.wRowsMat}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t);var e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],i=n*r,o=new nl([],[i,e]);if(this.useBias)for(var a=0;a<e;a++)Qc.a.assigns(o.tensor.pick(null,a),this.weights.bias.tensor.get(a));Al()(o.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new nl([],this.outputShape);for(var s=new nl([],[n*r]),u=new nl([],[n,r]),c=0;c<e;c++)Qc.a.assign(s.tensor,o.tensor.pick(null,c)),u.replaceTensorData(s.tensor.data),Qc.a.assign(this.output.tensor.pick(null,null,c),u.tensor);this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}},{key:"_createIndexMap",value:function(t){if(!this.indexMap){var e=_t(this.inputShape,3),n=e[0],r=e[1],i=e[2],o=new nl(t.data,t.shape,{type:Int32Array});if("same"===this.padding){var a=_t(this.inputPadding,4),s=a[0],u=a[1],c=a[2],l=a[3];n=n+s+u,r=r+c+l;o=this._padInput(o,-1)}var p=this.kernelShape[1],h=this.kernelShape[2],f=this.outputShape[0],d=this.outputShape[1],v=f*d,m=p*h*i,y=p+(p-1)*(this.dilationRate[0]-1),g=h+(h-1)*(this.dilationRate[1]-1);this.indexMap=new nl([],[v,m],{type:Int32Array});for(var _=new nl([],[p,h,i]),b=0,x=0,w=n-y;x<=w;x+=this.strides[0])for(var S=0,T=r-g;S<=T;S+=this.strides[1])Qc.a.assign(_.tensor,o.tensor.hi(x+y,S+g,i).lo(x,S,0).step(this.dilationRate[0],this.dilationRate[1],1)),this.indexMap.tensor.data.set(_.tensor.data,b),b+=m;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){var e;if(t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape),this._createIndexMap(t.indicesForReshaped),e=[this.indexMap.glTextureShape[0],this.weights.kernel.glTextureShape[1]]):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t),this.imColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),e=[this.imColsMat.glTextureShape[0],this.weights.kernel.glTextureShape[1]]),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new nl([],e),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=h(this.outputShape,!1,-1)),this.output||(this.output=new nl([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=h(this.outputShape,!1,-1)),t.is2DReshaped||t.is2DSquareReshaped){var n=Boolean(t.glTextureFragments);if(n&&t.convert2DRowFragmentedGLTextureToColStack(),!this.convProgram){var r=mt("conv2d",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,t.glTextureFragmentShape?t.glTextureFragmentShape:t.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,n);this.convProgram=$c.compileProgram(r)}$c.runProgram({program:this.convProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"},{input:this.weights.kernel,name:"kernel"}].concat(bt(this.useBias?[{input:this.weights.bias,name:"bias"}]:[])),supportsTextureFragments:!0}),n&&t.removeGLTextureFragmentsAsColStack()}else{var i=[{input:this.imColsMat,name:"A"},{input:this.weights.kernel,name:"B"}];this.useBias&&i.push({input:this.weights.bias,name:"C"}),$c.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:i,uniforms:[{value:this.useBias?1:0,type:"bool",name:"addC"}],supportsTextureFragments:!0})}"linear"!==this.activation&&$c.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}]),e}(Wc),ql=n(162),Vl=n.n(ql),$l=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};At(this,e),t=jt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Conv1D";var r=n.filters,i=void 0===r?1:r,o=n.kernel_size,a=void 0===o?1:o,s=n.strides,u=void 0===s?1:s,c=n.padding,l=void 0===c?"valid":c,p=n.dilation_rate,h=void 0===p?1:p,f=n.activation,d=void 0===f?"linear":f,v=n.use_bias,m=void 0===v||v;t.description="".concat(i," filters of size ").concat(a,", striding ").concat(u),t.description+="valid"===l?", no border padding":", pad to same borders",t.description+=h>1?", dilation rate ".concat(h):"",t.description+="linear"!==d?", ".concat(d," activation"):"","valid"!==l&&"same"!==l&&t.throwError("Invalid padding."),1!==h&&1!==u&&t.throwError("Incompatible combination of dilation_rate with strides."),t.use_bias=m,t.params=t.use_bias?["kernel","bias"]:["kernel"];var y={filters:i,kernel_size:[a,1],strides:[u,1],padding:l,data_format:"channels_first",dilation_rate:h,activation:d,use_bias:m};return t._conv2dAttrs=y,t._conv2d=new Bl(Object.assign(y,{gpu:n.gpu})),t}return Ft(e,t),Et(e,[{key:"setWeights",value:function(t){t[0].tensor=Vl()(t[0].tensor).transpose(2,1,0,3),this._conv2d.setWeights(t)}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){var e=this,n=new nl(t.tensor.data,t.tensor.shape);n.tensor=Vl()(n.tensor).transpose(0,2,1);var r=this._conv2d.call(n);this.outputShape=[0,2].map(function(t){return e._conv2d.outputShape[t]}),this.output=new nl([],this.outputShape),Qc.a.assign(this.output.tensor,el()(r.tensor).transpose(1,0,2))}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});var e=t.tensor.shape,n=new nl([],e);Object.assign(n,t),n.glTextureShape=e,n.is2DReshaped=!0,n.originalShape=[e[0],1,e[1]],n.indicesForReshaped=h(n.originalShape,!1,-1),this.output=this._conv2d.call(n),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),Hl=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Lt(this,e),Nt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return Bt(e,t),zt(e,[{key:"_calcOutputShape",value:function(t){Gt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_calcOutputShape",this).call(this,t);var n=this.kernelShape[0],r=t[2];this.outputShape[2]=n*r}},{key:"_im2col",value:function(t){var e=Dt(t.tensor.shape,3),n=e[0],r=e[1],i=e[2],o=this.kernelShape[1],a=this.kernelShape[2],s=this.outputShape[0],u=this.outputShape[1],c=s*u,l=o*a;this.imColsMat||(this.imColsMat=new nl([],[c*i,l]));for(var p=new nl([],[o,a,1]),h=0,f=0;f<i;f++)for(var d=0,v=n-o;d<=v;d+=this.strides[0])for(var m=0,y=r-a;m<=y;m+=this.strides[1])Qc.a.assign(p.tensor,t.tensor.hi(d+o,m+a,f+1).lo(d,m,f)),this.imColsMat.tensor.data.set(p.tensor.data,h),h+=l;return this.imColsMat}},{key:"_w2row",value:function(){var t=this.weights.kernel.tensor.shape[2],e=Dt(this.kernelShape,3),n=e[0],r=e[1],i=e[2],o=r*i;this.wRowsMat=new nl([],[o,n*t]);for(var a=new nl([],[r,i]),s=new nl([],[o]),u=0,c=0;c<t;c++)for(var l=0;l<n;l++)Qc.a.assign(a.tensor,this.weights.kernel.tensor.pick(null,null,c,l)),s.replaceTensorData(a.tensor.data),Qc.a.assign(this.wRowsMat.tensor.pick(null,u),s.tensor),u+=1;return this.wRowsMat}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t);var e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],i=n*r,o=this.inputShape[2],a=new nl([],[i*o,e*o]);Al()(a.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new nl([],this.outputShape);for(var s=n*r*e*o,u=new Float32Array(s),c=0;c<o;c++)for(var l=c*s+c*e;l<(c+1)*s;l+=e*o)for(var p=0;p<e;p++)u[l+p-c*s]=a.tensor.data[l+p];this.output.replaceTensorData(u)}},{key:"_createIndexMap",value:function(t){if(!this.indexMap){var e=Dt(this.inputShape,3),n=e[0],r=e[1],i=e[2],o=new nl(t.data,t.shape,{type:Int32Array});if("same"===this.padding){var a=Dt(this.inputPadding,4),s=a[0],u=a[1],c=a[2],l=a[3];n=n+s+u,r=r+c+l;o=this._padInput(o,-1)}var p=this.kernelShape[1],h=this.kernelShape[2],f=this.outputShape[0],d=this.outputShape[1],v=f*d,m=p*h;this.indexMap=new nl([],[v*i,m],{type:Int32Array});for(var y=new nl([],[p,h,1]),g=0,_=0;_<i;_++)for(var b=0,x=n-p;b<=x;b+=this.strides[0])for(var w=0,S=r-h;w<=S;w+=this.strides[1])Qc.a.assign(y.tensor,o.tensor.hi(b+p,w+h,_+1).lo(b,w,_)),this.indexMap.tensor.data.set(y.tensor.data,g),g+=m;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_createOutputReshapeIndexMap",value:function(){if(!this.reshapeIndexMap){var t=this.kernelShape[0],e=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]],n=new nl([],e,{type:Int32Array}),r=new nl([],e,{type:Int32Array});this.reshapeIndexMap=new nl([],e,{type:Int32Array});for(var i=0;i<e[1];i++)for(var o=0;o<e[0];o++)Qc.a.assigns(n.tensor.pick(o,i),o+Math.floor(i/t)*e[0]);for(var a=0;a<e[1];a++)Qc.a.assigns(r.tensor.pick(null,a),a);Qc.a.muls(this.reshapeIndexMap.tensor,n.tensor,e[1]),Qc.a.addeq(this.reshapeIndexMap.tensor,r.tensor),this.reshapeIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){if(Gt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_callGPU",this).call(this,t),this._createOutputReshapeIndexMap(),!this.outputReshaped){var n=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]];this.outputReshaped=new nl([],n),this.outputReshaped.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputReshaped.is2DReshaped=!0,this.outputReshaped.originalShape=this.outputShape,this.outputReshaped.indicesForReshaped=h(this.outputShape,!1,-1)}this.output.glTextureFragments&&this.output.convert2DRowFragmentedGLTextureToColStack(),$c.runProgram({program:this.output.glTextureFragments?this.mapInputFragmentsProgram:this.mapInputProgram,output:this.outputReshaped,inputs:[{input:this.output,name:"x"},{input:this.reshapeIndexMap,name:"indexMap"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),this.output.glTextureFragments&&this.output.removeGLTextureFragmentsAsColStack()}}]),e}(Bl),Wl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Lt(this,e),t=Nt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="SeparableConv2D";var r=n.filters,i=void 0===r?1:r,o=n.kernel_size,a=void 0===o?[1,1]:o,s=n.strides,u=void 0===s?[1,1]:s,c=n.padding,l=void 0===c?"valid":c,p=n.data_format,h=void 0===p?"channels_last":p,f=n.depth_multiplier,d=void 0===f?1:f,v=n.activation,m=void 0===v?"linear":v,y=n.use_bias,g=void 0===y||y;return Array.isArray(a)?t.kernelShape=[i].concat(Mt(a)):t.kernelShape=[i,a,a],Array.isArray(u)?t.strides=u:t.strides=[u,u],"valid"===l||"same"===l?t.padding=l:t.throwError("Invalid padding."),"channels_last"===h||"channels_first"===h?t.dataFormat=h:t.throwError("Only channels_last and channels_first data formats are allowed."),t.activation=m,t.activationFunc=Os[m],"valid"===l||"same"===l?t.padding=l:t.throwError("Invalid padding."),t.useBias=g,t.params=t.useBias?["depthwise_kernel","pointwise_kernel","bias"]:["depthwise_kernel","pointwise_kernel"],t.depthwiseConvAttrs={filters:d,kernel_size:[t.kernelShape[1],t.kernelShape[2]],strides:t.strides,padding:l,data_format:h,activation:"linear",use_bias:!1,gpu:n.gpu},t.pointwiseConvAttrs={filters:i,kernel_size:[1,1],strides:[1,1],padding:l,data_format:h,activation:"linear",use_bias:g,gpu:n.gpu},t.description="".concat(t.kernelShape[0]," ").concat(t.kernelShape.slice(1).join("x")," filters"),t.description+=t.strides.some(function(t){return t>1})?", ".concat(t.strides.join("x")," striding"):"",t.description+="valid"===t.padding?", no border padding":", pad to same borders",t.description+=d>1?", depth multiplier: ".concat(d):"",t.description+="linear"!==t.activation?", ".concat(t.activation," activation"):"",t.gpu&&(t.activationProgram=$c.compileProgram(Es[t.activation])),t}return Bt(e,t),zt(e,[{key:"setWeights",value:function(t){this._depthwiseConv=new Hl(this.depthwiseConvAttrs),this._depthwiseConv.setWeights(t.slice(0,1)),this._pointwiseConv=new Bl(this.pointwiseConvAttrs),this._pointwiseConv.setWeights(t.slice(1,3))}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this._depthwiseConv._callCPU(t),this._pointwiseConv._callCPU(this._depthwiseConv.output),this.output=this._pointwiseConv.output,this.activationFunc(this.output)}},{key:"_callGPU",value:function(t){this._depthwiseConv.outbound=[null],this._pointwiseConv.outbound=[null],this._depthwiseConv._callGPU(t),this._pointwiseConv._callGPU(this._depthwiseConv.outputReshaped),"linear"===this.activation?this.output=this._pointwiseConv.output:(this.output||(this.output=new nl([],this._pointwiseConv.output.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this._pointwiseConv.output.originalShape,this.output.indicesForReshaped=h(this._pointwiseConv.output.originalShape,!1,-1)),this.outputPreactiv=this._pointwiseConv.output,$c.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0})),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}]),e}(Wc),Xl="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",Yl=ol()({args:[{blockIndices:-1},"scalar","scalar"],body:function(t,e,n){for(var r=0;r<n;r++)if(-1===t[r]){t[r]=e;break}}}),Kl=ol()({args:[{blockIndices:-1},"array","scalar"],body:function(t,e,n){for(var r=0;r<n;r++)if(-1===t[r]){t[r]=e;break}}}),Jl=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Wt(this,e),t=Kt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Conv2DTranspose";var r=n.filters,i=void 0===r?1:r,o=n.kernel_size,a=void 0===o?[3,3]:o,s=n.strides,u=void 0===s?[1,1]:s,c=n.padding,l=void 0===c?"valid":c,p=n.data_format,h=void 0===p?"channels_last":p,f=n.activation,d=void 0===f?"linear":f,v=n.use_bias,m=void 0===v||v;return Array.isArray(a)?t.kernelShape=[i].concat(Ht(a)):t.kernelShape=[i,a,a],Array.isArray(u)?t.strides=u:t.strides=[u,u],"valid"===l||"same"===l?t.padding=l:t.throwError("Invalid padding."),"channels_last"===h||"channels_first"===h?t.dataFormat=h:t.throwError("Only channels_last and channels_first data formats are allowed."),t.activation=d,t.activationFunc=Os[d],t.useBias=m,t.params=t.useBias?["kernel","bias"]:["kernel"],t.description="".concat(t.kernelShape[0]," ").concat(t.kernelShape.slice(1).join("x")," filters"),t.description+=t.strides.some(function(t){return t>1})?", ".concat(t.strides.join("x")," striding"):"",t.description+="valid"===t.padding?", no border padding":", pad to same borders",t.description+="linear"!==t.activation?", ".concat(t.activation," activation"):"",t.gpu&&(t.matMulProgram=$c.compileProgram(Xl),t.activationProgram=$c.compileProgram(Es[t.activation])),t}return Zt(e,t),Yt(e,[{key:"setWeights",value:function(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,1,0)),Jt(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setWeights",this).call(this,t,!1),this._w2row(),this.gpu&&(this.weights.kernel=this.wRowsMat,this.weights.kernel.createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_calcOutputShape",value:function(t){if(!this.outputShape||!this.outputPadding){var e=t[0],n=t[1],r=$t(this.kernelShape,3),i=r[0],o=r[1],a=r[2],s="same"===this.padding?e*this.strides[0]:e*this.strides[0]+Math.max(o-this.strides[0],0),u="same"===this.padding?n*this.strides[1]:n*this.strides[1]+Math.max(a-this.strides[1],0),c=i,l="same"===this.padding?Math.max(0,Math.floor((e-1)*this.strides[0]+o-s)):0,p="same"===this.padding?Math.max(0,Math.floor((n-1)*this.strides[1]+a-u)):0,h=Math.floor(l/2),f=l-h,d=Math.floor(p/2),v=p-d;this.outputShape=[s,u,c],this.outputPadding=[h,f,d,v]}}},{key:"_im2col",value:function(t){var e=$t(t.tensor.shape,3),n=e[0],r=e[1],i=e[2];this.imColsMat||(this.imColsMat=new nl([],[n*r,i]));for(var o=new nl([],[n*r]),a=new nl([],[n,r]),s=0;s<i;s++)Qc.a.assign(a.tensor,t.tensor.pick(null,null,s)),o.replaceTensorData(a.tensor.data),Qc.a.assign(this.imColsMat.tensor.pick(null,s),o.tensor);return this.imColsMat}},{key:"_w2row",value:function(){var t=$t(this.weights.kernel.tensor.shape,4),e=t[0],n=t[1],r=t[2],i=t[3];this.wRowsMat=new nl([],[i,e*n*r]);for(var o=new nl([],[e*n*r]),a=new nl([],[e,n,r]),s=0;s<i;s++)Qc.a.assign(a.tensor,this.weights.kernel.tensor.pick(null,null,null,s)),o.replaceTensorData(a.tensor.data),Qc.a.assign(this.wRowsMat.tensor.pick(s,null),o.tensor);return this.wRowsMat}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),this._im2col(t);var e=t.tensor.shape[0],n=t.tensor.shape[1],r=$t(this.kernelShape,3),i=r[0],o=r[1],a=r[2],s=new nl([],[e*n,o*a*i]);Al()(s.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1);var u=$t(this.outputPadding,4),c=u[0],l=u[1],p=u[2],h=u[3];this.output=new nl([],this.outputShape);for(var f=new nl([],[this.outputShape[0]+c+l,this.outputShape[1]+p+h,this.outputShape[2]]),d=[o,a,i],v=new nl([],d),m=new nl([],[o*a*i]),y=0,g=0;g<e;g++)for(var _=0;_<n;_++){Qc.a.assign(m.tensor,s.tensor.pick(y,null)),v.replaceTensorData(m.tensor.data);var b=g*this.strides[0],x=_*this.strides[1];Qc.a.addeq(f.tensor.hi(b+o,x+a,this.outputShape[2]).lo(b,x,0),v.tensor),y+=1}if(Qc.a.assign(this.output.tensor,f.tensor.hi(this.outputShape[0]+c,this.outputShape[1]+p,this.outputShape[2]).lo(c,p,0)),this.useBias)for(var w=0;w<i;w++)Qc.a.addseq(this.output.tensor.pick(null,null,w),this.weights.bias.tensor.get(w));this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}},{key:"_createIndexMap",value:function(){if(!this.indexMap){var t=this.inputShape[0],e=this.inputShape[1],n=$t(this.kernelShape,3),r=n[0],i=n[1],o=n[2],a=$t(this.outputPadding,4),s=a[0],u=a[1],c=a[2],l=a[3],p=(i-this.strides[0]+1)*(o-this.strides[1]+1),h=[this.outputShape[0],this.outputShape[1],p],f=[this.outputShape[0]+s+u,this.outputShape[1]+c+l,p],d=new nl([],h,{type:Int32Array}),v=new nl([],h,{type:Int32Array}),m=new nl([],f,{type:Int32Array}),y=new nl([],f,{type:Int32Array});Qc.a.assigns(d.tensor,-1),Qc.a.assigns(v.tensor,-1),Qc.a.assigns(m.tensor,-1),Qc.a.assigns(y.tensor,-1);for(var g=new nl([],[i,o,r],{type:Int32Array}),_=0;_<i*o*r;_++)g.tensor.data[_]=_;for(var b=0;b<t;b++)for(var x=0;x<e;x++){var w=b*e+x,S=b*this.strides[0],T=x*this.strides[1];Yl(m.tensor.hi(S+i,T+o,p).lo(S,T,0),w,p),Kl(y.tensor.hi(S+i,T+o,p).lo(S,T,0),g.tensor.pick(null,null,0),p)}Qc.a.assign(d.tensor,m.tensor.hi(this.outputShape[0]+s,this.outputShape[1]+c,p).lo(s,c,0)),Qc.a.assign(v.tensor,y.tensor.hi(this.outputShape[0]+s,this.outputShape[1]+c,p).lo(s,c,0));var P=[this.outputShape[0]*this.outputShape[1],p];this.indexMap=new nl([],P,{type:Int32Array});for(var k=new nl([],[p],{type:Int32Array}),C=0;C<this.outputShape[0];C++)for(var A=0;A<this.outputShape[1];A++){for(var O=0;O<p;O++){var E=d.tensor.get(C,A,O),j=v.tensor.get(C,A,O);-1!==E&&-1!==j?k.tensor.set(O,E*this.weights.kernel.glTextureShape[1]+j):k.tensor.set(O,-1)}Qc.a.assign(this.indexMap.tensor.pick(C*this.outputShape[1]+A,null),k.tensor)}this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape)):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),this._im2col(t),this.imColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}));var e=t.is2DReshaped||t.is2DSquareReshaped?t:this.imColsMat;if(!this.matMulResult){var n=[e.glTextureShape[0],this.weights.kernel.glTextureShape[1]];this.matMulResult=new nl([],n),this.matMulResult.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})}if("linear"!==this.activation&&!this.outputPreactiv){var r=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]];this.outputPreactiv=new nl([],r),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=h(this.outputShape,!1,-1)}if(!this.output){var i=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]];this.output=new nl([],i),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=h(this.outputShape,!1,-1)}$c.runProgram({program:this.matMulProgram,output:this.matMulResult,inputs:[{input:e,name:"A"},{input:this.weights.kernel,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}],supportsTextureFragments:!0}),this._createIndexMap();var o=Boolean(this.matMulResult.glTextureFragments);if(o&&this.matMulResult.convert2DRowFragmentedGLTextureToColStack(),!this.convTransposeProgram){var a=mt("conv2dTranspose",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,this.matMulResult.glTextureFragmentShape?this.matMulResult.glTextureFragmentShape:this.matMulResult.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,o);this.convTransposeProgram=$c.compileProgram(a)}$c.runProgram({program:this.convTransposeProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:this.matMulResult,name:"matMulResult"},{input:this.indexMap,name:"indexMap"}].concat(Ht(this.useBias?[{input:this.weights.bias,name:"bias"}]:[])),supportsTextureFragments:!0}),o&&this.matMulResult.removeGLTextureFragmentsAsColStack(),"linear"!==this.activation&&$c.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}]),e}(Wc),Zl="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",Ql="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(indexMap, 0);\n  int out_x = int(float(outputSize[0]) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    int fragmentIndex = int(floor(float(rowIndex) / float(inputSize[1])));\n    rowIndex = int(mod(float(rowIndex), float(inputSize[1])));\n    colIndex = fragmentIndex * inputCols + colIndex;\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",tp="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",ep=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};re(this,e),t=ae(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Conv3D";var r=n.filters,i=void 0===r?1:r,o=n.kernel_size,a=void 0===o?[1,1,1]:o,s=n.strides,u=void 0===s?[1,1,1]:s,c=n.padding,l=void 0===c?"valid":c,p=n.data_format,h=void 0===p?"channels_last":p,f=n.dilation_rate,d=void 0===f?[1,1,1]:f,v=n.activation,m=void 0===v?"linear":v,y=n.use_bias,g=void 0===y||y;return Array.isArray(a)?t.kernelShape=[i].concat(ne(a)):t.kernelShape=[i,a,a,a],Array.isArray(u)?t.strides=u:t.strides=[u,u,u],"valid"===l||"same"===l?t.padding=l:t.throwError("Invalid padding."),"channels_last"===h||"channels_first"===h?t.dataFormat=h:t.throwError("Only channels_last and channels_first data formats are allowed."),Array.isArray(d)?t.dilationRate=d:t.dilationRate=[d,d,d],1===t.dilationRate[0]&&1===t.dilationRate[1]&&1===t.dilationRate[2]||1===t.strides[0]&&1===t.strides[1]&&1===t.strides[2]||t.throwError("Incompatible combination of dilation_rate with strides."),t.activation=m,t.activationFunc=Os[m],t.useBias=g,t.params=t.useBias?["kernel","bias"]:["kernel"],t.description="".concat(t.kernelShape[0]," ").concat(t.kernelShape.slice(1).join("x")," filters"),t.description+=t.strides.some(function(t){return t>1})?", ".concat(t.strides.join("x")," striding"):"",t.description+="valid"===t.padding?", no border padding":", pad to same borders",t.description+=t.dilationRate.some(function(t){return t>1})?", ".concat(t.dilationRate.join("x")," dilation"):"",t.description+="linear"!==t.activation?", ".concat(t.activation," activation"):"",t.gpu&&(t.mapInputProgram=$c.compileProgram(Zl),t.mapInputFragmentsProgram=$c.compileProgram(Ql),t.matMulProgram=$c.compileProgram(tp),t.activationProgram=$c.compileProgram(Es[t.activation])),t}return ue(e,t),oe(e,[{key:"setWeights",value:function(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,4,1,0)),se(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setWeights",this).call(this,t,!1),this._w2row(),this.gpu&&(this.weights.kernel=this.wRowsMat,this.weights.kernel.createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_calcOutputShape",value:function(t){if(!this.outputShape||!this.inputPadding){var e=t[0],n=t[1],r=t[2],i=ee(this.kernelShape,4),o=i[0],a=i[1],s=i[2],u=i[3],c=a+(a-1)*(this.dilationRate[0]-1),l=s+(s-1)*(this.dilationRate[1]-1),p=u+(u-1)*(this.dilationRate[2]-1),h="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-c+this.strides[0])/this.strides[0]),f="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-l+this.strides[1])/this.strides[1]),d="same"===this.padding?Math.floor((r+this.strides[2]-1)/this.strides[2]):Math.floor((r-p+this.strides[2])/this.strides[2]),v=o,m="same"===this.padding?Math.max(0,Math.floor((h-1)*this.strides[0]+c-e)):0,y="same"===this.padding?Math.max(0,Math.floor((f-1)*this.strides[1]+l-n)):0,g="same"===this.padding?Math.max(0,Math.floor((d-1)*this.strides[2]+p-r)):0,_=Math.floor(m/2),b=m-_,x=Math.floor(y/2),w=y-x,S=Math.floor(g/2),T=g-S;this.outputShape=[h,f,d,v],this.inputPadding=[_,b,x,w,S,T]}}},{key:"_padInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("same"===this.padding){var n=ee(t.tensor.shape,4),r=n[0],i=n[1],o=n[2],a=n[3],s=ee(this.inputPadding,6),u=s[0],c=s[1],l=s[2],p=s[3],h=s[4],f=s[5],d=r+u+c,v=i+l+p,m=o+h+f,y=new nl([],[d,v,m,a]);return 0!==e&&Qc.a.assigns(y.tensor,e),Qc.a.assign(y.tensor.hi(r+u,i+l,o+h,a).lo(u,l,h,0),t.tensor),y}return t}},{key:"_vol2col",value:function(t){var e=ee(t.tensor.shape,4),n=e[0],r=e[1],i=e[2],o=e[3],a=this.kernelShape[1],s=this.kernelShape[2],u=this.kernelShape[3],c=this.outputShape[0],l=this.outputShape[1],p=this.outputShape[2],h=c*l*p,f=a*s*u*o,d=a+(a-1)*(this.dilationRate[0]-1),v=s+(s-1)*(this.dilationRate[1]-1),m=u+(u-1)*(this.dilationRate[2]-1);if(this.volColsMat||(this.volColsMat=new nl([],[h,f])),1===d&&1===v&&1===m&&1===this.strides[0]&&1===this.strides[1]&&1===this.strides[2])return this.volColsMat.replaceTensorData(t.tensor.data),this.volColsMat;for(var y=new nl([],[a,s,u,o]),g=0,_=0,b=n-d;_<=b;_+=this.strides[0])for(var x=0,w=r-v;x<=w;x+=this.strides[1])for(var S=0,T=i-m;S<=T;S+=this.strides[2])Qc.a.assign(y.tensor,t.tensor.hi(_+d,x+v,S+m,o).lo(_,x,S,0).step(this.dilationRate[0],this.dilationRate[1],this.dilationRate[2],1)),this.volColsMat.tensor.data.set(y.tensor.data,g),g+=f;return this.volColsMat}},{key:"_w2row",value:function(){var t=this.weights.kernel.tensor.shape[3],e=ee(this.kernelShape,4),n=e[0],r=e[1],i=e[2],o=e[3],a=r*i*o*t;this.wRowsMat=new nl([],[a,n]);for(var s=new nl([],[r,i,o,t]),u=new nl([],[a]),c=0;c<n;c++)Qc.a.assign(s.tensor,this.weights.kernel.tensor.pick(null,null,null,null,c)),u.replaceTensorData(s.tensor.data),Qc.a.assign(this.wRowsMat.tensor.pick(null,c),u.tensor);return this.wRowsMat}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._vol2col(t);var e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],i=this.outputShape[2],o=n*r*i,a=new nl([],[o,e]);if(this.useBias)for(var s=0;s<e;s++)Qc.a.assigns(a.tensor.pick(null,s),this.weights.bias.tensor.get(s));Al()(a.tensor,this.volColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new nl([],this.outputShape);for(var u=new nl([],[n*r*i]),c=new nl([],[n,r,i]),l=0;l<e;l++)Qc.a.assign(u.tensor,a.tensor.pick(null,l)),c.replaceTensorData(u.tensor.data),Qc.a.assign(this.output.tensor.pick(null,null,null,l),c.tensor);this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2))}},{key:"_createIndexMap",value:function(t){if(!this.indexMap){var e=ee(this.inputShape,4),n=e[0],r=e[1],i=e[2],o=e[3],a=new nl(t.data,t.shape,{type:Int32Array});if("same"===this.padding){var s=ee(this.inputPadding,6),u=s[0],c=s[1],l=s[2],p=s[3],h=s[4],f=s[5];n=n+u+c,r=r+l+p,i=i+h+f;a=this._padInput(a,-1)}var d=this.kernelShape[1],v=this.kernelShape[2],m=this.kernelShape[3],y=this.outputShape[0],g=this.outputShape[1],_=this.outputShape[2],b=y*g*_,x=d*v*m*o,w=d+(d-1)*(this.dilationRate[0]-1),S=v+(v-1)*(this.dilationRate[1]-1),T=m+(m-1)*(this.dilationRate[2]-1);this.indexMap=new nl([],[b,x],{type:Int32Array});for(var P=new nl([],[d,v,m,o]),k=0,C=0,A=n-w;C<=A;C+=this.strides[0])for(var O=0,E=r-S;O<=E;O+=this.strides[1])for(var j=0,F=i-T;j<=F;j+=this.strides[2])Qc.a.assign(P.tensor,a.tensor.hi(C+w,O+S,j+T,o).lo(C,O,j,0).step(this.dilationRate[0],this.dilationRate[1],this.dilationRate[2],1)),this.indexMap.tensor.data.set(P.tensor.data,k),k+=x;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){var e;if(t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape),this._createIndexMap(t.indicesForReshaped),e=[this.indexMap.glTextureShape[0],this.weights.kernel.glTextureShape[1]]):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._vol2col(t),this.volColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),e=[this.volColsMat.glTextureShape[0],this.weights.kernel.glTextureShape[1]]),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new nl([],e),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=h(this.outputShape,!1,-1)),this.output||(this.output=new nl([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=h(this.outputShape,!1,-1)),t.is2DReshaped||t.is2DSquareReshaped){var n=Boolean(t.glTextureFragments);if(n&&t.convert2DRowFragmentedGLTextureToColStack(),!this.convProgram){var r=mt("conv2d",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,t.glTextureFragmentShape?t.glTextureFragmentShape:t.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,n);this.convProgram=$c.compileProgram(r)}$c.runProgram({program:this.convProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"},{input:this.weights.kernel,name:"kernel"}].concat(ne(this.useBias?[{input:this.weights.bias,name:"bias"}]:[])),supportsTextureFragments:!0}),n&&t.removeGLTextureFragmentsAsColStack()}else{var i=[{input:this.volColsMat,name:"A"},{input:this.weights.kernel,name:"B"}];this.useBias&&i.push({input:this.weights.bias,name:"C"}),$c.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:i,uniforms:[{value:this.useBias?1:0,type:"bool",name:"addC"}],supportsTextureFragments:!0})}"linear"!==this.activation&&$c.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2)))}}]),e}(Wc),np="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",rp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};le(this,e),t=fe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Cropping1D";var r=n.cropping,i=void 0===r?[0,0]:r;return Array.isArray(i)?t.cropping=i:t.cropping=[i,i],t.description="".concat(JSON.stringify(t.cropping)),t.gpu&&(t.mapInputProgram=$c.compileProgram(np)),t}return de(e,t),he(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0]-this.cropping[1],this.inputShape[1]],this.output=new nl([],this.outputShape),Qc.a.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[1],this.inputShape[2]).lo(this.cropping[0],0))}},{key:"_createIndexMap",value:function(){var t,e;if(!this.indexMap){for(var n=new nl([],this.inputShape,{type:Int32Array}),r=new nl([],this.inputShape,{type:Int32Array}),i=new nl([],this.inputShape,{type:Int32Array}),o=0;o<this.inputShape[0];o++)Qc.a.assigns(r.tensor.pick(o,null),o);for(var a=0;a<this.inputShape[1];a++)Qc.a.assigns(i.tensor.pick(null,a),a);Qc.a.muls(n.tensor,r.tensor,this.inputShape[1]),Qc.a.addeq(n.tensor,i.tensor),this.indexMap=new nl([],this.outputShape,{type:Int32Array});var s=[this.cropping[0],0],u=[this.inputShape[0]-this.cropping[1],this.inputShape[2]];Qc.a.assign(this.indexMap.tensor,(t=(e=n.tensor).hi.apply(e,u)).lo.apply(t,s)),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0]-this.cropping[1],this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new nl([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),ip="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",op=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};me(this,e),t=_e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Cropping2D";var r=n.cropping,i=void 0===r?[[0,0],[0,0]]:r,o=n.data_format,a=void 0===o?"channels_last":o;return Array.isArray(i)?Array.isArray(i[0])?t.cropping=i:t.cropping=[[i[0],i[0]],[i[1],i[1]]]:t.cropping=[[i,i],[i,i]],t.dataFormat=a,t.description="".concat(JSON.stringify(t.cropping)),t.gpu&&(t.mapInputProgram=$c.compileProgram(ip)),t}return be(e,t),ge(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]],this.output=new nl([],this.outputShape),Qc.a.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]).lo(this.cropping[0][0],this.cropping[1][0],0)),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}},{key:"_createIndexMap",value:function(t,e){var n,r;if(!this.indexMap){var i=new nl(t.data,t.shape,{type:Int32Array});this.indexMap=new nl([],this.outputShape,{type:Int32Array});var o="channels_first"===this.dataFormat?[0,this.cropping[0][0],this.cropping[1][0]]:[this.cropping[0][0],this.cropping[1][0],0],a="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][1]]:[this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]];Qc.a.assign(this.indexMap.tensor,(n=(r=i.tensor).hi.apply(r,a)).lo.apply(n,o)),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][0]-this.cropping[1][1]]:[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new nl([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}]),e}(Wc),ap="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",sp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};we(this,e),t=Pe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Cropping3D";var r=n.cropping,i=void 0===r?[[0,0],[0,0],[0,0]]:r,o=n.data_format,a=void 0===o?"channels_last":o;return Array.isArray(i)?Array.isArray(i[0])?t.cropping=i:t.cropping=[[i[0],i[0]],[i[1],i[1]],[i[2],i[2]]]:t.cropping=[[i,i],[i,i],[i,i]],t.dataFormat=a,t.description="".concat(JSON.stringify(t.cropping)),t.gpu&&(t.mapInputProgram=$c.compileProgram(ap)),t}return ke(e,t),Te(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][0]-this.cropping[2][1],this.inputShape[3]],this.output=new nl([],this.outputShape),Qc.a.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][1],this.inputShape[3]).lo(this.cropping[0][0],this.cropping[1][0],this.cropping[2][0],0)),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}},{key:"_createIndexMap",value:function(t,e){var n,r;if(!this.indexMap){var i=new nl(t.data,t.shape,{type:Int32Array});this.indexMap=new nl([],this.outputShape,{type:Int32Array});var o="channels_first"===this.dataFormat?[0,this.cropping[0][0],this.cropping[1][0],this.cropping[2][0]]:[this.cropping[0][0],this.cropping[1][0],this.cropping[2][0],0],a="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][1],this.inputShape[3]-this.cropping[2][1]]:[this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][1],this.inputShape[3]];Qc.a.assign(this.indexMap.tensor,(n=(r=i.tensor).hi.apply(r,a)).lo.apply(n,o)),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[3]-this.cropping[2][0]-this.cropping[2][1]]:[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][0]-this.cropping[2][1],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new nl([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}]),e}(Wc),up="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",cp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ae(this,e),t=je(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="UpSampling1D";var r=n.size,i=void 0===r?2:r;return t.size=i,t.description="size ".concat(i),t.gpu&&(t.mapInputProgram=$c.compileProgram(up)),t}return Fe(e,t),Ee(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size,this.inputShape[1]],this.output=new nl([],this.outputShape);for(var e=0;e<this.size;e++)Qc.a.assign(this.output.tensor.lo(e,0).step(this.size,1),t.tensor)}},{key:"_createIndexMap",value:function(){if(!this.indexMap){for(var t=new nl([],this.inputShape,{type:Int32Array}),e=new nl([],this.inputShape,{type:Int32Array}),n=new nl([],this.inputShape,{type:Int32Array}),r=0;r<this.inputShape[0];r++)Qc.a.assigns(e.tensor.pick(r,null),r);for(var i=0;i<this.inputShape[1];i++)Qc.a.assigns(n.tensor.pick(null,i),i);Qc.a.muls(t.tensor,e.tensor,this.inputShape[1]),Qc.a.addeq(t.tensor,n.tensor),this.indexMap=new nl([],this.outputShape,{type:Int32Array});for(var o=0;o<this.size;o++)Qc.a.assign(this.indexMap.tensor.lo(o,0).step(this.size,1),t.tensor);this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size,this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new nl([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),lp="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",pp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ie(this,e),t=Le(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="UpSampling2D";var r=n.size,i=void 0===r?[2,2]:r,o=n.data_format,a=void 0===o?"channels_last":o;return Array.isArray(i)?t.size=i:t.size=[i,i],t.dataFormat=a,t.description="size ".concat(t.size.join("x")),t.gpu&&(t.mapInputProgram=$c.compileProgram(lp)),t}return Ue(e,t),De(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]],this.output=new nl([],this.outputShape);for(var e=0;e<this.size[0];e++)for(var n=0;n<this.size[1];n++)Qc.a.assign(this.output.tensor.lo(e,n,0).step(this.size[0],this.size[1],1),t.tensor);"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}},{key:"_createIndexMap",value:function(t,e){if(!this.indexMap){var n=new nl(t.data,t.shape,{type:Int32Array});this.indexMap=new nl([],this.outputShape,{type:Int32Array});for(var r=0;r<this.size[0];r++)for(var i=0;i<this.size[1];i++){var o,a,s="channels_first"===this.dataFormat?[0,r,i]:[r,i,0],u="channels_first"===this.dataFormat?[1,this.size[0],this.size[1]]:[this.size[0],this.size[1],1];Qc.a.assign((o=(a=this.indexMap.tensor).lo.apply(a,s)).step.apply(o,u),n.tensor)}e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]*this.size[0],this.inputShape[2]*this.size[1]]:[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new nl([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}]),e}(Wc),hp="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",fp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ne(this,e),t=qe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="UpSampling3D";var r=n.size,i=void 0===r?[2,2,2]:r,o=n.data_format,a=void 0===o?"channels_last":o;return Array.isArray(i)?t.size=i:t.size=[i,i,i],t.dataFormat=a,t.description="size ".concat(t.size.join("x")),t.gpu&&(t.mapInputProgram=$c.compileProgram(hp)),t}return Ve(e,t),Be(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]*this.size[2],this.inputShape[3]],this.output=new nl([],this.outputShape);for(var e=0;e<this.size[0];e++)for(var n=0;n<this.size[1];n++)for(var r=0;r<this.size[2];r++)Qc.a.assign(this.output.tensor.lo(e,n,r,0).step(this.size[0],this.size[1],this.size[2],1),t.tensor);"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}},{key:"_createIndexMap",value:function(t,e){if(!this.indexMap){var n=new nl(t.data,t.shape,{type:Int32Array});this.indexMap=new nl([],this.outputShape,{type:Int32Array});for(var r=0;r<this.size[0];r++)for(var i=0;i<this.size[1];i++)for(var o=0;o<this.size[2];o++){var a,s,u="channels_first"===this.dataFormat?[0,r,i,o]:[r,i,o,0],c="channels_first"===this.dataFormat?[1,this.size[0],this.size[1],this.size[2]]:[this.size[0],this.size[1],this.size[2],1];Qc.a.assign((a=(s=this.indexMap.tensor).lo.apply(s,u)).step.apply(a,c),n.tensor)}e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]*this.size[0],this.inputShape[2]*this.size[1],this.inputShape[3]*this.size[2]]:[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]*this.size[2],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new nl([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}]),e}(Wc),dp="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",vp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};He(this,e),t=Ye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="ZeroPadding1D";var r=n.padding,i=void 0===r?[1,1]:r;return Array.isArray(i)?t.padding=i:t.padding=[i,i],t.description="".concat(JSON.stringify(t.padding)),t.gpu&&(t.mapInputProgram=$c.compileProgram(dp)),t}return Ke(e,t),Xe(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0]+this.padding[1],this.inputShape[1]],this.output=new nl([],this.outputShape),Qc.a.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0],this.inputShape[1]).lo(this.padding[0],0),t.tensor)}},{key:"_createIndexMap",value:function(){var t,e;if(!this.indexMap){for(var n=new nl([],this.inputShape,{type:Int32Array}),r=new nl([],this.inputShape,{type:Int32Array}),i=new nl([],this.inputShape,{type:Int32Array}),o=0;o<this.inputShape[0];o++)Qc.a.assigns(r.tensor.pick(o,null),o);for(var a=0;a<this.inputShape[1];a++)Qc.a.assigns(i.tensor.pick(null,a),a);Qc.a.muls(n.tensor,r.tensor,this.inputShape[1]),Qc.a.addeq(n.tensor,i.tensor),this.indexMap=new nl([],this.outputShape,{type:Int32Array});var s=[this.padding[0],0],u=[this.inputShape[0]+this.padding[0],this.inputShape[1]];Qc.a.assigns(this.indexMap.tensor,-1),Qc.a.assign((t=(e=this.indexMap.tensor).hi.apply(e,u)).lo.apply(t,s),n.tensor),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0]+this.padding[1],this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new nl([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),mp="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",yp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ze(this,e),t=en(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="ZeroPadding2D";var r=n.padding,i=void 0===r?[[1,1],[1,1]]:r,o=n.data_format,a=void 0===o?"channels_last":o;return Array.isArray(i)?Array.isArray(i[0])?t.padding=i:t.padding=[[i[0],i[0]],[i[1],i[1]]]:t.padding=[[i,i],[i,i]],t.dataFormat=a,t.description="".concat(JSON.stringify(t.padding)),t.gpu&&(t.mapInputProgram=$c.compileProgram(mp)),t}return nn(e,t),tn(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]],this.output=new nl([],this.outputShape),Qc.a.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]).lo(this.padding[0][0],this.padding[1][0],0),t.tensor),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}},{key:"_createIndexMap",value:function(t,e){var n,r;if(!this.indexMap){var i=new nl(t.data,t.shape,{type:Int32Array});this.indexMap=new nl([],this.outputShape,{type:Int32Array});var o="channels_first"===this.dataFormat?[0,this.padding[0][0],this.padding[1][0]]:[this.padding[0][0],this.padding[1][0],0],a="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0],this.inputShape[2]+this.padding[1][0]]:[this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]];Qc.a.assigns(this.indexMap.tensor,-1),Qc.a.assign((n=(r=this.indexMap.tensor).hi.apply(r,a)).lo.apply(n,o),i.tensor),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0]+this.padding[0][1],this.inputShape[2]+this.padding[1][0]+this.padding[1][1]]:[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new nl([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}]),e}(Wc),gp="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",_p=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};on(this,e),t=un(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="ZeroPadding3D";var r=n.padding,i=void 0===r?[[1,1],[1,1],[1,1]]:r,o=n.data_format,a=void 0===o?"channels_last":o;return Array.isArray(i)?Array.isArray(i[0])?t.padding=i:t.padding=[[i[0],i[0]],[i[1],i[1]],[i[2],i[2]]]:t.padding=[[i,i],[i,i],[i,i]],t.dataFormat=a,t.description="".concat(JSON.stringify(t.padding)),t.gpu&&(t.mapInputProgram=$c.compileProgram(gp)),t}return cn(e,t),sn(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]+this.padding[2][0]+this.padding[2][1],this.inputShape[3]],this.output=new nl([],this.outputShape),Qc.a.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]+this.padding[2][0],this.inputShape[3]).lo(this.padding[0][0],this.padding[1][0],this.padding[2][0],0),t.tensor),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}},{key:"_createIndexMap",value:function(t,e){var n,r;if(!this.indexMap){var i=new nl(t.data,t.shape,{type:Int32Array});this.indexMap=new nl([],this.outputShape,{type:Int32Array});var o="channels_first"===this.dataFormat?[0,this.padding[0][0],this.padding[1][0],this.padding[2][0]]:[this.padding[0][0],this.padding[1][0],this.padding[2][0],0],a="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0],this.inputShape[2]+this.padding[1][0],this.inputShape[3]+this.padding[2][0]]:[this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]+this.padding[2][0],this.inputShape[3]];Qc.a.assigns(this.indexMap.tensor,-1),Qc.a.assign((n=(r=this.indexMap.tensor).hi.apply(r,a)).lo.apply(n,o),i.tensor),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0]+this.padding[0][1],this.inputShape[2]+this.padding[1][0]+this.padding[1][1],this.inputShape[3]+this.padding[2][0]+this.padding[2][1]]:[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]+this.padding[2][0]+this.padding[2][1],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new nl([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}]),e}(Wc),bp=n(59),xp=(n.n(bp),"#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n"),wp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};pn(this,e),t=dn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Dense";var r=n.units,i=void 0===r?1:r,o=n.activation,a=void 0===o?"linear":o,s=n.input_dim,u=void 0===s?null:s,c=n.use_bias,l=void 0===c||c;return t.description="".concat(a," activation, output dimensions: ").concat(i),t.activation=a,t.activationFunc=Os[t.activation],t.units=i,t.input_dim=u,t.use_bias=l,t.params=t.use_bias?["kernel","bias"]:["kernel"],t.input_dim&&(t.inputShape=[t.input_dim]),t.gpu&&(t.matMulProgram=$c.compileProgram(xp),t.activationProgram=$c.compileProgram(Es[t.activation])),t}return vn(e,t),fn(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.output=new nl([],[this.units]),this.use_bias&&Qc.a.assign(this.output.tensor,this.weights.bias.tensor),Object(bp.gemv)(1,this.weights.kernel.tensor.transpose(1,0),t.tensor,1,this.output.tensor),this.activationFunc(this.output)}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new nl([],[this.units]),this.outputPreactiv.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new nl([],[this.units]),this.output.createGLTexture({type:"2d",format:"float"}));var e=[{input:t,name:"A"},{input:this.weights.kernel,name:"B"}];this.use_bias&&e.push({input:this.weights.bias,name:"C"}),$c.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:e,uniforms:[{value:this.use_bias?1:0,type:"bool",name:"addC"}]}),"linear"!==this.activation&&$c.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),Sp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yn(this,e),t=bn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Activation";var r=n.activation,i=void 0===r?"linear":r;return t.activation=i,t.activationFunc=Os[i],t.description="".concat(t.activation),t.gpu&&(t.program=$c.compileProgram(Es[t.activation])),t}return xn(e,t),_n(e,[{key:"call",value:function(t){return"linear"===this.activation?(this.output=t,this.output):(this.gpu?this._callGPU(t):this._callCPU(t),this.output)}},{key:"_callCPU",value:function(t){this.output=new nl(new t.arrayType(t.tensor.data),t.tensor.shape),this.activationFunc(this.output)}},{key:"_callGPU",value:function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new nl([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),$c.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),Tp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Sn(this,e),t=kn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Dropout";var r=n.rate,i=void 0===r?.5:r;return t.description="".concat(i),t.rate=Math.min(Math.max(0,i),1),t}return Cn(e,t),Pn(e,[{key:"call",value:function(t){return this.output=t,this.output}}]),e}(Wc),Pp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};On(this,e),t=Fn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="SpatialDropout1D";var r=n.p,i=void 0===r?.5:r;return t.description="".concat(i),t.p=Math.min(Math.max(0,i),1),t}return Mn(e,t),jn(e,[{key:"call",value:function(t){return this.output=t,this.output}}]),e}(Wc),kp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rn(this,e),t=Un(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="SpatialDropout2D";var r=n.rate,i=void 0===r?.5:r,o=n.data_format,a=void 0===o?"channels_last":o;return t.description="".concat(i),t.rate=Math.min(Math.max(0,i),1),t.dataFormat=a,t}return zn(e,t),Ln(e,[{key:"call",value:function(t){return this.output=t,this.output}}]),e}(Wc),Cp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Gn(this,e),t=Vn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="SpatialDropout3D";var r=n.rate,i=void 0===r?.5:r,o=n.data_format,a=void 0===o?"channels_last":o;return t.description="".concat(i),t.rate=Math.min(Math.max(0,i),1),t.dataFormat=a,t}return $n(e,t),qn(e,[{key:"call",value:function(t){return this.output=t,this.output}}]),e}(Wc),Ap="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int outputSize;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(outputSize) * outTex.x);\n  int out_y = 0;\n\n  int i = int(floor(float(out_x) / float(inputCols)));\n  int j = int(mod(float(out_x), float(inputCols)));\n  outColor = vec4(texelFetch(x, ivec2(j, i), 0).r);\n}\n",Op="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int outputSize;\nuniform int inputRows;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(outputSize) * outTex.x);\n  int out_y = 0;\n\n  int rowIndex = int(mod(floor(float(out_x) / float(inputCols)), float(inputRows)));\n  int colIndex = int(mod(float(out_x), float(inputCols)));\n  int fragmentIndex = int(floor(float(out_x) / (float(inputRows) * float(inputCols))));\n  colIndex += fragmentIndex * inputCols;\n  outColor = vec4(texelFetch(x, ivec2(colIndex, rowIndex), 0).r);\n}\n",Ep=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Wn(this,e),t=Kn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Flatten",t.gpu&&(t.flattenProgram=$c.compileProgram(Ap),t.flattenFragmentsProgram=$c.compileProgram(Op)),t}return Jn(e,t),Yn(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){t.tensor.shape.length<=1?this.output=t:(this.output=new nl([],[t.tensor.shape.reduce(function(t,e){return t*e},1)]),this.output.replaceTensorData(t.tensor.data))}},{key:"_callGPU",value:function(t){t.glTexture||t.glTextureFragments||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this.output||(this.output=new nl([],[t.glTextureShape.reduce(function(t,e){return t*e},1)]),this.output.createGLTexture({type:"2d",format:"float"})),t.glTextureFragments?(t.convert2DRowFragmentedGLTextureToColStack(),$c.runProgram({program:this.flattenFragmentsProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"outputSize"},{value:t.glTextureShape[0],type:"int",name:"inputRows"},{value:t.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),t.removeGLTextureFragmentsAsColStack()):$c.runProgram({program:this.flattenProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"outputSize"},{value:t.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),jp=n(163),Fp=n.n(jp),Mp="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",Ip=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};tr(this,e),t=rr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Reshape";var r=n.target_shape,i=void 0===r?[]:r;return t.targetShape=i,t.description="target shape: ".concat(JSON.stringify(t.targetShape)),t.gpu&&(t.mapInputProgram=$c.compileProgram(Mp)),t}return ir(e,t),nr(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.targetShape.reduce(function(t,e){return t*e},1)!==t.tensor.size&&this.throwError("The total size of new array must be unchanged in reshape layer."),this.output=new nl([],this.targetShape),this.output.replaceTensorData(t.tensor.data)}},{key:"_createIndexMap",value:function(){if(!this.indexMap){var t=new nl([],this.inputShape,{type:Int32Array}),e=new nl([],this.inputShape,{type:Int32Array}),n=new nl([],this.inputShape,{type:Int32Array});if(2===this.inputShape.length)for(var r=0;r<this.inputShape[0];r++)Qc.a.assigns(e.tensor.pick(r,null),r);else if(3===this.inputShape.length)for(var i=0;i<this.inputShape[0];i++)for(var o=0;o<this.inputShape[1];o++)Qc.a.assigns(e.tensor.pick(i,o,null),i*this.inputShape[1]+o);else if(4===this.inputShape.length)for(var a=0;a<this.inputShape[0];a++)for(var s=0;s<this.inputShape[1];s++)for(var u=0;u<this.inputShape[2];u++)Qc.a.assigns(e.tensor.pick(a,s,u,null),a*this.inputShape[1]*this.inputShape[2]+s*this.inputShape[2]+u);for(var c=0;c<Fp()(this.inputShape);c++){var l;Qc.a.assigns((l=n.tensor).pick.apply(l,Qn(Array(this.inputShape.length-1).fill(null)).concat([c])),c)}Qc.a.muls(t.tensor,e.tensor,Fp()(this.inputShape)),Qc.a.addeq(t.tensor,n.tensor),this.indexMap=new nl([],this.targetShape,{type:Int32Array}),this.indexMap.replaceTensorData(new Int32Array(t.tensor.data)),this.targetShape.length>2&&this.indexMap.reshapeTo2D(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){t.glTexture?t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape:(this.inputShape=t.tensor.shape,t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this._createIndexMap(),this.output||(this.output=new nl([],this.targetShape),this.targetShape.length>2&&this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),Rp="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",Dp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sr(this,e),t=lr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Permute";var r=n.dims,i=void 0===r?[]:r;return t.description="".concat(JSON.stringify(i)),t.dims=i.map(function(t){return t-1}),t.gpu&&(t.mapInputProgram=$c.compileProgram(Rp)),t}return pr(e,t),cr(e,[{key:"call",value:function(t){return t.tensor.shape.length<=1||Ac()(Yc()(t.tensor.shape.length),this.dims)?(this.output=t,this.output):(this.gpu?this._callGPU(t):this._callCPU(t),this.output)}},{key:"_callCPU",value:function(t){var e;this.dims.length!==t.tensor.shape.length&&this.throwError("The specified dims permutation must match the number of dimensions.");var n=this.dims.map(function(e){return t.tensor.shape[e]});this.output=new nl([],n),Qc.a.assign(this.output.tensor,(e=t.tensor).transpose.apply(e,ar(this.dims)))}},{key:"_createIndexMap",value:function(){var t,e=this;if(!this.indexMap){var n=new nl([],this.inputShape,{type:Int32Array}),r=new nl([],this.inputShape,{type:Int32Array}),i=new nl([],this.inputShape,{type:Int32Array});if(2===this.inputShape.length)for(var o=0;o<this.inputShape[0];o++)Qc.a.assigns(r.tensor.pick(o,null),o);else if(3===this.inputShape.length)for(var a=0;a<this.inputShape[0];a++)for(var s=0;s<this.inputShape[1];s++)Qc.a.assigns(r.tensor.pick(a,s,null),a*this.inputShape[1]+s);else if(4===this.inputShape.length)for(var u=0;u<this.inputShape[0];u++)for(var c=0;c<this.inputShape[1];c++)for(var l=0;l<this.inputShape[2];l++)Qc.a.assigns(r.tensor.pick(u,c,l,null),u*this.inputShape[1]*this.inputShape[2]+c*this.inputShape[2]+l);for(var p=0;p<Fp()(this.inputShape);p++){var h;Qc.a.assigns((h=i.tensor).pick.apply(h,ar(Array(this.inputShape.length-1).fill(null)).concat([p])),p)}Qc.a.muls(n.tensor,r.tensor,Fp()(this.inputShape)),Qc.a.addeq(n.tensor,i.tensor);var f=this.dims.map(function(t){return e.inputShape[t]});this.indexMap=new nl([],f,{type:Int32Array}),Qc.a.assign(this.indexMap.tensor,(t=n.tensor).transpose.apply(t,ar(this.dims))),f.length>2&&this.indexMap.reshapeTo2D(),this.indexMap.createGLTexture({type:"2d",format:"int"})}}},{key:"_callGPU",value:function(t){var e=this;if(t.glTexture?t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape:(this.inputShape=t.tensor.shape,t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this._createIndexMap(),!this.output){var n=this.dims.map(function(t){return e.inputShape[t]});this.output=new nl([],n),n.length>2&&this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"})}$c.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),Lp=n(446),Up=n.n(Lp),zp="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(x, vec2(outTex.x, 0));\n}\n",Np=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fr(this,e),t=mr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="RepeatVector";var r=n.n,i=void 0===r?1:r;return t.n=i,t.description="n = ".concat(i),t.gpu&&(t.program=$c.compileProgram(zp)),t}return yr(e,t),vr(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){1!==t.tensor.shape.length&&this.throwError("Only 1D tensor inputs allowed."),this.output=new nl([],[this.n,t.tensor.shape[1]]),this.output.tensor=Up()(Vl()(t.tensor,0),[this.n,1])}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.output||(this.output=new nl([],[this.n,t.glTextureShape[1]]),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),Gp="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D embeddings;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 x_size = textureSize(x, 0);\n  ivec2 embeddings_size = textureSize(embeddings, 0);\n  int out_x = int(float(embeddings_size[0]) * outTex.x);\n  int out_y = int(float(x_size[0]) * outTex.y);\n\n  int index = int(texelFetch(x, ivec2(out_y, 0), 0).r);\n  outColor = texelFetch(embeddings, ivec2(out_x, index), 0);\n}\n",Bp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_r(this,e),t=wr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Embedding";var r=n.input_dim,i=void 0===r?1:r,o=n.output_dim,a=void 0===o?1:o,s=n.input_length,u=void 0===s?0:s,c=n.mask_zero,l=void 0!==c&&c;return t.description="output dimensions: ".concat(a),t.inputDim=i,t.outputDim=a,t.inputLength=u,t.maskZero=l,t.params=["embeddings"],t.gpu&&(t.program=$c.compileProgram(Gp)),t}return Sr(e,t),xr(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.output=new nl([],[t.tensor.shape[0],this.weights.embeddings.tensor.shape[1]]);for(var e=0,n=t.tensor.shape[0];e<n;e++)Qc.a.assign(this.output.tensor.pick(e,null),this.weights.embeddings.tensor.pick(t.tensor.get(e),null))}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.output||(this.output=new nl([],[t.glTextureShape[1],this.weights.embeddings.glTextureShape[1]]),this.output.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"},{input:this.weights.embeddings,name:"embeddings"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),qp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pr(this,e),t=Ar(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="_Merge",t.isMergeLayer=!0,t}return Or(e,t),Cr(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):(this._validateInputs(t)||this.throwError("Invalid inputs to call method."),this._callCPU(t)),this.output}},{key:"_validateInputs",value:function(t){var e=t.map(function(t){return t.tensor.shape.slice()});if(["sum","diff","mul","ave","max","min"].indexOf(this.mode)>-1&&(e.every(function(t){return Ac()(t,e[0])})||this.throwError("All input shapes must be the same for mode ".concat(this.mode,"."))),"dot"===this.mode)2!==t.length&&this.throwError("Exactly 2 inputs required for mode ".concat(this.mode,".")),this.dotAxes[0]<0&&(this.dotAxes[0]=e[0].length+this.dotAxes[0]),this.dotAxes[1]<0&&(this.dotAxes[1]=e[1].length+this.dotAxes[1]),e[0][this.dotAxes[0]]!==e[1][this.dotAxes[1]]&&this.throwError("Dimensions incompatibility using dot mode.");else if("concat"===this.mode){var n=e.slice(),r=this.concatAxis<0?n[0].length+this.concatAxis:this.concatAxis;0===this.concatAxis&&(r=0),Yc()(n.length).forEach(function(t){n[t].splice(r,1)}),n.every(function(t){return Ac()(t,n[0])})||this.throwError("In concat mode, all shapes must be the same except along the concat axis.")}return!0}},{key:"_callCPU",value:function(){}},{key:"_callGPU",value:function(t){t.forEach(function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})}),this.output||(this.output=new nl([],t[0].glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t[0].is1D?this.output.is1D=t[0].is1D:(t[0].is2DReshaped||t[0].is2DSquareReshaped)&&(t[0].is2DReshaped?this.output.is2DReshaped=t[0].is2DReshaped:t[0].is2DSquareReshaped&&(this.output.is2DSquareReshaped=t[0].is2DSquareReshaped),this.output.originalShape=t[0].originalShape.slice(),this.output.indicesForReshaped=t[0].indicesForReshaped)),$c.runProgram({program:this.mergeProgram,output:this.output,inputs:t.map(function(t,e){return{input:t,name:"inputs[".concat(e,"]")}}),supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),Vp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jr(this,e),t=Ir(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Add",t.mode="sum",t}return Dr(e,t),Mr(e,[{key:"_callCPU",value:function(t){var e=t[0].tensor.shape.slice();this.output=new nl([],e);for(var n=0;n<t.length;n++)Qc.a.addeq(this.output.tensor,t[n].tensor)}},{key:"_callGPU",value:function(t){if(!this.mergeProgram){var n=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,r=mt("add",t.length,n);this.mergeProgram=$c.compileProgram(r)}Rr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_callGPU",this).call(this,t)}}]),e}(qp),$p=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ur(this,e),t=Gr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Subtract",t.mode="diff",t}return qr(e,t),Nr(e,[{key:"_callCPU",value:function(t){2!==t.length&&this.throwError("Inputs should be an array of 2 Tensors.");var e=t[0].tensor.shape.slice();this.output=new nl([],e),Qc.a.sub(this.output.tensor,t[0].tensor,t[1].tensor)}},{key:"_callGPU",value:function(t){if(!this.mergeProgram){var n=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,r=mt("subtract",t.length,n);this.mergeProgram=$c.compileProgram(r)}Br(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_callGPU",this).call(this,t)}}]),e}(qp),Hp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $r(this,e),t=Xr(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Multiply",t.mode="mul",t}return Kr(e,t),Wr(e,[{key:"_callCPU",value:function(t){var e=t[0].tensor.shape.slice();this.output=new nl([],e),Qc.a.assigns(this.output.tensor,1);for(var n=0;n<t.length;n++)Qc.a.muleq(this.output.tensor,t[n].tensor)}},{key:"_callGPU",value:function(t){if(!this.mergeProgram){var n=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,r=mt("multiply",t.length,n);this.mergeProgram=$c.compileProgram(r)}Yr(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_callGPU",this).call(this,t)}}]),e}(qp),Wp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Zr(this,e),t=ei(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Average",t.mode="ave",t}return ri(e,t),ti(e,[{key:"_callCPU",value:function(t){var e=t[0].tensor.shape.slice();this.output=new nl([],e);for(var n=0;n<t.length;n++)Qc.a.addeq(this.output.tensor,t[n].tensor);Qc.a.divseq(this.output.tensor,t.length)}},{key:"_callGPU",value:function(t){if(!this.mergeProgram){var n=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,r=mt("average",t.length,n);this.mergeProgram=$c.compileProgram(r)}ni(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_callGPU",this).call(this,t)}}]),e}(qp),Xp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return oi(this,e),t=ui(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Maximum",t.mode="max",t}return li(e,t),si(e,[{key:"_callCPU",value:function(t){var e=t[0].tensor.shape.slice();this.output=new nl([],e),Qc.a.assign(this.output.tensor,t[0].tensor);for(var n=1;n<t.length;n++)Qc.a.maxeq(this.output.tensor,t[n].tensor)}},{key:"_callGPU",value:function(t){if(!this.mergeProgram){var n=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,r=mt("maximum",t.length,n);this.mergeProgram=$c.compileProgram(r)}ci(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_callGPU",this).call(this,t)}}]),e}(qp),Yp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hi(this,e),t=vi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Minimum",t.mode="min",t}return yi(e,t),di(e,[{key:"_callCPU",value:function(t){var e=t[0].tensor.shape.slice();this.output=new nl([],e),Qc.a.assign(this.output.tensor,t[0].tensor);for(var n=1;n<t.length;n++)Qc.a.mineq(this.output.tensor,t[n].tensor)}},{key:"_callGPU",value:function(t){if(!this.mergeProgram){var n=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,r=mt("minimum",t.length,n);this.mergeProgram=$c.compileProgram(r)}mi(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_callGPU",this).call(this,t)}}]),e}(qp),Kp=n(453),Jp=n.n(Kp),Zp=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_i(this,e),t=wi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Concatenate",t.mode="concat";var r=n.axis,i=void 0===r?-1:r;return t.concatAxis=i<=0?i:i-1,t}return Si(e,t),xi(e,[{key:"_callCPU",value:function(t){var e=t[0].tensor.shape.slice(),n=this.concatAxis<0?e.length+this.concatAxis:this.concatAxis;if(t.slice(1,t.length).forEach(function(t){var r=t.tensor.shape.slice()[n];e[n]+=r}),this.output=new nl([],e),0===n)Jp()(this.output.tensor,t.map(function(t){return t.tensor}));else{for(var r,i=[n],o=0;o<t[0].tensor.shape.length;o++)o!==n&&i.push(o);Jp()((r=this.output.tensor).transpose.apply(r,i),t.map(function(t){var e;return(e=t.tensor).transpose.apply(e,i)}))}}},{key:"_callGPU",value:function(t){t.forEach(function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})});var e=t[0].glTextureShape.slice(),n=1;if(t[0].is2DReshaped?-1===this.concatAxis||this.concatAxis===t[0].originalShape.length-1?n=1:this.throwError("specified axis not supported for now."):-1===this.concatAxis||1===this.concatAxis?n=1:-2===this.concatAxis||0===this.concatAxis?n=0:this.throwError("specified axis not supported for now."),e[n]=kl()(t.map(function(t){return t.glTextureShape[n]})),!this.output)if(this.output=new nl([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:1===n}),t[0].is1D)this.output.is1D=t[0].is1D;else if(t[0].is2DReshaped){this.output.is2DReshaped=t[0].is2DReshaped,this.output.originalShape=t[0].originalShape.slice();var r=this.concatAxis<0?this.output.originalShape.length+this.concatAxis:this.concatAxis;this.output.originalShape[r]=kl()(t.map(function(t){return t.originalShape[r]})),this.output.indicesForReshaped=h(this.output.originalShape,!1,r)}if(!this.mergeProgram){var i=this.output.glTextureFragments?this.output.glTextureFragmentShape:this.output.glTextureShape,o=mt("concatenate",t.length,t.map(function(t){return t.glTextureShape}),i,n);this.mergeProgram=$c.compileProgram(o)}$c.runProgram({program:this.mergeProgram,output:this.output,inputs:t.map(function(t,e){return{input:t,name:"inputs[".concat(e,"]")}}),supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(qp),Qp="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D input1;\nuniform sampler2D input2;\nuniform int rows;\nuniform int cols;\nuniform int dotAxis1;\nuniform int dotAxis2;\nuniform int commonDim;\nuniform bool normalize;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(cols) * outTex.x);\n  int out_y = int(float(rows) * outTex.y);\n\n  float sum = 0.;\n  float a = 0.;\n  float b = 0.;\n  float norm1 = 0.;\n  float norm2 = 0.;\n\n  for (int i = 0; i < commonDim; ++i) {\n    if (dotAxis1 == 0 && dotAxis2 == 0) {\n      a = texelFetch(input1, ivec2(out_y, i), 0).r;\n      b = texelFetch(input2, ivec2(out_x, i), 0).r;\n    } else if (dotAxis1 == 1 && dotAxis2 == 1) {\n      a = texelFetch(input1, ivec2(i, out_y), 0).r;\n      b = texelFetch(input2, ivec2(i, out_x), 0).r;\n    }\n\n    sum += a * b;\n\n    if (normalize) {\n      norm1 += a * a;\n      norm2 += b * b;\n    }\n  }\n\n  if (normalize) {\n    sum /= sqrt(norm1) * sqrt(norm2);\n  }\n\n  outColor = vec4(sum);\n}\n",th=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Pi(this,e),t=Ai(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Dot",t.mode="dot";var r=n.axes,i=void 0===r?-1:r,o=n.normalize,a=void 0!==o&&o;return Array.isArray(i)?t.dotAxes=[i[0]<=0?i[0]:i[0]-1,i[1]<=0?i[1]:i[1]-1]:t.dotAxes=[i<=0?i:i-1,i<=0?i:i-1],t.normalize=a,t.gpu&&(t.mergeProgram=$c.compileProgram(Qp)),t}return Oi(e,t),Ci(e,[{key:"_calcOutputShape",value:function(t){var e=t[0].slice(),n=t[1].slice();e.splice(this.dotAxes[0],1),n.splice(this.dotAxes[1],1),this.outputShape=e.concat(n),1===this.outputShape.length&&this.outputShape.push(1)}},{key:"_callCPU",value:function(t){if(this._calcOutputShape([t[0].tensor.shape,t[1].tensor.shape]),this.output=new nl([],this.outputShape),2===t[0].tensor.shape.length&&2===t[1].tensor.shape.length){if(0===this.dotAxes[0]&&0===this.dotAxes[1]){if(this.normalize){for(var e=0;e<t[0].tensor.shape[1];e++)Qc.a.divseq(t[0].tensor.pick(null,e),Qc.a.norm2(t[0].tensor.pick(null,e)));for(var n=0;n<t[1].tensor.shape[1];n++)Qc.a.divseq(t[1].tensor.pick(null,n),Qc.a.norm2(t[1].tensor.pick(null,n)))}Al()(this.output.tensor,t[0].tensor.transpose(1,0),t[1].tensor)}else if(1===this.dotAxes[0]&&1===this.dotAxes[1]){if(this.normalize){for(var r=0;r<t[0].tensor.shape[0];r++)Qc.a.divseq(t[0].tensor.pick(r,null),Qc.a.norm2(t[0].tensor.pick(r,null)));for(var i=0;i<t[1].tensor.shape[0];i++)Qc.a.divseq(t[1].tensor.pick(i,null),Qc.a.norm2(t[1].tensor.pick(i,null)))}Al()(this.output.tensor,t[0].tensor,t[1].tensor.transpose(1,0))}}else this.throwError("dot mode for 3+ dim tensors not yet implemented.")}},{key:"_callGPU",value:function(t){t.forEach(function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float"})}),this._calcOutputShape([t[0].glTextureShape,t[1].glTextureShape]),this.output||(this.output=new nl([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"}));var e=t[0].glTextureShape[this.dotAxes[0]];$c.runProgram({program:this.mergeProgram,output:this.output,inputs:[{input:t[0],name:"input1"},{input:t[1],name:"input2"}],uniforms:[{value:this.output.glTextureShape[0],type:"int",name:"rows"},{value:this.output.glTextureShape[1],type:"int",name:"cols"},{value:this.dotAxes[0],type:"int",name:"dotAxis1"},{value:this.dotAxes[1],type:"int",name:"dotAxis2"},{value:e,type:"int",name:"commonDim"},{value:+this.normalize,type:"bool",name:"normalize"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(qp),eh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ji(this,e),t=Ii(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GaussianDropout";var r=n.rate,i=void 0===r?.5:r;return t.rate=Math.min(Math.max(0,i),1),t}return Ri(e,t),Mi(e,[{key:"call",value:function(t){return this.output=t,this.output}}]),e}(Wc),nh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Li(this,e),t=Ni(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GaussianNoise";var r=n.stddev,i=void 0===r?0:r;return t.stddev=i,t}return Gi(e,t),zi(e,[{key:"call",value:function(t){return this.output=t,this.output}}]),e}(Wc),rh="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D X;\nuniform isampler2D normAxisIndexMap;\nuniform sampler2D gamma;\nuniform sampler2D beta;\nuniform sampler2D mean;\nuniform sampler2D std;\nuniform float epsilon;\nuniform bool scale;\nuniform bool center;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(X, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\nint normAxisIndex = texelFetch(normAxisIndexMap, ivec2(out_x, out_y), 0).r;\n\n  float _x = texelFetch(X, ivec2(out_x, out_y), 0).r;\n  float _mean = texelFetch(mean, ivec2(normAxisIndex, 0), 0).r;\n  float _std = texelFetch(std, ivec2(normAxisIndex, 0), 0).r;\n\n  float _gamma = 1.0;\n  if (scale) {\n    _gamma = texelFetch(gamma, ivec2(normAxisIndex, 0), 0).r;\n  }\n\n  float _beta = 0.0;\n  if (center) {\n    _beta = texelFetch(beta, ivec2(normAxisIndex, 0), 0).r;\n  }\n\n  float sum = _beta + _gamma * (_x - _mean) / sqrt(_std + epsilon);\n\n  outColor = vec4(sum);\n}\n",ih=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Vi(this,e),t=Wi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="BatchNormalization";var r=n.epsilon,i=void 0===r?.001:r,o=n.axis,a=void 0===o?-1:o,s=n.center,u=void 0===s||s,c=n.scale,l=void 0===c||c;return t.epsilon=i,t.center=u,t.scale=l,t.axis=a,t.axisNormalized=!1,t.params=[],t.scale&&t.params.push("gamma"),t.center&&t.params.push("beta"),t.params=t.params.concat(["moving_mean","moving_variance"]),t.gpu&&(t.program=$c.compileProgram(rh)),t}return Xi(e,t),Hi(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.axisNormalized||(this.axis=this.axis<0?t.tensor.shape.length+this.axis:this.axis-1,this.axisNormalized=!0);for(var e=[],n=0;n<t.tensor.shape.length;n++)n===this.axis?e.push(1):e.push(null);for(var r=new nl([],t.tensor.shape),i=new nl([],t.tensor.shape),o=0;o<t.tensor.shape[this.axis];o++){if(e[this.axis]=o,this.scale){var a;Qc.a.assigns((a=r.tensor).pick.apply(a,e),this.weights.gamma.tensor.get(o))}if(this.center){var s;Qc.a.assigns((s=i.tensor).pick.apply(s,e),this.weights.beta.tensor.get(o))}}for(var u=new nl([],t.tensor.shape),c=new nl([],t.tensor.shape),l=0;l<t.tensor.shape[this.axis];l++){var p,h;e[this.axis]=l,Qc.a.assigns((p=u.tensor).pick.apply(p,e),this.weights.moving_mean.tensor.get(l)),Qc.a.assigns((h=c.tensor).pick.apply(h,e),this.weights.moving_variance.tensor.get(l)+this.epsilon)}Qc.a.sqrteq(c.tensor),this.output=new nl(t.tensor.data,t.tensor.shape),Qc.a.subeq(this.output.tensor,u.tensor),Qc.a.diveq(this.output.tensor,c.tensor),this.scale&&Qc.a.muleq(this.output.tensor,r.tensor),this.center&&Qc.a.addeq(this.output.tensor,i.tensor)}},{key:"_createIndexMap",value:function(t,e){if(!this.normAxisIndexMap){var n=new nl([],this.inputShape,{type:Int32Array});this.normAxisIndexMap=new nl([],t,{type:Int32Array});for(var r=Array(this.inputShape.length).fill(null),i=0;i<this.inputShape[this.axis];i++){var o;r[this.axis]=i,Qc.a.assigns((o=n.tensor).pick.apply(o,qi(r)),i)}if(e)for(var a=0;a<e.data.length;a++)this.normAxisIndexMap.tensor.data[e.data[a]]=n.tensor.data[a];else this.normAxisIndexMap=n;this.normAxisIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){this.axisNormalized||(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape,this.axis=this.axis<0?this.inputShape.length+this.axis:this.axis-1,this.axisNormalized=!0),t.glTexture||t.glTextureFragments||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}))),this._createIndexMap(t.glTextureShape,t.indicesForReshaped),this.output||(this.output=new nl([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped));var e=[{input:t,name:"X"},{input:this.normAxisIndexMap,name:"normAxisIndexMap"}];this.scale&&e.push({input:this.weights.gamma,name:"gamma"}),this.center&&e.push({input:this.weights.beta,name:"beta"}),e.push({input:this.weights.moving_mean,name:"mean"}),e.push({input:this.weights.moving_variance,name:"std"});var n=[{value:this.epsilon,type:"float",name:"epsilon"},{value:+this.scale,type:"bool",name:"scale"},{value:+this.center,type:"bool",name:"center"}];$c.runProgram({program:this.program,output:this.output,inputs:e,uniforms:n,supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),oh="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",ah="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",sh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ki(this,e),t=Qi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="_Pooling1D";var r=n.pool_size,i=void 0===r?2:r,o=n.strides,a=void 0===o?null:o,s=n.padding,u=void 0===s?"valid":s;return t.poolSize=i,t.strides=null===a?t.poolSize:a,t.padding=u,t.poolingFunc="max",t.description="pool size ".concat(t.poolSize),t.description+=t.strides>1?", striding ".concat(t.strides," striding"):"",t.description+="valid"===t.padding?", no border padding":", pad to same borders",t.gpu&&(t.poolingProgram=$c.compileProgram(oh),t.poolingFragmentsProgram=$c.compileProgram(ah)),t}return to(e,t),Zi(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){var e="valid"===this.padding?Math.floor((t.tensor.shape[0]-this.poolSize+this.strides)/this.strides):Math.floor((t.tensor.shape[0]+this.strides-1)/this.strides);this.output=new nl([],[e,t.tensor.shape[1]]);for(var n=new nl([],[t.tensor.shape[1]]),r="valid"===this.padding?0:Math.min(0,Math.ceil((t.tensor.shape[0]-(e-1)*this.strides-this.poolSize)/2)),i=0;i<e;i++){var o=Math.max(0,r),a=this.poolSize+Math.min(0,r);Qc.a.assign(n.tensor,t.tensor.pick(o,null));for(var s=1,u=1;u<a&&!(o+u>t.tensor.shape[0]-1);u++)"max"===this.poolingFunc?Qc.a.maxeq(n.tensor,t.tensor.pick(o+u,null)):"average"===this.poolingFunc&&Qc.a.addeq(n.tensor,t.tensor.pick(o+u,null)),s+=1;"average"===this.poolingFunc&&Qc.a.divseq(n.tensor,s),Qc.a.assign(this.output.tensor.pick(i,null),n.tensor),r+=this.strides}}},{key:"_createIndexMap",value:function(){if(!this.poolIndexMap){var t="valid"===this.padding?Math.floor((this.inputShape[0]-this.poolSize+this.strides)/this.strides):Math.floor((this.inputShape[0]+this.strides-1)/this.strides);this.outputShape=[t,this.inputShape[1]],this.poolIndexMap=new nl([],[t,this.poolSize],{type:Int32Array}),Qc.a.assigns(this.poolIndexMap.tensor,-1);for(var e="valid"===this.padding?0:Math.min(0,Math.ceil((this.inputShape[0]-(t-1)*this.strides-this.poolSize)/2)),n=0;n<t;n++){var r=Math.max(0,e),i=this.poolSize+Math.min(0,e),o=r;this.poolIndexMap.tensor.set(n,0,o);for(var a=1;a<i&&(o=r+a)<=this.inputShape[0]-1;a++)this.poolIndexMap.tensor.set(n,a,o);e+=this.strides}this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.inputShape=t.tensor.shape,this._createIndexMap(),this.output||(this.output=new nl([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}));var e="max"===this.poolingFunc,n=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:this.poolSize,type:"int",name:"poolSize"},{value:+e,type:"bool",name:"isMaxPooling"}];t.glTextureFragments?(t.convert2DRowFragmentedGLTextureToColStack(),$c.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n,supportsTextureFragments:!0}),t.removeGLTextureFragmentsAsColStack()):$c.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n,supportsTextureFragments:!0}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),uh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return no(this,e),t=ro(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="MaxPooling1D",t.poolingFunc="max",t}return io(e,t),e}(sh),ch="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",lh="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",ph=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};uo(this,e),t=po(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="_Pooling2D";var r=n.pool_size,i=void 0===r?[2,2]:r,o=n.strides,a=void 0===o?null:o,s=n.padding,u=void 0===s?"valid":s,c=n.data_format,l=void 0===c?"channels_last":c;return Array.isArray(i)?t.poolSize=i:t.poolSize=[i,i],Array.isArray(a)?t.strides=a:t.strides=null!==a?[a,a]:t.poolSize,t.padding=u,t.dataFormat=l,t.poolingFunc="max",t.description="pool size ".concat(t.poolSize.join("x")),t.description+=t.strides.some(function(t){return t>1})?", ".concat(t.strides.join("x")," striding"):"",t.description+="valid"===t.padding?", no border padding":", pad to same borders",t.gpu&&(t.poolingProgram=$c.compileProgram(ch),t.poolingFragmentsProgram=$c.compileProgram(lh)),t}return ho(e,t),lo(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_calcOutputShape",value:function(t){if(!this.outputShape||!this.inputPadding){var e=so(t,3),n=e[0],r=e[1],i=e[2],o=so(this.poolSize,2),a=o[0],s=o[1],u="same"===this.padding?Math.floor((n+this.strides[0]-1)/this.strides[0]):Math.floor((n-a+this.strides[0])/this.strides[0]),c="same"===this.padding?Math.floor((r+this.strides[1]-1)/this.strides[1]):Math.floor((r-s+this.strides[1])/this.strides[1]),l="same"===this.padding?Math.max(0,Math.floor((u-1)*this.strides[0]+a-n)):0,p="same"===this.padding?Math.max(0,Math.floor((c-1)*this.strides[1]+s-r)):0,h=Math.floor(l/2),f=l-h,d=Math.floor(p/2),v=p-d;this.outputShape=[u,c,i],this.inputPadding=[h,f,d,v]}}},{key:"_padInput",value:function(t){if("same"===this.padding){var e=so(t.tensor.shape,3),n=e[0],r=e[1],i=e[2],o=so(this.inputPadding,4),a=o[0],s=o[1],u=o[2],c=o[3],l=n+a+s,p=r+u+c,h=new nl([],[l,p,i]);return"max"===this.poolingFunc&&Qc.a.assigns(h.tensor,Number.NEGATIVE_INFINITY),Qc.a.assign(h.tensor.hi(n+a,r+u,i).lo(a,u,0),t.tensor),h}return t}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this._calcOutputShape(t.tensor.shape),t=this._padInput(t);var e=so(t.tensor.shape,3),n=e[0],r=e[1],i=e[2],o=so(this.poolSize,2),a=o[0],s=o[1];this.output=new nl([],this.outputShape);for(var u=new nl([],[a,s,i]),c=so(this.inputPadding,4),l=c[0],p=c[1],h=c[2],f=c[3],d=0,v=0;d<=n-a;d+=this.strides[0],v++){var m=0;d<l?m=l-d:d+a>n-p&&(m=d+a-(n-p));for(var y=0,g=0;y<=r-s;y+=this.strides[1],g++){var _=0;y<h?_=h-y:y+s>r-f&&(_=y+s-(r-f));var b=(a-m)*(s-_);Qc.a.assign(u.tensor,t.tensor.hi(d+a,y+s,i).lo(d,y,0));for(var x=0;x<i;x++)"max"===this.poolingFunc?this.output.tensor.set(v,g,x,Qc.a.sup(u.tensor.pick(null,null,x))):"average"===this.poolingFunc&&this.output.tensor.set(v,g,x,Qc.a.sum(u.tensor.pick(null,null,x))/b)}}"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}},{key:"_im2col",value:function(t){var e=so(t.tensor.shape,3),n=e[0],r=e[1],i=e[2];this.tiledInput||(this.tiledInput=new nl([],[n*r,i]));for(var o=new nl([],[n,r]),a=new nl([],[n*r]),s=0;s<i;s++)Qc.a.assign(o.tensor,t.tensor.pick(null,null,s)),a.replaceTensorData(o.tensor.data),Qc.a.assign(this.tiledInput.tensor.pick(null,s),a.tensor);return this.tiledInput}},{key:"_createIndexMap",value:function(){if(!this.poolIndexMap){for(var t=this.inputShape[0],e=this.inputShape[1],n=new nl([],[t,e]),r=0,i=0;i<t;i++)for(var o=0;o<e;o++)n.tensor.set(i,o,r),r+=1;if("same"===this.padding){var a=so(this.inputPadding,4),s=a[0],u=a[1],c=a[2],l=a[3];t=t+s+u,e=e+c+l;var p=new nl([],[t,e]);Qc.a.assigns(p.tensor,-1),Qc.a.assign(p.tensor.hi(this.inputShape[0]+s,this.inputShape[1]+c).lo(s,c),n.tensor),n.tensor=p.tensor}var h=so(this.poolSize,2),f=h[0],d=h[1],v=this.outputShape[0],m=this.outputShape[1];this.poolIndexMap=new nl([],[v*m,f*d],{type:Int32Array});for(var y=new nl([],[f,d]),g=0,_=0,b=t-f;_<=b;_+=this.strides[0])for(var x=0,w=e-d;x<=w;x+=this.strides[1])Qc.a.assign(y.tensor,n.tensor.hi(_+f,x+d).lo(_,x)),this.poolIndexMap.tensor.data.set(y.tensor.data,g),g+=f*d;this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){if(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this._im2col(t),this.tiledInput.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})),this._calcOutputShape(this.inputShape),this._createIndexMap(),!this.output){var e=so(this.outputShape,3),n=e[0],r=e[1],i=e[2],o=[n*r,i];this.output=new nl([],o),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=h(this.outputShape,!1,-1)}var a=t.is2DReshaped||t.is2DSquareReshaped?t:this.tiledInput,s=this.poolSize[0]*this.poolSize[1],u="max"===this.poolingFunc,c=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:s,type:"int",name:"poolSize"},{value:+u,type:"bool",name:"isMaxPooling"}];a.glTextureFragments?(a.convert2DRowFragmentedGLTextureToColStack(),$c.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:a,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:c,supportsTextureFragments:!0}),a.removeGLTextureFragmentsAsColStack()):$c.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:a,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:c,supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}]),e}(Wc),hh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vo(this,e),t=mo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="MaxPooling2D",t.poolingFunc="max",t}return yo(e,t),e}(ph),fh="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",dh="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",vh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xo(this,e),t=To(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="_Pooling3D";var r=n.pool_size,i=void 0===r?[2,2,2]:r,o=n.strides,a=void 0===o?null:o,s=n.padding,u=void 0===s?"valid":s,c=n.data_format,l=void 0===c?"channels_last":c;return Array.isArray(i)?t.poolSize=i:t.poolSize=[i,i,i],Array.isArray(a)?t.strides=a:t.strides=null!==a?[a,a,a]:t.poolSize,t.padding=u,t.dataFormat=l,t.poolingFunc="max",t.description="pool size ".concat(t.poolSize.join("x")),t.description+=t.strides.some(function(t){return t>1})?", ".concat(t.strides.join("x")," striding"):"",t.description+="valid"===t.padding?", no border padding":", pad to same borders",t.gpu&&(t.poolingProgram=$c.compileProgram(fh),t.poolingFragmentsProgram=$c.compileProgram(dh)),t}return Po(e,t),So(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_calcOutputShape",value:function(t){if(!this.outputShape||!this.inputPadding){var e=bo(t,4),n=e[0],r=e[1],i=e[2],o=e[3],a=bo(this.poolSize,3),s=a[0],u=a[1],c=a[2],l="same"===this.padding?Math.floor((n+this.strides[0]-1)/this.strides[0]):Math.floor((n-s+this.strides[0])/this.strides[0]),p="same"===this.padding?Math.floor((r+this.strides[1]-1)/this.strides[1]):Math.floor((r-u+this.strides[1])/this.strides[1]),h="same"===this.padding?Math.floor((i+this.strides[2]-1)/this.strides[2]):Math.floor((i-c+this.strides[2])/this.strides[2]),f="same"===this.padding?Math.max(0,Math.floor((l-1)*this.strides[0]+s-n)):0,d="same"===this.padding?Math.max(0,Math.floor((p-1)*this.strides[1]+u-r)):0,v="same"===this.padding?Math.max(0,Math.floor((h-1)*this.strides[2]+c-i)):0,m=Math.floor(f/2),y=f-m,g=Math.floor(d/2),_=d-g,b=Math.floor(v/2),x=v-b;this.outputShape=[l,p,h,o],this.inputPadding=[m,y,g,_,b,x]}}},{key:"_padInput",value:function(t){if("same"===this.padding){var e=bo(t.tensor.shape,4),n=e[0],r=e[1],i=e[2],o=e[3],a=bo(this.inputPadding,6),s=a[0],u=a[1],c=a[2],l=a[3],p=a[4],h=a[5],f=n+s+u,d=r+c+l,v=i+p+h,m=new nl([],[f,d,v,o]);return"max"===this.poolingFunc&&Qc.a.assigns(m.tensor,Number.NEGATIVE_INFINITY),Qc.a.assign(m.tensor.hi(n+s,r+c,i+p,o).lo(s,c,p,0),t.tensor),m}return t}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this._calcOutputShape(t.tensor.shape),t=this._padInput(t);var e=bo(t.tensor.shape,4),n=e[0],r=e[1],i=e[2],o=e[3],a=bo(this.poolSize,3),s=a[0],u=a[1],c=a[2];this.output=new nl([],this.outputShape);for(var l=new nl([],[s,u,c,o]),p=bo(this.inputPadding,6),h=p[0],f=p[1],d=p[2],v=p[3],m=p[4],y=p[5],g=0,_=0;g<=n-s;g+=this.strides[0],_++){var b=0;g<h?b=h-g:g+s>n-f&&(b=g+s-(n-f));for(var x=0,w=0;x<=r-u;x+=this.strides[1],w++){var S=0;x<d?S=d-x:x+u>r-v&&(S=x+u-(r-v));for(var T=0,P=0;T<=i-c;T+=this.strides[2],P++){var k=0;T<m?k=m-T:T+c>i-y&&(k=T+c-(i-y));var C=(s-b)*(u-S)*(c-k);Qc.a.assign(l.tensor,t.tensor.hi(g+s,x+u,T+c,o).lo(g,x,T,0));for(var A=0;A<o;A++)"max"===this.poolingFunc?this.output.tensor.set(_,w,P,A,Qc.a.sup(l.tensor.pick(null,null,null,A))):"average"===this.poolingFunc&&this.output.tensor.set(_,w,P,A,Qc.a.sum(l.tensor.pick(null,null,null,A))/C)}}}"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2))}},{key:"_vol2col",value:function(t){var e=bo(t.tensor.shape,4),n=e[0],r=e[1],i=e[2],o=e[3];this.tiledInput||(this.tiledInput=new nl([],[n*r*i,o]));for(var a=new nl([],[n,r,i]),s=new nl([],[n*r*i]),u=0;u<o;u++)Qc.a.assign(a.tensor,t.tensor.pick(null,null,null,u)),s.replaceTensorData(a.tensor.data),Qc.a.assign(this.tiledInput.tensor.pick(null,u),s.tensor);return this.tiledInput}},{key:"_createIndexMap",value:function(){if(!this.poolIndexMap){for(var t=this.inputShape[0],e=this.inputShape[1],n=this.inputShape[2],r=new nl([],[t,e,n]),i=0,o=0;o<t;o++)for(var a=0;a<e;a++)for(var s=0;s<n;s++)r.tensor.set(o,a,s,i),i+=1;if("same"===this.padding){var u=bo(this.inputPadding,6),c=u[0],l=u[1],p=u[2],h=u[3],f=u[4],d=u[5];t=t+c+l,e=e+p+h,n=n+f+d;var v=new nl([],[t,e,n]);Qc.a.assigns(v.tensor,-1),Qc.a.assign(v.tensor.hi(this.inputShape[0]+c,this.inputShape[1]+p,this.inputShape[2]+f).lo(c,p,f),r.tensor),r.tensor=v.tensor}var m=bo(this.poolSize,3),y=m[0],g=m[1],_=m[2],b=this.outputShape[0],x=this.outputShape[1],w=this.outputShape[2];this.poolIndexMap=new nl([],[b*x*w,y*g*_],{type:Int32Array});for(var S=new nl([],[y,g,_]),T=0,P=0,k=t-y;P<=k;P+=this.strides[0])for(var C=0,A=e-g;C<=A;C+=this.strides[1])for(var O=0,E=n-_;O<=E;O+=this.strides[2])Qc.a.assign(S.tensor,r.tensor.hi(P+y,C+g,O+_).lo(P,C,O)),this.poolIndexMap.tensor.data.set(S.tensor.data,T),T+=y*g*_;this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}}},{key:"_callGPU",value:function(t){if(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this._vol2col(t),this.tiledInput.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})),this._calcOutputShape(this.inputShape),this._createIndexMap(),!this.output){var e=bo(this.outputShape,4),n=e[0],r=e[1],i=e[2],o=e[3],a=[n*r*i,o];this.output=new nl([],a),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=h(this.outputShape,!1,-1)}var s=t.is2DReshaped||t.is2DSquareReshaped?t:this.tiledInput,u=this.poolSize[0]*this.poolSize[1]*this.poolSize[2],c="max"===this.poolingFunc,l=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:u,type:"int",name:"poolSize"},{value:+c,type:"bool",name:"isMaxPooling"}];s.glTextureFragments?(s.convert2DRowFragmentedGLTextureToColStack(),$c.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:s,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:l,supportsTextureFragments:!0}),s.removeGLTextureFragmentsAsColStack()):$c.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:s,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:l}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2)))}}]),e}(Wc),mh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Co(this,e),t=Ao(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="MaxPooling3D",t.poolingFunc="max",t}return Oo(e,t),e}(vh),yh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return jo(this,e),t=Fo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="AveragePooling1D",t.poolingFunc="average",t}return Mo(e,t),e}(sh),gh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ro(this,e),t=Do(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="AveragePooling2D",t.poolingFunc="average",t}return Lo(e,t),e}(ph),_h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zo(this,e),t=No(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="AveragePooling3D",t.poolingFunc="average",t}return Go(e,t),e}(vh),bh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n",xh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$o(this,e),t=Xo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="_GlobalPooling1D";var r=n.data_format,i=void 0===r?"channels_last":r;return t.dataFormat=i,t.poolingFunc="max",t.gpu&&(t.poolingProgram=$c.compileProgram(bh)),t}return Yo(e,t),Wo(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){var e=Vo(t.tensor.shape,2),n=e[0],r=e[1];this.output=new nl([],[r]);for(var i=0,o=r;i<o;i++)"max"===this.poolingFunc?this.output.tensor.set(i,Qc.a.sup(t.tensor.pick(null,i))):"average"===this.poolingFunc&&this.output.tensor.set(i,Qc.a.sum(t.tensor.pick(null,i))/n)}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.output||(this.output=new nl([],[this.inputShape[1]]),this.output.createGLTexture({type:"2d",format:"float"}));var e="max"===this.poolingFunc;$c.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0],type:"int",name:"channelDataSize"},{value:+e,type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),wh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jo(this,e),t=Zo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GlobalMaxPooling1D",t.poolingFunc="max",t}return Qo(e,t),e}(xh),Sh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n",Th=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ra(this,e),t=aa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="_GlobalPooling2D";var r=n.data_format,i=void 0===r?"channels_last":r;return t.dataFormat=i,t.poolingFunc="max",t.gpu&&(t.poolingProgram=$c.compileProgram(Sh)),t}return sa(e,t),oa(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0));var e=na(t.tensor.shape,3),n=e[0],r=e[1],i=e[2];this.output=new nl([],[i]);for(var o=0,a=i;o<a;o++)"max"===this.poolingFunc?this.output.tensor.set(o,Qc.a.sup(t.tensor.pick(null,null,o))):"average"===this.poolingFunc&&this.output.tensor.set(o,Qc.a.sum(t.tensor.pick(null,null,o))/(n*r))}},{key:"_callGPU",value:function(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new nl([],[this.inputShape[2]]),this.output.createGLTexture({type:"2d",format:"float"}));var e="max"===this.poolingFunc;$c.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0]*this.inputShape[1],type:"int",name:"channelDataSize"},{value:+e,type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),Ph=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ca(this,e),t=la(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GlobalMaxPooling2D",t.poolingFunc="max",t}return pa(e,t),e}(Th),kh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n",Ch=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};va(this,e),t=ga(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="_GlobalPooling3D";var r=n.data_format,i=void 0===r?"channels_last":r;return t.dataFormat=i,t.poolingFunc="max",t.gpu&&(t.poolingProgram=$c.compileProgram(kh)),t}return _a(e,t),ya(e,[{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0));var e=da(t.tensor.shape,4),n=e[0],r=e[1],i=e[2],o=e[3];this.output=new nl([],[o]);for(var a=0,s=o;a<s;a++)"max"===this.poolingFunc?this.output.tensor.set(a,Qc.a.sup(t.tensor.pick(null,null,null,a))):"average"===this.poolingFunc&&this.output.tensor.set(a,Qc.a.sum(t.tensor.pick(null,null,null,a))/(n*r*i))}},{key:"_callGPU",value:function(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new nl([],[this.inputShape[3]]),this.output.createGLTexture({type:"2d",format:"float"}));var e="max"===this.poolingFunc;$c.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0]*this.inputShape[1]*this.inputShape[2],type:"int",name:"channelDataSize"},{value:+e,type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),Ah=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xa(this,e),t=wa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GlobalMaxPooling3D",t.poolingFunc="max",t}return Sa(e,t),e}(Ch),Oh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pa(this,e),t=ka(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GlobalAveragePooling1D",t.poolingFunc="average",t}return Ca(e,t),e}(xh),Eh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Oa(this,e),t=Ea(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GlobalAveragePooling2D",t.poolingFunc="average",t}return ja(e,t),e}(Th),jh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma(this,e),t=Ia(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="GlobalAveragePooling3D",t.poolingFunc="average",t}return Ra(e,t),e}(Ch),Fh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",Mh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",Ih="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n",Rh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n",Dh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n",Lh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};La(this,e),t=Na(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),Object.defineProperty(qa(t),"_combine",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","array","array","array"],body:function(t,e,n,r){e+n+r}})}),t.layerClass="SimpleRNN";var r=n.units,i=void 0===r?1:r,o=n.activation,a=void 0===o?"tanh":o,s=n.use_bias,u=void 0===s||s,c=n.return_sequences,l=void 0!==c&&c,p=n.go_backwards,h=void 0!==p&&p,f=n.stateful,d=void 0!==f&&f;return t.units=i,t.activation=a,t.activationFunc=Os[a],t.use_bias=u,t.returnSequences=l,t.goBackwards=h,t.stateful=d,t.params=t.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],t.description="output dimensions: ".concat(t.units),t.description+="linear"!==t.activation?", ".concat(t.activation," activation"):"",t.description+=t.returnSequences?", return sequences":"",t.description+=t.goBackwards?", backward direction":"",t.description+=t.stateful?", stateful":"",t.gpu&&(t.copyTextureProgram=$c.compileProgram(Fh),t.matMulProgram=$c.compileProgram(Mh),t.activationProgram=$c.compileProgram(Es[t.activation]),t.gateSummationProgram=$c.compileProgram(Ih),t.timestepReadProgram=$c.compileProgram(Rh),t.timestepWriteProgram=$c.compileProgram(Dh)),t}return Ba(e,t),za(e,[{key:"setWeights",value:function(t){Ga(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setWeights",this).call(this,t),this.use_bias||(this.weights.bias=new nl([],[this.units]),this.gpu&&this.weights.bias.createGLTexture({type:"2d",format:"float"}))}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){var e=this,n=this.units,r=this.stateful&&this.currentHiddenState?this.currentHiddenState:new nl([],[n]),i=new nl([],[n]),o=new nl([],[n]),a=new nl([],[n]);this.hiddenStateSequence=new nl([],[t.tensor.shape[0],n]);for(var s=new nl([],[t.tensor.shape[1]]),u=0,c=t.tensor.shape[0];u<c;u++){var l=this.goBackwards?c-u-1:u;Qc.a.assign(s.tensor,t.tensor.pick(l,null)),[i,o].forEach(function(t){return Qc.a.assigns(t.tensor,0)}),function(){Qc.a.assign(a.tensor,r.tensor),Object(bp.gemv)(1,e.weights.kernel.tensor.transpose(1,0),s.tensor,1,i.tensor),Object(bp.gemv)(1,e.weights.recurrent_kernel.tensor.transpose(1,0),a.tensor,1,o.tensor),e._combine(r.tensor,i.tensor,o.tensor,e.weights.bias.tensor),e.activationFunc(r)}(),this.returnSequences&&Qc.a.assign(this.hiddenStateSequence.tensor.pick(u,null),r.tensor)}this.returnSequences?this.output=this.hiddenStateSequence:this.output=r,this.stateful&&(this.currentHiddenState=r)}},{key:"_stepGPU",value:function(){$c.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempXH,inputs:[{input:this.currentX,name:"A"},{input:this.weights.kernel,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHH,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.recurrent_kernel,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentHiddenStatePreactiv,inputs:[{input:this.tempXH,name:"t1"},{input:this.tempHH,name:"t2"},{input:this.weights.bias,name:"bias"}]}),"linear"!==this.activation?$c.runProgram({program:this.activationProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStatePreactiv,name:"x"}]}):this.currentHiddenState=this.currentHiddenStatePreactiv}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});var e=this.units;this.currentHiddenState&&this.stateful||(this.currentHiddenState=new nl([],[e]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStatePreactiv||(this.currentHiddenStatePreactiv=new nl([],[e]),this.currentHiddenStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXH||(this.tempXH=new nl([],[e]),this.tempXH.createGLTexture({type:"2d",format:"float"})),this.tempHH||(this.tempHH=new nl([],[e]),this.tempHH.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new nl([],[e]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new nl([],[t.glTextureShape[0],e]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new nl([],[t.glTextureShape[0],e]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new nl([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(var n=0,r=t.glTextureShape[0];n<r;n++){var i=this.goBackwards?r-n-1:n;$c.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:i,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&($c.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),$c.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:n,type:"int",name:"index"}]}))}this.returnSequences?this.output=this.hiddenStateSequence:this.output=this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),Uh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",zh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",Nh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n",Gh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(t1, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val * t2_val);\n}\n",Bh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n",qh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n",Vh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D c;\nuniform sampler2D ctm1;\nuniform sampler2D i;\nuniform sampler2D f;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(c, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float c_val = texelFetch(c, ivec2(out_x, out_y), 0).r;\n  float ctm1_val = texelFetch(ctm1, ivec2(out_x, out_y), 0).r;\n  float i_val = texelFetch(i, ivec2(out_x, out_y), 0).r;\n  float f_val = texelFetch(f, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(c_val * i_val + ctm1_val * f_val);\n}\n",$h=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};$a(this,e),t=Xa(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),Object.defineProperty(Ja(t),"_combine",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","array","array","array"],body:function(t,e,n,r){e+n+r}})}),Object.defineProperty(Ja(t),"_update",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","array","array","array"],body:function(t,e,n,r){t=t*n+e*r}})}),t.layerClass="LSTM";var r=n.units,i=void 0===r?1:r,o=n.activation,a=void 0===o?"tanh":o,s=n.use_bias,u=void 0===s||s,c=n.recurrent_activation,l=void 0===c?"hard_sigmoid":c,p=n.return_sequences,h=void 0!==p&&p,f=n.go_backwards,d=void 0!==f&&f,v=n.stateful,m=void 0!==v&&v;return t.units=i,t.activation=a,t.recurrentActivation=l,t.activationFunc=Os[a],t.recurrentActivationFunc=Os[l],t.use_bias=u,t.returnSequences=h,t.goBackwards=d,t.stateful=m,t.params=t.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],t.description="output dimensions: ".concat(t.units),t.description+="linear"!==t.activation?", ".concat(t.activation," activation"):"",t.description+="linear"!==t.recurrentActivation?", ".concat(t.recurrentActivation," recurrent activation"):"",t.description+=t.returnSequences?", return sequences":"",t.description+=t.goBackwards?", backward direction":"",t.description+=t.stateful?", stateful":"",t.gpu&&(t.copyTextureProgram=$c.compileProgram(Uh),t.matMulProgram=$c.compileProgram(zh),t.activationProgram=$c.compileProgram(Es[t.activation]),t.recurrentActivationProgram=$c.compileProgram(Es[t.recurrentActivation]),t.gateSummationProgram=$c.compileProgram(Nh),t.gateProductProgram=$c.compileProgram(Gh),t.timestepReadProgram=$c.compileProgram(Bh),t.timestepWriteProgram=$c.compileProgram(qh),t.updateProgram=$c.compileProgram(Vh)),t}return Ka(e,t),Wa(e,[{key:"setWeights",value:function(t){var n=this;Ya(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setWeights",this).call(this,t);var r=this.weights.kernel.tensor.shape;this.weights.W_i=new nl([],[r[0],this.units]),this.weights.W_f=new nl([],[r[0],this.units]),this.weights.W_c=new nl([],[r[0],this.units]),this.weights.W_o=new nl([],[r[0],this.units]),Qc.a.assign(this.weights.W_i.tensor,this.weights.kernel.tensor.hi(r[0],this.units).lo(0,0)),Qc.a.assign(this.weights.W_f.tensor,this.weights.kernel.tensor.hi(r[0],2*this.units).lo(0,this.units)),Qc.a.assign(this.weights.W_c.tensor,this.weights.kernel.tensor.hi(r[0],3*this.units).lo(0,2*this.units)),Qc.a.assign(this.weights.W_o.tensor,this.weights.kernel.tensor.hi(r[0],4*this.units).lo(0,3*this.units));var i=this.weights.recurrent_kernel.tensor.shape;this.weights.U_i=new nl([],[i[0],this.units]),this.weights.U_f=new nl([],[i[0],this.units]),this.weights.U_c=new nl([],[i[0],this.units]),this.weights.U_o=new nl([],[i[0],this.units]),Qc.a.assign(this.weights.U_i.tensor,this.weights.recurrent_kernel.tensor.hi(i[0],this.units).lo(0,0)),Qc.a.assign(this.weights.U_f.tensor,this.weights.recurrent_kernel.tensor.hi(i[0],2*this.units).lo(0,this.units)),Qc.a.assign(this.weights.U_c.tensor,this.weights.recurrent_kernel.tensor.hi(i[0],3*this.units).lo(0,2*this.units)),Qc.a.assign(this.weights.U_o.tensor,this.weights.recurrent_kernel.tensor.hi(i[0],4*this.units).lo(0,3*this.units)),this.weights.b_i=new nl([],[this.units]),this.weights.b_f=new nl([],[this.units]),this.weights.b_c=new nl([],[this.units]),this.weights.b_o=new nl([],[this.units]),this.use_bias&&(Qc.a.assign(this.weights.b_i.tensor,this.weights.bias.tensor.hi(this.units).lo(0)),Qc.a.assign(this.weights.b_f.tensor,this.weights.bias.tensor.hi(2*this.units).lo(this.units)),Qc.a.assign(this.weights.b_c.tensor,this.weights.bias.tensor.hi(3*this.units).lo(2*this.units)),Qc.a.assign(this.weights.b_o.tensor,this.weights.bias.tensor.hi(4*this.units).lo(3*this.units))),this.gpu&&["W_i","W_f","W_c","W_o","U_i","U_f","U_c","U_o","b_i","b_f","b_c","b_o"].forEach(function(t){n.weights[t].createGLTexture({type:"2d",format:"float"})})}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){var e=this,n=this.weights.b_i.tensor.shape[0],r=this.weights.b_c.tensor.shape[0],i=this.weights.b_f.tensor.shape[0],o=this.weights.b_o.tensor.shape[0],a=new nl([],[n]),s=new nl([],[n]),u=new nl([],[n]),c=new nl([],[i]),l=new nl([],[i]),p=new nl([],[i]),h=new nl([],[o]),f=new nl([],[o]),d=new nl([],[o]),v=new nl([],[r]),m=new nl([],[r]),y=new nl([],[r]),g=this.stateful&&this.previousCandidate?this.previousCandidate:new nl([],[r]),_=this.stateful&&this.currentHiddenState?this.currentHiddenState:new nl([],[r]),b=new nl([],[r]);this.hiddenStateSequence=new nl([],[t.tensor.shape[0],r]);for(var x=new nl([],[t.tensor.shape[1]]),w=0,S=t.tensor.shape[0];w<S;w++){var T=this.goBackwards?S-w-1:w;Qc.a.assign(x.tensor,t.tensor.pick(T,null)),[s,u,l,p,f,d,m,y].forEach(function(t){return Qc.a.assigns(t.tensor,0)}),function(){Qc.a.assign(b.tensor,_.tensor),Object(bp.gemv)(1,e.weights.W_i.tensor.transpose(1,0),x.tensor,1,s.tensor),Object(bp.gemv)(1,e.weights.U_i.tensor.transpose(1,0),b.tensor,1,u.tensor),e._combine(a.tensor,s.tensor,u.tensor,e.weights.b_i.tensor),e.recurrentActivationFunc(a),Object(bp.gemv)(1,e.weights.W_f.tensor.transpose(1,0),x.tensor,1,l.tensor),Object(bp.gemv)(1,e.weights.U_f.tensor.transpose(1,0),b.tensor,1,p.tensor),e._combine(c.tensor,l.tensor,p.tensor,e.weights.b_f.tensor),e.recurrentActivationFunc(c),Object(bp.gemv)(1,e.weights.W_o.tensor.transpose(1,0),x.tensor,1,f.tensor),Object(bp.gemv)(1,e.weights.U_o.tensor.transpose(1,0),b.tensor,1,d.tensor),e._combine(h.tensor,f.tensor,d.tensor,e.weights.b_o.tensor),e.recurrentActivationFunc(h),Object(bp.gemv)(1,e.weights.W_c.tensor.transpose(1,0),x.tensor,1,m.tensor),Object(bp.gemv)(1,e.weights.U_c.tensor.transpose(1,0),b.tensor,1,y.tensor),e._combine(v.tensor,m.tensor,y.tensor,e.weights.b_c.tensor),e.activationFunc(v),e._update(v.tensor,g.tensor,a.tensor,c.tensor),Qc.a.assign(g.tensor,v.tensor),e.activationFunc(v),Qc.a.mul(_.tensor,h.tensor,v.tensor)}(),Qc.a.assign(this.hiddenStateSequence.tensor.pick(w,null),_.tensor)}this.returnSequences?this.output=this.hiddenStateSequence:this.output=_,this.stateful&&(this.previousCandidate=g,this.currentHiddenState=_)}},{key:"_stepGPU",value:function(){$c.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempXI,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_i,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHI,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_i,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentInputGateStatePreactiv,inputs:[{input:this.tempXI,name:"t1"},{input:this.tempHI,name:"t2"},{input:this.weights.b_i,name:"bias"}]}),"linear"!==this.recurrentActivation?$c.runProgram({program:this.recurrentActivationProgram,output:this.currentInputGateState,inputs:[{input:this.currentInputGateStatePreactiv,name:"x"}]}):this.currentInputGateState=this.currentInputGateStatePreactiv,$c.runProgram({program:this.matMulProgram,output:this.tempXF,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_f,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHF,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_f,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentForgetGateStatePreactiv,inputs:[{input:this.tempXF,name:"t1"},{input:this.tempHF,name:"t2"},{input:this.weights.b_f,name:"bias"}]}),"linear"!==this.recurrentActivation?$c.runProgram({program:this.recurrentActivationProgram,output:this.currentForgetGateState,inputs:[{input:this.currentForgetGateStatePreactiv,name:"x"}]}):this.currentForgetGateState=this.currentForgetGateStatePreactiv,$c.runProgram({program:this.matMulProgram,output:this.tempXO,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_o,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHO,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_o,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentOutputGateStatePreactiv,inputs:[{input:this.tempXO,name:"t1"},{input:this.tempHO,name:"t2"},{input:this.weights.b_o,name:"bias"}]}),"linear"!==this.recurrentActivation?$c.runProgram({program:this.recurrentActivationProgram,output:this.currentOutputGateState,inputs:[{input:this.currentOutputGateStatePreactiv,name:"x"}]}):this.currentOutputGateState=this.currentOutputGateStatePreactiv,$c.runProgram({program:this.matMulProgram,output:this.tempXC,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_c,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHC,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_c,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentCandidatePreactiv,inputs:[{input:this.tempXC,name:"t1"},{input:this.tempHC,name:"t2"},{input:this.weights.b_c,name:"bias"}]}),"linear"!==this.activation?$c.runProgram({program:this.activationProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidatePreactiv,name:"x"}]}):this.currentCandidate=this.currentCandidatePreactiv,$c.runProgram({program:this.copyTextureProgram,output:this.currentCandidateCopy,inputs:[{input:this.currentCandidate,name:"source"}]}),$c.runProgram({program:this.updateProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidateCopy,name:"c"},{input:this.previousCandidate,name:"ctm1"},{input:this.currentInputGateState,name:"i"},{input:this.currentForgetGateState,name:"f"}]}),$c.runProgram({program:this.copyTextureProgram,output:this.previousCandidate,inputs:[{input:this.currentCandidate,name:"source"}]}),$c.runProgram({program:this.copyTextureProgram,output:this.currentCandidatePreactiv,inputs:[{input:this.currentCandidate,name:"source"}]}),"linear"!==this.activation?$c.runProgram({program:this.activationProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidatePreactiv,name:"x"}]}):this.currentCandidate=this.currentCandidatePreactiv,$c.runProgram({program:this.gateProductProgram,output:this.currentHiddenState,inputs:[{input:this.currentOutputGateState,name:"t1"},{input:this.currentCandidate,name:"t2"}]})}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});var e=this.weights.b_i.glTextureShape[1],n=this.weights.b_c.glTextureShape[1],r=this.weights.b_f.glTextureShape[1],i=this.weights.b_o.glTextureShape[1];this.currentInputGateState||(this.currentInputGateState=new nl([],[e]),this.currentInputGateState.createGLTexture({type:"2d",format:"float"})),this.currentInputGateStatePreactiv||(this.currentInputGateStatePreactiv=new nl([],[e]),this.currentInputGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXI||(this.tempXI=new nl([],[e]),this.tempXI.createGLTexture({type:"2d",format:"float"})),this.tempHI||(this.tempHI=new nl([],[e]),this.tempHI.createGLTexture({type:"2d",format:"float"})),this.currentForgetGateState||(this.currentForgetGateState=new nl([],[r]),this.currentForgetGateState.createGLTexture({type:"2d",format:"float"})),this.currentForgetGateStatePreactiv||(this.currentForgetGateStatePreactiv=new nl([],[r]),this.currentForgetGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXF||(this.tempXF=new nl([],[r]),this.tempXF.createGLTexture({type:"2d",format:"float"})),this.tempHF||(this.tempHF=new nl([],[r]),this.tempHF.createGLTexture({type:"2d",format:"float"})),this.currentOutputGateState||(this.currentOutputGateState=new nl([],[i]),this.currentOutputGateState.createGLTexture({type:"2d",format:"float"})),this.currentOutputGateStatePreactiv||(this.currentOutputGateStatePreactiv=new nl([],[i]),this.currentOutputGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXO||(this.tempXO=new nl([],[i]),this.tempXO.createGLTexture({type:"2d",format:"float"})),this.tempHO||(this.tempHO=new nl([],[i]),this.tempHO.createGLTexture({type:"2d",format:"float"})),this.currentCandidate||(this.currentCandidate=new nl([],[n]),this.currentCandidate.createGLTexture({type:"2d",format:"float"})),this.currentCandidateCopy||(this.currentCandidateCopy=new nl([],[n]),this.currentCandidateCopy.createGLTexture({type:"2d",format:"float"})),this.currentCandidatePreactiv||(this.currentCandidatePreactiv=new nl([],[n]),this.currentCandidatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXC||(this.tempXC=new nl([],[n]),this.tempXC.createGLTexture({type:"2d",format:"float"})),this.tempHC||(this.tempHC=new nl([],[n]),this.tempHC.createGLTexture({type:"2d",format:"float"})),this.previousCandidate&&this.stateful||(this.previousCandidate=new nl([],[n]),this.previousCandidate.createGLTexture({type:"2d",format:"float"})),this.currentHiddenState&&this.stateful||(this.currentHiddenState=new nl([],[n]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new nl([],[n]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new nl([],[t.glTextureShape[0],n]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new nl([],[t.glTextureShape[0],n]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new nl([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(var o=0,a=t.glTextureShape[0];o<a;o++){var s=this.goBackwards?a-o-1:o;$c.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:s,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&($c.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),$c.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:o,type:"int",name:"index"}]}))}this.returnSequences?this.output=this.hiddenStateSequence:this.output=this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),Hh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",Wh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",Xh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n",Yh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(t1, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val * t2_val);\n}\n",Kh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n",Jh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n",Zh="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D h;\nuniform sampler2D htm1;\nuniform sampler2D z;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(h, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float h_val = texelFetch(h, ivec2(out_x, out_y), 0).r;\n  float htm1_val = texelFetch(htm1, ivec2(out_x, out_y), 0).r;\n  float z_val = texelFetch(z, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(h_val * (float(1.0) - z_val) + htm1_val * z_val);\n}\n",Qh=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qa(this,e),t=ns(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),Object.defineProperty(os(t),"_combine",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","array","array","array"],body:function(t,e,n,r){e+n+r}})}),Object.defineProperty(os(t),"_update",{configurable:!0,enumerable:!0,writable:!0,value:ol()({args:["array","array","array"],body:function(t,e,n){t=t*(1-n)+e*n}})}),t.layerClass="GRU";var r=n.units,i=void 0===r?1:r,o=n.activation,a=void 0===o?"tanh":o,s=n.use_bias,u=void 0===s||s,c=n.recurrent_activation,l=void 0===c?"hard_sigmoid":c,p=n.return_sequences,h=void 0!==p&&p,f=n.go_backwards,d=void 0!==f&&f,v=n.stateful,m=void 0!==v&&v;return t.units=i,t.activation=a,t.recurrentActivation=l,t.activationFunc=Os[a],t.recurrentActivationFunc=Os[l],t.use_bias=u,t.returnSequences=h,t.goBackwards=d,t.stateful=m,t.params=t.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],t.description="output dimensions: ".concat(t.units),t.description+="linear"!==t.activation?", ".concat(t.activation," activation"):"",t.description+="linear"!==t.recurrentActivation?", ".concat(t.recurrentActivation," recurrent activation"):"",t.description+=t.returnSequences?", return sequences":"",t.description+=t.goBackwards?", backward direction":"",t.description+=t.stateful?", stateful":"",t.gpu&&(t.copyTextureProgram=$c.compileProgram(Hh),t.matMulProgram=$c.compileProgram(Wh),t.activationProgram=$c.compileProgram(Es[t.activation]),t.recurrentActivationProgram=$c.compileProgram(Es[t.recurrentActivation]),t.gateSummationProgram=$c.compileProgram(Xh),t.gateProductProgram=$c.compileProgram(Yh),t.timestepReadProgram=$c.compileProgram(Kh),t.timestepWriteProgram=$c.compileProgram(Jh),t.updateProgram=$c.compileProgram(Zh)),t}return is(e,t),es(e,[{key:"setWeights",value:function(t){var n=this;rs(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setWeights",this).call(this,t);var r=this.weights.kernel.tensor.shape;this.weights.W_z=new nl([],[r[0],this.units]),this.weights.W_r=new nl([],[r[0],this.units]),this.weights.W_h=new nl([],[r[0],this.units]),Qc.a.assign(this.weights.W_z.tensor,this.weights.kernel.tensor.hi(r[0],this.units).lo(0,0)),Qc.a.assign(this.weights.W_r.tensor,this.weights.kernel.tensor.hi(r[0],2*this.units).lo(0,this.units)),Qc.a.assign(this.weights.W_h.tensor,this.weights.kernel.tensor.hi(r[0],3*this.units).lo(0,2*this.units));var i=this.weights.recurrent_kernel.tensor.shape;this.weights.U_z=new nl([],[i[0],this.units]),this.weights.U_r=new nl([],[i[0],this.units]),this.weights.U_h=new nl([],[i[0],this.units]),Qc.a.assign(this.weights.U_z.tensor,this.weights.recurrent_kernel.tensor.hi(i[0],this.units).lo(0,0)),Qc.a.assign(this.weights.U_r.tensor,this.weights.recurrent_kernel.tensor.hi(i[0],2*this.units).lo(0,this.units)),Qc.a.assign(this.weights.U_h.tensor,this.weights.recurrent_kernel.tensor.hi(i[0],3*this.units).lo(0,2*this.units)),this.weights.b_z=new nl([],[this.units]),this.weights.b_r=new nl([],[this.units]),this.weights.b_h=new nl([],[this.units]),this.use_bias&&(Qc.a.assign(this.weights.b_z.tensor,this.weights.bias.tensor.hi(this.units).lo(0)),Qc.a.assign(this.weights.b_r.tensor,this.weights.bias.tensor.hi(2*this.units).lo(this.units)),Qc.a.assign(this.weights.b_h.tensor,this.weights.bias.tensor.hi(3*this.units).lo(2*this.units))),this.gpu&&["W_z","W_r","W_h","U_z","U_r","U_h","b_z","b_r","b_h"].forEach(function(t){n.weights[t].createGLTexture({type:"2d",format:"float"})})}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){var e=this,n=this.weights.b_z.tensor.shape[0],r=this.weights.b_r.tensor.shape[0],i=this.weights.b_h.tensor.shape[0],o=new nl([],[n]),a=new nl([],[n]),s=new nl([],[n]),u=new nl([],[r]),c=new nl([],[r]),l=new nl([],[r]),p=this.stateful&&this.currentHiddenState?this.currentHiddenState:new nl([],[i]),h=new nl([],[i]),f=new nl([],[i]),d=new nl([],[i]);this.hiddenStateSequence=new nl([],[t.tensor.shape[0],i]);for(var v=new nl([],[t.tensor.shape[1]]),m=0,y=t.tensor.shape[0];m<y;m++){var g=this.goBackwards?y-m-1:m;Qc.a.assign(v.tensor,t.tensor.pick(g,null)),[a,s,c,l,h,f].forEach(function(t){return Qc.a.assigns(t.tensor,0)}),function(){Qc.a.assign(d.tensor,p.tensor),Object(bp.gemv)(1,e.weights.W_z.tensor.transpose(1,0),v.tensor,1,a.tensor),Object(bp.gemv)(1,e.weights.U_z.tensor.transpose(1,0),d.tensor,1,s.tensor),e._combine(o.tensor,a.tensor,s.tensor,e.weights.b_z.tensor),e.recurrentActivationFunc(o),Object(bp.gemv)(1,e.weights.W_r.tensor.transpose(1,0),v.tensor,1,c.tensor),Object(bp.gemv)(1,e.weights.U_r.tensor.transpose(1,0),d.tensor,1,l.tensor),e._combine(u.tensor,c.tensor,l.tensor,e.weights.b_r.tensor),e.recurrentActivationFunc(u),Qc.a.muleq(u.tensor,d.tensor),Object(bp.gemv)(1,e.weights.W_h.tensor.transpose(1,0),v.tensor,1,h.tensor),Object(bp.gemv)(1,e.weights.U_h.tensor.transpose(1,0),u.tensor,1,f.tensor),e._combine(p.tensor,h.tensor,f.tensor,e.weights.b_h.tensor),e.activationFunc(p),e._update(p.tensor,d.tensor,o.tensor)}(),this.returnSequences&&Qc.a.assign(this.hiddenStateSequence.tensor.pick(m,null),p.tensor)}this.returnSequences?this.output=this.hiddenStateSequence:this.output=p,this.stateful&&(this.currentHiddenState=p)}},{key:"_stepGPU",value:function(){$c.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempXZ,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_z,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHZ,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_z,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentUpdateGateStatePreactiv,inputs:[{input:this.tempXZ,name:"t1"},{input:this.tempHZ,name:"t2"},{input:this.weights.b_z,name:"bias"}]}),"linear"!==this.recurrentActivation?$c.runProgram({program:this.recurrentActivationProgram,output:this.currentUpdateGateState,inputs:[{input:this.currentUpdateGateStatePreactiv,name:"x"}]}):this.currentUpdateGateState=this.currentUpdateGateStatePreactiv,$c.runProgram({program:this.matMulProgram,output:this.tempXR,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_r,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHR,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights.U_r,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentResetGateStatePreactiv,inputs:[{input:this.tempXR,name:"t1"},{input:this.tempHR,name:"t2"},{input:this.weights.b_r,name:"bias"}]}),"linear"!==this.recurrentActivation?$c.runProgram({program:this.recurrentActivationProgram,output:this.currentResetGateState,inputs:[{input:this.currentResetGateStatePreactiv,name:"x"}]}):this.currentResetGateState=this.currentResetGateStatePreactiv,$c.runProgram({program:this.copyTextureProgram,output:this.currentResetGateStateCopy,inputs:[{input:this.currentResetGateState,name:"source"}]}),$c.runProgram({program:this.gateProductProgram,output:this.currentResetGateState,inputs:[{input:this.currentResetGateStateCopy,name:"t1"},{input:this.previousHiddenState,name:"t2"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempXH,inputs:[{input:this.currentX,name:"A"},{input:this.weights.W_h,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.matMulProgram,output:this.tempHH,inputs:[{input:this.currentResetGateState,name:"A"},{input:this.weights.U_h,name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),$c.runProgram({program:this.gateSummationProgram,output:this.currentHiddenStatePreactiv,inputs:[{input:this.tempXH,name:"t1"},{input:this.tempHH,name:"t2"},{input:this.weights.b_h,name:"bias"}]}),"linear"!==this.activation?$c.runProgram({program:this.activationProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStatePreactiv,name:"x"}]}):this.currentHiddenState=this.currentHiddenStatePreactiv,$c.runProgram({program:this.copyTextureProgram,output:this.currentHiddenStateCopy,inputs:[{input:this.currentHiddenState,name:"source"}]}),$c.runProgram({program:this.updateProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStateCopy,name:"h"},{input:this.previousHiddenState,name:"htm1"},{input:this.currentUpdateGateState,name:"z"}]})}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});var e=this.weights.b_z.glTextureShape[1],n=this.weights.b_r.glTextureShape[1],r=this.weights.b_h.glTextureShape[1];this.currentHiddenState&&this.stateful||(this.currentHiddenState=new nl([],[r]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStateCopy||(this.currentHiddenStateCopy=new nl([],[r]),this.currentHiddenStateCopy.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStatePreactiv||(this.currentHiddenStatePreactiv=new nl([],[r]),this.currentHiddenStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.currentUpdateGateState||(this.currentUpdateGateState=new nl([],[e]),this.currentUpdateGateState.createGLTexture({type:"2d",format:"float"})),this.currentUpdateGateStatePreactiv||(this.currentUpdateGateStatePreactiv=new nl([],[e]),this.currentUpdateGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXZ||(this.tempXZ=new nl([],[e]),this.tempXZ.createGLTexture({type:"2d",format:"float"})),this.tempHZ||(this.tempHZ=new nl([],[e]),this.tempHZ.createGLTexture({type:"2d",format:"float"})),this.currentResetGateState||(this.currentResetGateState=new nl([],[n]),this.currentResetGateState.createGLTexture({type:"2d",format:"float"})),this.currentResetGateStateCopy||(this.currentResetGateStateCopy=new nl([],[n]),this.currentResetGateStateCopy.createGLTexture({type:"2d",format:"float"})),this.currentResetGateStatePreactiv||(this.currentResetGateStatePreactiv=new nl([],[n]),this.currentResetGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXR||(this.tempXR=new nl([],[n]),this.tempXR.createGLTexture({type:"2d",format:"float"})),this.tempHR||(this.tempHR=new nl([],[n]),this.tempHR.createGLTexture({type:"2d",format:"float"})),this.tempXH||(this.tempXH=new nl([],[r]),this.tempXH.createGLTexture({type:"2d",format:"float"})),this.tempHH||(this.tempHH=new nl([],[r]),this.tempHH.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new nl([],[r]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new nl([],[t.glTextureShape[0],r]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new nl([],[t.glTextureShape[0],r]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new nl([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(var i=0,o=t.glTextureShape[0];i<o;i++){var a=this.goBackwards?o-i-1:i;$c.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:a,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&($c.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),$c.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:i,type:"int",name:"index"}]}))}this.returnSequences?this.output=this.hiddenStateSequence:this.output=this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),tf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",ef="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",nf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int t;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, t), 0).r);\n}\n",rf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D outputCopy;\nuniform sampler2D sliceOutput;\nuniform int t;\nuniform int timesteps;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(sliceOutput, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(timesteps) * outTex.y);\n\n  if (t == out_y) {\n    outColor = vec4(texelFetch(sliceOutput, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = texelFetch(outputCopy, ivec2(out_x, out_y), 0);\n  }\n}\n",of="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D outputCopy;\nuniform sampler2D sliceOutput;\nuniform isampler2D indexMap;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(outputCopy, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(textureSize(sliceOutput, 0)[0])));\n    int colIndex = int(mod(float(index), float(textureSize(sliceOutput, 0)[0])));\n    float val = texelFetch(sliceOutput, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = texelFetch(outputCopy, ivec2(out_x, out_y), 0);\n  }\n}\n",af=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};us(this,e),t=ps(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="TimeDistributed";var r=n.layer;r||t.throwError("wrapped layer is undefined.");var i=Object.assign({},r.config,{gpu:n.gpu});return t.wrappedLayer=new Fs[r.class_name](i),t.wrappedLayer.outbound=[null],t.gpu&&(t.copyTextureProgram=$c.compileProgram(tf),t.mapInputProgram=$c.compileProgram(ef),t.selectSliceProgram=$c.compileProgram(nf),t.copySliceOutputProgram=$c.compileProgram(rf),t.mapSliceOutputProgram=$c.compileProgram(of)),t}return hs(e,t),ls(e,[{key:"setWeights",value:function(t){this.wrappedLayer.setWeights(t)}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){var e,n,r=ss(t.tensor.shape.slice(1)),i=new nl([],r);Qc.a.assign(i.tensor,(e=t.tensor).pick.apply(e,[0].concat(ss(Array(r.length).fill(null)))));var o=this.wrappedLayer.call(i),a=o.tensor.shape.slice();this.output=new nl([],[t.tensor.shape[0]].concat(ss(a))),Qc.a.assign((n=this.output.tensor).pick.apply(n,[0].concat(ss(Array(a.length).fill(null)))),o.tensor);for(var s=1,u=t.tensor.shape[0];s<u;s++){var c,l;Qc.a.assign(i.tensor,(c=t.tensor).pick.apply(c,[s].concat(ss(Array(r.length).fill(null))))),o=this.wrappedLayer.call(i),Qc.a.assign((l=this.output.tensor).pick.apply(l,[s].concat(ss(Array(a.length).fill(null)))),o.tensor)}}},{key:"_createIndexMap",value:function(t){if(!this.indexMaps){var e=new nl(t.data,t.shape,{type:Int32Array});this.indexMaps=[];for(var n=this.inputShape[0],r=this.inputShape.slice(1),i=0;i<n;i++){var o,a=new nl([],r,{type:Int32Array});Qc.a.assign(a.tensor,(o=e.tensor).pick.apply(o,[i].concat(ss(Array(r.length).fill(null))))),a.reshapeTo2DSquare(),a.createGLTexture({type:"2d",format:"int"}),this.indexMaps.push(a)}}}},{key:"_createOutputIndexMap",value:function(t){if(!this.outputIndexMaps){var e=new nl(t.data,t.shape,{type:Int32Array});this.outputIndexMaps=[];for(var n=this.outputShape[0],r=this.outputShape.slice(1),i=0;i<n;i++){var o,a=new nl([],this.outputShape,{type:Int32Array});Qc.a.assigns(a.tensor,-1),Qc.a.assign((o=a.tensor).pick.apply(o,[i].concat(ss(Array(r.length).fill(null)))),e.tensor),a.reshapeTo2DSquare(),a.createGLTexture({type:"2d",format:"int"}),this.outputIndexMaps.push(a)}}}},{key:"_callGPU",value:function(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape,t.glTexture||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"}))),this.inputShape.length>2&&this._createIndexMap(t.indicesForReshaped);var e=this.inputShape[0],n=this.inputShape.slice(1);this.slice||(this.slice=new nl([],n),n.length<=2?this.slice.createGLTexture({type:"2d",format:"float"}):(this.slice.reshapeTo2DSquare(),this.slice.createGLTexture({type:"2d",format:"float"}))),this.inputShape.length<=2?$c.runProgram({program:this.selectSliceProgram,output:this.slice,inputs:[{input:t,name:"x"}],uniforms:[{value:0,type:"int",name:"t"}]}):$c.runProgram({program:this.mapInputProgram,output:this.slice,inputs:[{input:t,name:"x"},{input:this.indexMaps[0],name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),this.wrappedLayer._callGPU(this.slice),this.sliceOutput=this.wrappedLayer.output,this.output||(this.inputShape.length<=2?(this.outputShape=[e,this.sliceOutput.glTextureShape[1]],this.output=new nl([],this.outputShape),this.outputCopy=new nl([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"}),this.outputCopy.createGLTexture({type:"2d",format:"float"})):(this.outputShape=[e].concat(ss(this.sliceOutput.originalShape)),this.output=new nl([],this.outputShape),this.outputCopy=new nl([],this.outputShape),this.output.reshapeTo2DSquare(),this.outputCopy.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"}),this.outputCopy.createGLTexture({type:"2d",format:"float"}),this._createOutputIndexMap(this.sliceOutput.indicesForReshaped))),$c.runProgram({program:this.copyTextureProgram,output:this.outputCopy,inputs:[{input:this.output,name:"source"}]}),this.inputShape.length<=2?$c.runProgram({program:this.copySliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"}],uniforms:[{value:0,type:"int",name:"t"},{value:e,type:"int",name:"timesteps"}]}):$c.runProgram({program:this.mapSliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"},{input:this.outputIndexMaps[0],name:"indexMap"}]});for(var r=1;r<e;r++)this.inputShape.length<=2?$c.runProgram({program:this.selectSliceProgram,output:this.slice,inputs:[{input:t,name:"x"}],uniforms:[{value:r,type:"int",name:"t"}]}):$c.runProgram({program:this.mapInputProgram,output:this.slice,inputs:[{input:t,name:"x"},{input:this.indexMaps[r],name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),this.wrappedLayer._callGPU(this.slice),this.sliceOutput=this.wrappedLayer.output,$c.runProgram({program:this.copyTextureProgram,output:this.outputCopy,inputs:[{input:this.output,name:"source"}]}),this.inputShape.length<=2?$c.runProgram({program:this.copySliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"}],uniforms:[{value:r,type:"int",name:"t"},{value:e,type:"int",name:"timesteps"}]}):$c.runProgram({program:this.mapSliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"},{input:this.outputIndexMaps[r],name:"indexMap"}]});0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}]),e}(Wc),sf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",uf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0] * 2) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_x >= 0 && out_x < size[0]) {\n    outColor = vec4(texelFetch(forward, ivec2(out_x, out_y), 0).r);\n  } else {\n    outColor = vec4(texelFetch(backward, ivec2(out_x - size[0], size[1] - out_y - 1), 0).r);\n  }\n}\n",cf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(forward_val + backward_val);\n}\n",lf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(forward_val * backward_val);\n}\n",pf="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(0.5 * (forward_val + backward_val));\n}\n",hf=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ds(this,e),t=ys(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n)),t.layerClass="Bidirectional";var r=n.layer,i=n.merge_mode,o=void 0===i?"concat":i;r||t.throwError("wrapped layer is undefined."),["SimpleRNN","GRU","LSTM"].includes(r.class_name)||t.throwError("cannot wrap ".concat(r.class_name," layer.")),["concat","sum","mul","ave"].includes(o)||t.throwError("merge_mode ".concat(o," not supported."));var a=Object.assign({},r.config,{gpu:n.gpu}),s=Object.assign({},r.config,{gpu:n.gpu});return s.go_backwards=!s.go_backwards,t.forwardLayer=new js[r.class_name](a),t.backwardLayer=new js[r.class_name](s),t.forwardLayer.outbound=[null],t.backwardLayer.outbound=[null],t.mergeMode=o,t.returnSequences=r.config.return_sequences,t.gpu&&(t.copyTextureProgram=$c.compileProgram(sf),"concat"===t.mergeMode?t.mergeProgram=$c.compileProgram(uf):"sum"===t.mergeMode?t.mergeProgram=$c.compileProgram(cf):"mul"===t.mergeMode?t.mergeProgram=$c.compileProgram(lf):"ave"===t.mergeMode&&(t.mergeProgram=$c.compileProgram(pf))),t}return gs(e,t),ms(e,[{key:"setWeights",value:function(t){this.forwardLayer.setWeights(t.slice(0,t.length/2)),this.backwardLayer.setWeights(t.slice(t.length/2))}},{key:"call",value:function(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}},{key:"_callCPU",value:function(t){this.forwardLayer._callCPU(new nl(t.tensor.data,t.tensor.shape)),this.backwardLayer._callCPU(new nl(t.tensor.data,t.tensor.shape));var e=this.forwardLayer.output,n=this.backwardLayer.output;this.returnSequences&&(n.tensor=n.tensor.step(-1));var r=e.tensor.shape.slice();"concat"===this.mergeMode&&(r[r.length-1]+=n.tensor.shape[r.length-1]),this.output=new nl([],r),"concat"===this.mergeMode?this.returnSequences?(Qc.a.assign(this.output.tensor.hi(r[0],e.tensor.shape[1]).lo(0,0),e.tensor),Qc.a.assign(this.output.tensor.hi(r[0],r[1]).lo(0,e.tensor.shape[1]),n.tensor)):(Qc.a.assign(this.output.tensor.hi(e.tensor.shape[0]).lo(0),e.tensor),Qc.a.assign(this.output.tensor.hi(r[0]).lo(e.tensor.shape[0]),n.tensor)):"sum"===this.mergeMode?(Qc.a.addeq(this.output.tensor,e.tensor),Qc.a.addeq(this.output.tensor,n.tensor)):"mul"===this.mergeMode?(Qc.a.assigns(this.output.tensor,1),Qc.a.muleq(this.output.tensor,e.tensor),Qc.a.muleq(this.output.tensor,n.tensor)):"ave"===this.mergeMode&&(Qc.a.addeq(this.output.tensor,e.tensor),Qc.a.addeq(this.output.tensor,n.tensor),Qc.a.divseq(this.output.tensor,2))}},{key:"_callGPU",value:function(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputCopy||(this.inputCopy=new nl([],t.glTextureShape),this.inputCopy.createGLTexture({type:"2d",format:"float"})),$c.runProgram({program:this.copyTextureProgram,output:this.inputCopy,inputs:[{input:t,name:"source"}]}),this.forwardLayer._callGPU(t),this.backwardLayer._callGPU(this.inputCopy);var e=this.forwardLayer.output,n=this.backwardLayer.output,r=e.glTextureShape.slice();"concat"===this.mergeMode&&(r[1]+=n.glTextureShape[1]),this.output||(this.output=new nl([],r),this.output.createGLTexture({type:"2d",format:"float"}),this.returnSequences||(this.output.is1D=!0)),$c.runProgram({program:this.mergeProgram,output:this.output,inputs:[{input:e,name:"forward"},{input:n,name:"backward"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}]),e}(Wc),ff=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(bs(this,t),this.modelLayersMap=e.modelLayersMap,this.gpu=e.gpu,!this.modelLayersMap)throw new Error("[CAM] modelLayersMap is required")}return ws(t,[{key:"initialize",value:function(){var t=this;if(this.modelLayersMap.forEach(function(e){"GlobalAveragePooling2D"===e.layerClass&&(t.enabled=!0,t.poolLayer=e)}),this.enabled&&!this.data){this.featureMaps=this.modelLayersMap.get(this.poolLayer.inbound[0]).output;var e=this.poolLayer;for(e.outbound.length||(this.weights=this.poolLayer.output);e.outbound.length;)e=this.modelLayersMap.get(e.outbound[0]),e.weights.kernel?this.weights=e.weights.kernel:this.weights=this.poolLayer.output;if(this.featureMaps.is2DReshaped?this.inputShape=this.featureMaps.originalShape.slice(0,2):this.inputShape=this.featureMaps.tensor.shape.slice(0,2),1===this.weights.tensor.shape.length)this.shape=this.inputShape;else{var n=this.weights.tensor.shape[1];this.shape=_s(this.inputShape).concat([n])}this.data=new Float32Array(this.shape.reduce(function(t,e){return t*e},1))}}},{key:"update",value:function(){if(this.enabled){this.featureMaps=this.modelLayersMap.get(this.poolLayer.inbound[0]).output,this.gpu?this._updateGPU():this._updateCPU();var t=Qc.a.inf(this.output.tensor),e=Qc.a.sup(this.output.tensor);Qc.a.divseq(Qc.a.subseq(this.output.tensor,t),e-t),this.data=this.output.tensor.data}}},{key:"_updateCPU",value:function(){if(this.featureMaps.is2DReshaped||this.featureMaps.reshapeTo2D(),1===this.weights.tensor.shape.length){this.output||(this.output=new nl([],this.shape));var t=new nl([],[this.shape[0]*this.shape[1]]);Object(bp.gemv)(1,this.featureMaps.tensor,this.weights.tensor,1,t.tensor),this.output.replaceTensorData(t.tensor.data)}else this.output||(this.output=new nl([],this.shape)),this.output.reshapeTo2D(),Al()(this.output.tensor,this.featureMaps.tensor,this.weights.tensor,1,1),this.output.reshapeFrom2D();Qc.a.maxseq(this.output.tensor,0),this.featureMaps.is2DReshaped&&this.featureMaps.reshapeFrom2D()}},{key:"_updateGPU",value:function(){this.output||(this.output=new nl([],this.shape));var t=this.weights.is1D;!this.output.glTexture&&t?this.output.createGLTexture({type:"2d",format:"float"}):(this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"}));var e=t?this.weights.glTextureShape[1]:this.weights.glTextureShape[0];if(!this.program){var n=mt("cam",this.output.glTextureShape,e,t);this.program=$c.compileProgram(n)}$c.runProgram({program:this.program,output:this.output,inputs:[{input:this.featureMaps,name:"featureMaps"},{input:this.weights,name:"weights"}]}),this.output.transferFromGLTexture(),this.output.is2DReshaped&&this.output.reshapeFrom2D()}}]),t}(),df=n(455),vf=(n.n(df),df.Reader),mf=df.Writer,yf=df.util,gf=df.roots.default||(df.roots.default={}),_f=(gf.Weights=function(){function t(t){if(this.shape=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.layerName="",t.prototype.weightName="",t.prototype.shape=yf.emptyArray,t.prototype.type="",t.prototype.data=yf.newBuffer([]),t.prototype.quantizeMin=0,t.prototype.quantizeMax=0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=mf.create()),null!=t.layerName&&t.hasOwnProperty("layerName")&&e.uint32(10).string(t.layerName),null!=t.weightName&&t.hasOwnProperty("weightName")&&e.uint32(18).string(t.weightName),null!=t.shape&&t.shape.length){e.uint32(26).fork();for(var n=0;n<t.shape.length;++n)e.uint32(t.shape[n]);e.ldelim()}return null!=t.type&&t.hasOwnProperty("type")&&e.uint32(34).string(t.type),null!=t.data&&t.hasOwnProperty("data")&&e.uint32(42).bytes(t.data),null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&e.uint32(53).float(t.quantizeMin),null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&e.uint32(61).float(t.quantizeMax),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof vf||(t=vf.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new gf.Weights;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.layerName=t.string();break;case 2:r.weightName=t.string();break;case 3:if(r.shape&&r.shape.length||(r.shape=[]),2==(7&i))for(var o=t.uint32()+t.pos;t.pos<o;)r.shape.push(t.uint32());else r.shape.push(t.uint32());break;case 4:r.type=t.string();break;case 5:r.data=t.bytes();break;case 6:r.quantizeMin=t.float();break;case 7:r.quantizeMax=t.float();break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof vf||(t=new vf(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==Ss(t)||null===t)return"object expected";if(null!=t.layerName&&t.hasOwnProperty("layerName")&&!yf.isString(t.layerName))return"layerName: string expected";if(null!=t.weightName&&t.hasOwnProperty("weightName")&&!yf.isString(t.weightName))return"weightName: string expected";if(null!=t.shape&&t.hasOwnProperty("shape")){if(!Array.isArray(t.shape))return"shape: array expected";for(var e=0;e<t.shape.length;++e)if(!yf.isInteger(t.shape[e]))return"shape: integer[] expected"}return null!=t.type&&t.hasOwnProperty("type")&&!yf.isString(t.type)?"type: string expected":null!=t.data&&t.hasOwnProperty("data")&&!(t.data&&"number"==typeof t.data.length||yf.isString(t.data))?"data: buffer expected":null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&"number"!=typeof t.quantizeMin?"quantizeMin: number expected":null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&"number"!=typeof t.quantizeMax?"quantizeMax: number expected":null},t.fromObject=function(t){if(t instanceof gf.Weights)return t;var e=new gf.Weights;if(null!=t.layerName&&(e.layerName=String(t.layerName)),null!=t.weightName&&(e.weightName=String(t.weightName)),t.shape){if(!Array.isArray(t.shape))throw TypeError(".Weights.shape: array expected");e.shape=[];for(var n=0;n<t.shape.length;++n)e.shape[n]=t.shape[n]>>>0}return null!=t.type&&(e.type=String(t.type)),null!=t.data&&("string"==typeof t.data?yf.base64.decode(t.data,e.data=yf.newBuffer(yf.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),null!=t.quantizeMin&&(e.quantizeMin=Number(t.quantizeMin)),null!=t.quantizeMax&&(e.quantizeMax=Number(t.quantizeMax)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.shape=[]),e.defaults&&(n.layerName="",n.weightName="",n.type="",n.data=e.bytes===String?"":[],n.quantizeMin=0,n.quantizeMax=0),null!=t.layerName&&t.hasOwnProperty("layerName")&&(n.layerName=t.layerName),null!=t.weightName&&t.hasOwnProperty("weightName")&&(n.weightName=t.weightName),t.shape&&t.shape.length){n.shape=[];for(var r=0;r<t.shape.length;++r)n.shape[r]=t.shape[r]}return null!=t.type&&t.hasOwnProperty("type")&&(n.type=t.type),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?yf.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&(n.quantizeMin=e.json&&!isFinite(t.quantizeMin)?String(t.quantizeMin):t.quantizeMin),null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&(n.quantizeMax=e.json&&!isFinite(t.quantizeMax)?String(t.quantizeMax):t.quantizeMax),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,df.util.toJSONOptions)},t}(),gf.Model=function(){function t(t){if(this.modelWeights=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.name="",t.prototype.kerasVersion="",t.prototype.backend="",t.prototype.modelConfig="",t.prototype.modelWeights=yf.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=mf.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(10).string(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&e.uint32(26).string(t.kerasVersion),null!=t.backend&&t.hasOwnProperty("backend")&&e.uint32(34).string(t.backend),null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&e.uint32(42).string(t.modelConfig),null!=t.modelWeights&&t.modelWeights.length)for(var n=0;n<t.modelWeights.length;++n)gf.Weights.encode(t.modelWeights[n],e.uint32(50).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof vf||(t=vf.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new gf.Model;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:r.id=t.string();break;case 2:r.name=t.string();break;case 3:r.kerasVersion=t.string();break;case 4:r.backend=t.string();break;case 5:r.modelConfig=t.string();break;case 6:r.modelWeights&&r.modelWeights.length||(r.modelWeights=[]),r.modelWeights.push(gf.Weights.decode(t,t.uint32()));break;default:t.skipType(7&i)}}return r},t.decodeDelimited=function(t){return t instanceof vf||(t=new vf(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==Ss(t)||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!yf.isString(t.id))return"id: string expected";if(null!=t.name&&t.hasOwnProperty("name")&&!yf.isString(t.name))return"name: string expected";if(null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&!yf.isString(t.kerasVersion))return"kerasVersion: string expected";if(null!=t.backend&&t.hasOwnProperty("backend")&&!yf.isString(t.backend))return"backend: string expected";if(null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&!yf.isString(t.modelConfig))return"modelConfig: string expected";if(null!=t.modelWeights&&t.hasOwnProperty("modelWeights")){if(!Array.isArray(t.modelWeights))return"modelWeights: array expected";for(var e=0;e<t.modelWeights.length;++e){var n=gf.Weights.verify(t.modelWeights[e]);if(n)return"modelWeights."+n}}return null},t.fromObject=function(t){if(t instanceof gf.Model)return t;var e=new gf.Model;if(null!=t.id&&(e.id=String(t.id)),null!=t.name&&(e.name=String(t.name)),null!=t.kerasVersion&&(e.kerasVersion=String(t.kerasVersion)),null!=t.backend&&(e.backend=String(t.backend)),null!=t.modelConfig&&(e.modelConfig=String(t.modelConfig)),t.modelWeights){if(!Array.isArray(t.modelWeights))throw TypeError(".Model.modelWeights: array expected");e.modelWeights=[];for(var n=0;n<t.modelWeights.length;++n){if("object"!==Ss(t.modelWeights[n]))throw TypeError(".Model.modelWeights: object expected");e.modelWeights[n]=gf.Weights.fromObject(t.modelWeights[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.modelWeights=[]),e.defaults&&(n.id="",n.name="",n.kerasVersion="",n.backend="",n.modelConfig=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&(n.kerasVersion=t.kerasVersion),null!=t.backend&&t.hasOwnProperty("backend")&&(n.backend=t.backend),null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&(n.modelConfig=t.modelConfig),t.modelWeights&&t.modelWeights.length){n.modelWeights=[];for(var r=0;r<t.modelWeights.length;++r)n.modelWeights[r]=gf.Weights.toObject(t.modelWeights[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,df.util.toJSONOptions)},t}(),Nc.a.CancelToken.source()),bf=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ps(this,t);var r=n.filepath,i=void 0===r?null:r,o=n.headers,a=void 0===o?{}:o,s=n.filesystem,u=void 0!==s&&s,c=n.gpu,l=void 0!==c&&c,p=n.transferLayerOutputs,h=void 0!==p&&p,f=n.pauseAfterLayerCalls,d=void 0!==f&&f,v=n.visualizations,m=void 0===v?[]:v;if(!i)throw new Error("[Model] path to protobuf-serialized model definition file is missing.");this.filepath=i,this.headers=a,this.filesystem="undefined"==typeof window&&u,this.events=new qc.EventEmitter,this.id=null,this.name=null,this.kerasVersion=null,this.backend=null,this.modelConfig={},this.modelWeights=[],this.gpu=!("undefined"==typeof window||!$c.isSupported)&&l,this.transferLayerOutputs=h,this.pauseAfterLayerCalls=d,this.modelLayersInfo=[],this.modelLayersMap=new Map,this.inputTensorsMap=new Map,this.inputLayerNames=[],this.outputLayerNames=[],this.finishedLayerNames=[],this.isRunning=!1,this.runningProgress=0,this.predictStats={},this.visMap=new Map,m.forEach(function(t){if(t in Ms){var n=new Ms[t]({modelLayersMap:e.modelLayersMap,gpu:e.gpu});e.visMap.set(t,n)}}),this._ready=this._initialize()}return Cs(t,[{key:"checkGPUSupport",value:function(){return $c.isSupported}},{key:"ready",value:function(){return this._ready}},{key:"_interrupt",value:function(){_f.cancel()}},{key:"_initialize",value:function(){var t=Ts(regeneratorRuntime.mark(function t(){var e,n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.events.emit("loadingProgress",0),t.prev=1,e=this.filesystem?this._dataRequestFS():this._dataRequestHTTP(this.headers),t.next=5,e;case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),this._interrupt();case 11:return this.events.emit("loadingProgress",100),this._buildDAG(),this.inputLayerNames.forEach(function(t){var e=r.modelLayersMap.get(t);e.call(r.inputTensorsMap.get(t)),e.hasOutput=!0,e.visited=!0}),n=this.pauseAfterLayerCalls,this.pauseAfterLayerCalls=!0,this.runningProgress=0,this.events.emit("initProgress",0),t.next=20,this._traverseDAG(this.inputLayerNames,"initProgress");case 20:return this.pauseAfterLayerCalls=n,this.finishedLayerNames=[],this.modelLayersMap.forEach(function(t){t.hasOutput=!1,t.visited=!1}),this.visMap.forEach(function(t){t.initialize()}),this.events.emit("initProgress",100),t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"_dataRequestHTTP",value:function(){var t=Ts(regeneratorRuntime.mark(function t(){var e,n,r=this,i=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.prev=1,t.next=4,Nc.a.get(this.filepath,{responseType:"arraybuffer",headers:e,onDownloadProgress:function(t){if(t.lengthComputable){var e=Math.round(100*t.loaded/t.total);r.events.emit("loadingProgress",e)}},cancelToken:_f.token});case 4:n=t.sent,this._decodeProtobuf(new Uint8Array(n.data)),t.next=15;break;case 8:if(t.prev=8,t.t0=t.catch(1),!Nc.a.isCancel(t.t0)){t.next=14;break}console.log("[Model] Data request canceled",t.t0.message),t.next=15;break;case 14:throw t.t0;case 15:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"_dataRequestFS",value:function(){var t=Ts(regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=Uc.a.promisify(n(470).readFile),t.prev=1,t.next=4,e(this.filepath);case 4:r=t.sent,this._decodeProtobuf(r),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(1),t.t0;case 11:case"end":return t.stop()}},t,this,[[1,8]])}));return function(){return t.apply(this,arguments)}}()},{key:"_decodeProtobuf",value:function(t){if(gf.Model.verify(t))throw new Error("[Model] Invalid model - check protobuf serialization: {err}");var e=gf.Model.decode(t);this.id=e.id,this.name=e.name,this.kerasVersion=e.kerasVersion,this.backend=e.backend,this.modelConfig=JSON.parse(e.modelConfig),this.modelWeights=e.modelWeights}},{key:"toggleGPU",value:function(t){var e=this;this.gpu=void 0===t?!this.gpu:t,this.modelLayersMap.forEach(function(t){t.toggleGPU(e.gpu)}),this.visMap.forEach(function(t){t.gpu=e.gpu}),this.resetInputTensors()}},{key:"resetInputTensors",value:function(){var t=this;this.inputLayerNames.forEach(function(e){var n=t.modelLayersMap.get(e);t.inputTensorsMap.set(e,new nl([],n.shape))})}},{key:"_buildDAG",value:function(){var t=this,e=this.modelConfig.class_name,n=[];if("Sequential"===e?n=this.modelConfig.config:"Model"===e&&(n=this.modelConfig.config.layers),!Array.isArray(n)||!n.length)throw new Error("[Model] Model configuration does not contain any layers.");n.forEach(function(r,i){var o=r.class_name,a=r.config;if("Model"===e&&"Sequential"===o)a.forEach(function(e,n){var i=e.class_name,o=e.config,s=0===n?r.inbound_nodes[0].map(function(t){return t[0]}):[a[n-1].config.name];t._createLayer(i,o,s)});else{if(!(o in Fs))throw new Error("[Model] Layer ".concat(o," specified in model configuration is not implemented!"));if("Sequential"===e&&0===i){var s=a.batch_input_shape.slice(1),u=new rl({name:"input",shape:s,gpu:t.gpu});t.modelLayersMap.set("input",u),t.inputTensorsMap.set("input",new nl([],s)),t.inputLayerNames.push("input")}else if("Model"===e&&"InputLayer"===o){var c=a.batch_input_shape.slice(1);t.inputTensorsMap.set(a.name,new nl([],c)),t.inputLayerNames.push(a.name)}var l=[];if("Sequential"===e)l=0===i?["input"]:[n[i-1].config.name];else if("Model"===e){var p=r.inbound_nodes;p&&p.length&&(l=p[0].map(function(t){return t[0]}))}t._createLayer(o,a,l)}}),this.modelLayersMap.forEach(function(e){t.modelLayersInfo.push(Dc()(e,["name","description","layerClass","inbound","outbound"])),0===e.outbound.length&&t.outputLayerNames.push(e.name)}),this.inputLayerNames.sort(),this.outputLayerNames.sort()}},{key:"_createLayer",value:function(t,e,n){var r=this,i=new Fs[t](Object.assign({},e,{gpu:this.gpu})),o=[];if("Bidirectional"===t){var a=i.forwardLayer.params.map(function(t){return"".concat(e.name,"/forward_").concat(e.layer.config.name,"/").concat(t)}),s=i.backwardLayer.params.map(function(t){return"".concat(e.name,"/backward_").concat(e.layer.config.name,"/").concat(t)});o=a.concat(s)}else o="TimeDistributed"===t?i.layer.params.map(function(t){return"".concat(e.name,"/").concat(t)}):i.params.map(function(t){return"".concat(e.name,"/").concat(t)});if(o&&o.length){var u=o.map(function(t){var e=Ic()(r.modelWeights,function(e){return new RegExp("^.*".concat(t)).test(e.weightName)});if(!e)throw new Error("[Model] error loading weights.");var n=e.data,i=e.shape,o=e.type,a=new ArrayBuffer(n.byteLength),s=new Uint8Array(a);if(s.set(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),"uint8"===o){for(var u=e.quantizeMin,c=e.quantizeMax,l=new Float32Array(s),p=0,h=l.length;p<h;p++)l[p]*=(c-u)/255,l[p]+=u;return new nl(l,i)}return new nl(new Float32Array(a),i)});i.setWeights(u)}this.modelLayersMap.set(e.name,i),n.forEach(function(t){r.modelLayersMap.get(e.name).inbound.push(t),r.modelLayersMap.get(t).outbound.push(e.name)})}},{key:"_traverseDAG",value:function(){var t=Ts(regeneratorRuntime.mark(function t(e,n){var r,i,o,a,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=6;break}return this.runningProgress=100,this.events.emit(n,100),t.abrupt("return",!0);case 6:if(1!==e.length){t.next=32;break}if(r=e[0],i=this.modelLayersMap.get(r),"InputLayer"!==i.layerClass){t.next=13;break}this.finishedLayerNames.push(this.modelLayersMap.get(r).name),t.next=26;break;case 13:if(o=this.modelLayersMap.get(r),!o.visited){t.next=16;break}return t.abrupt("return",!1);case 16:if(a=o.inbound.map(function(t){return s.modelLayersMap.get(t)}),Fc()(Ec()(a,"hasOutput"))){t.next=19;break}return t.abrupt("return",!1);case 19:if(o.isMergeLayer?o.call(Ec()(a,"output")):o.call(a[0].output),o.hasOutput=!0,o.visited=!0,this.finishedLayerNames.push(o.name),!this.pauseAfterLayerCalls){t.next=26;break}return t.next=26,Uc.a.delay(0);case 26:return this.runningProgress+=100/this.modelLayersMap.size,this.events.emit(n,this.runningProgress),t.next=30,this._traverseDAG(i.outbound,n);case 30:t.next=34;break;case 32:return t.next=34,Uc.a.all(e.map(function(t){return s._traverseDAG([t],n)}));case 34:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"_maybeTransferIntermediateOutputs",value:function(){this.gpu&&this.transferLayerOutputs&&this.modelLayersMap.forEach(function(t){t.output&&t.output.glTexture&&($c.bindOutputTexture(t.output.glTexture,t.output.glTextureShape),t.output.transferFromGLTexture(),t.output.is2DReshaped&&t.output.reshapeFrom2D())})}},{key:"loadData",value:function(t){var e=this;this.inputLayerNames.forEach(function(n){var r=e.modelLayersMap.get(n);e.inputTensorsMap.get(n).replaceTensorData(t[n]),r.call(e.inputTensorsMap.get(n)),r.hasOutput=!0,r.visited=!0})}},{key:"predict",value:function(){var t=Ts(regeneratorRuntime.mark(function t(e){var n,r,i,o,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isRunning=!0,this.runningProgress=0,this.events.emit("predictProgress",0),Ac()(kc()(e).sort(),this.inputLayerNames)){t.next=6;break}throw this.isRunning=!1,new Error("[Model] predict() must take an object where the keys are the named inputs of the model: "+JSON.stringify(this.inputLayerNames));case 6:if(Fc()(this.inputLayerNames,function(t){return e[t]instanceof Float32Array})){t.next=9;break}throw this.isRunning=!1,new Error("[Model] predict() must take an object where the values are the flattened data as Float32Array.");case 9:return this.finishedLayerNames=[],this.modelLayersMap.forEach(function(t){t.hasOutput=!1,t.visited=!1}),n=Bc()(),this.loadData(e),this.predictStats.loadData=Bc()()-n,n=Bc()(),t.next=17,this._traverseDAG(this.inputLayerNames,"predictProgress");case 17:return this.predictStats.forwardPass=Bc()()-n,this._maybeTransferIntermediateOutputs(),r=this.modelConfig.class_name,i={},"Sequential"===r?(o=this.modelLayersMap.get(this.outputLayerNames[0]),i.output=o.output.tensor.data):"Model"===r&&this.outputLayerNames.forEach(function(t){var e=a.modelLayersMap.get(t);i[t]=e.output.tensor.data}),n=Bc()(),this.visMap.forEach(function(t){t.update()}),this.predictStats.visualizations=Bc()()-n,this.isRunning=!1,this.events.emit("predictProgress",100),t.abrupt("return",i);case 28:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"layerCall",value:function(t,e){if(this.modelLayersMap.has(t)){var n;return n=e instanceof nl?e:new nl(e.data,e.shape),this.modelLayersMap.get(t).call(n)}}},{key:"cleanup",value:function(){$c.clearRefs(),this.modelLayersMap.clear(),this.inputTensorsMap.clear(),this.visMap.clear(),delete this.modelWeights}}]),t}(),xf=n(471),wf=n.n(xf),Sf=n(472),Tf=n.n(Sf),Pf=n(473),kf=n.n(Pf);n.d(e,"GPU_SUPPORT",function(){return Cf}),n.d(e,"default",function(){return Af}),n.d(e,"Model",function(){return bf}),n.d(e,"Tensor",function(){return nl}),n.d(e,"activations",function(){return Os}),n.d(e,"layers",function(){return Fs}),n.d(e,"testUtils",function(){return Is});var Cf=$c.isSupported,Af={Model:bf,Tensor:nl,GPU_SUPPORT:Cf,activations:Os,layers:Fs,testUtils:Is}},function(t,e,n){"use strict";var r=n(0),i=n(80),o=n(110),a=n(4),s=n(39),u=n(9),c=n(2),l=n(3).ArrayBuffer,p=n(87),h=o.ArrayBuffer,f=o.DataView,d=i.ABV&&l.isView,v=h.prototype.slice,m=i.VIEW,y="ArrayBuffer";r(r.G+r.W+r.F*(l!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,y,{isView:function(t){return d&&d(t)||c(t)&&m in t}}),r(r.P+r.U+r.F*n(5)(function(){return!new h(2).slice(1,void 0).byteLength}),y,{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(p(this,h))(u(i-r)),c=new f(this),l=new f(o),d=0;r<i;)l.setUint8(d++,c.getUint8(r++));return o}}),n(60)(y)},function(t,e,n){n(20)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(7),i=n(4),o=n(29);t.exports=n(10)?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(173);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(2),i=n(114),o=n(6)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(49),i=n(25),o=n(40),a={};n(13)(a,n(6)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){n(20)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(20)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(20)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(20)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(20)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(20)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(20)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(20)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";var r=n(118),i=n(44),o="Map";t.exports=n(63)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},function(t,e,n){var r=n(2),i=n(92).set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(118),i=n(44);t.exports=n(63)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(50)(0),o=n(22),a=n(24),s=n(120),u=n(121),c=n(2),l=n(5),p=n(44),h="WeakMap",f=a.getWeak,d=Object.isExtensible,v=u.ufstore,m={},y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(c(t)){var e=f(t);return!0===e?v(p(this,h)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(p(this,h),t,e)}},_=t.exports=n(63)(h,y,g,u,!0,!0);l(function(){return 7!=(new _).set((Object.freeze||Object)(m),7).get(m)})&&(r=u.getConstructor(y,h),s(r.prototype,g),a.NEED=!0,i(["delete","has","get","set"],function(t){var e=_.prototype,n=e[t];o(e,t,function(e,i){if(c(e)&&!d(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},function(t,e,n){"use strict";var r=n(121),i=n(44),o="WeakSet";n(63)(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},function(t,e,n){var r=n(0),i=n(27),o=n(4),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(5)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},function(t,e,n){var r=n(0),i=n(49),o=n(27),a=n(4),s=n(2),u=n(5),c=n(190),l=(n(3).Reflect||{}).construct,p=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!u(function(){l(function(){})});r(r.S+r.F*(p||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!p)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,f=i(s(u)?u:Object.prototype),d=Function.apply.call(t,f,e);return s(d)?d:f}})},function(t,e,n){"use strict";var r=n(27),i=n(2),o=n(122),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,n){var r=n(7),i=n(0),o=n(4),a=n(47);i(i.S+i.F*n(5)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),i=n(21).f,o=n(4);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){function r(t,e){var n,s,l=arguments.length<3?t:arguments[2];return c(t)===l?t[e]:(n=i.f(t,e))?a(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(s=o(t))?r(s,e,l):void 0}var i=n(21),o=n(42),a=n(11),s=n(0),u=n(2),c=n(4);s(s.S,"Reflect",{get:r})},function(t,e,n){var r=n(21),i=n(0),o=n(4);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(0),i=n(42),o=n(4);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),i=n(4),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(123)})},function(t,e,n){var r=n(0),i=n(4),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){function r(t,e,n){var u,h,f=arguments.length<4?t:arguments[3],d=o.f(l(t),e);if(!d){if(p(h=a(t)))return r(h,e,n,f);d=c(0)}return s(d,"value")?!(!1===d.writable||!p(f)||(u=o.f(f,e)||c(0),u.value=n,i.f(f,e,u),0)):void 0!==d.set&&(d.set.call(f,n),!0)}var i=n(7),o=n(21),a=n(42),s=n(11),u=n(0),c=n(25),l=n(4),p=n(2);u(u.S,"Reflect",{set:r})},function(t,e,n){var r=n(0),i=n(92);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var r,i,o,a,s=n(35),u=n(3),c=n(18),l=n(88),p=n(0),h=n(2),f=n(27),d=n(37),v=n(62),m=n(87),y=n(93).set,g=n(203)(),_=n(124),b=n(204),x=n(205),w="Promise",S=u.TypeError,T=u.process,P=u[w],k="process"==l(T),C=function(){},A=i=_.f,O=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n(6)("species")]=function(t){t(C,C)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e}catch(t){}}(),E=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},j=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,u=e.reject,c=e.domain;try{a?(i||(2==t._h&&I(t),t._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===e.promise?u(S("Promise-chain cycle")):(o=E(n))?o.call(n,s,u):s(n)):u(r)}catch(t){u(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&F(t)})}},F=function(t){y.call(u,function(){var e,n,r,i=t._v,o=M(t);if(o&&(e=b(function(){k?T.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=k||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,r=0;n.length>r;)if(e=n[r++],e.fail||!M(e.promise))return!1;return!0},I=function(t){y.call(u,function(){var e;k?T.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},D=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=E(t))?g(function(){var r={_w:n,_d:!1};try{e.call(t,c(D,r,1),c(R,r,1))}catch(t){R.call(r,t)}}):(n._v=t,n._s=1,j(n,!1))}catch(t){R.call({_w:n,_d:!1},t)}}};O||(P=function(t){d(this,P,w,"_h"),f(t),r.call(this);try{t(c(D,this,1),c(R,this,1))}catch(t){R.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(36)(P.prototype,{then:function(t,e){var n=A(m(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(D,t,1),this.reject=c(R,t,1)},_.f=A=function(t){return t===P||t===a?new o(t):i(t)}),p(p.G+p.W+p.F*!O,{Promise:P}),n(40)(P,w),n(60)(w),a=n(34)[w],p(p.S+p.F*!O,w,{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),p(p.S+p.F*(s||!O),w,{resolve:function(t){return x(s&&this===a?P:this,t)}}),p(p.S+p.F*!(O&&n(61)(function(t){P.all(t).catch(C)})),w,{all:function(t){var e=this,n=A(e),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=A(e),r=n.reject,i=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e,n){var r=n(3),i=n(93).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(38)(a);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,p=document.createTextNode("");new o(c).observe(p,{characterData:!0}),n=function(){p.data=l=!l}}else if(s&&s.resolve){var h=s.resolve();n=function(){h.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(4),i=n(2),o=n(124);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(3),i=n(11),o=n(10),a=n(0),s=n(22),u=n(24).KEY,c=n(5),l=n(84),p=n(40),h=n(26),f=n(6),d=n(125),v=n(207),m=n(208),y=n(114),g=n(4),_=n(15),b=n(47),x=n(25),w=n(49),S=n(126),T=n(21),P=n(7),k=n(29),C=T.f,A=P.f,O=S.f,E=r.Symbol,j=r.JSON,F=j&&j.stringify,M="prototype",I=f("_hidden"),R=f("toPrimitive"),D={}.propertyIsEnumerable,L=l("symbol-registry"),U=l("symbols"),z=l("op-symbols"),N=Object[M],G="function"==typeof E,B=r.QObject,q=!B||!B[M]||!B[M].findChild,V=o&&c(function(){return 7!=w(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=C(N,e);r&&delete N[e],A(t,e,n),r&&t!==N&&A(N,e,r)}:A,$=function(t){var e=U[t]=w(E[M]);return e._k=t,e},H=G&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},W=function(t,e,n){return t===N&&W(z,e,n),g(t),e=b(e,!0),g(n),i(U,e)?(n.enumerable?(i(t,I)&&t[I][e]&&(t[I][e]=!1),n=w(n,{enumerable:x(0,!1)})):(i(t,I)||A(t,I,x(1,{})),t[I][e]=!0),V(t,e,n)):A(t,e,n)},X=function(t,e){g(t);for(var n,r=m(e=_(e)),i=0,o=r.length;o>i;)W(t,n=r[i++],e[n]);return t},Y=function(t,e){return void 0===e?w(t):X(w(t),e)},K=function(t){var e=D.call(this,t=b(t,!0));return!(this===N&&i(U,t)&&!i(z,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,I)&&this[I][t])||e)},J=function(t,e){if(t=_(t),e=b(e,!0),t!==N||!i(U,e)||i(z,e)){var n=C(t,e);return!n||!i(U,e)||i(t,I)&&t[I][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=O(_(t)),r=[],o=0;n.length>o;)i(U,e=n[o++])||e==I||e==u||r.push(e);return r},Q=function(t){for(var e,n=t===N,r=O(n?z:_(t)),o=[],a=0;r.length>a;)!i(U,e=r[a++])||n&&!i(N,e)||o.push(U[e]);return o};G||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===N&&e.call(z,n),i(this,I)&&i(this[I],t)&&(this[I][t]=!1),V(this,t,x(1,n))};return o&&q&&V(N,t,{configurable:!0,set:e}),$(t)},s(E[M],"toString",function(){return this._k}),T.f=J,P.f=W,n(48).f=S.f=Z,n(51).f=K,n(64).f=Q,o&&!n(35)&&s(N,"propertyIsEnumerable",K,!0),d.f=function(t){return $(f(t))}),a(a.G+a.W+a.F*!G,{Symbol:E});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var nt=k(f.store),rt=0;nt.length>rt;)v(nt[rt++]);a(a.S+a.F*!G,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=E(t)},keyFor:function(t){if(!H(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!G,"Object",{create:Y,defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:Q}),j&&a(a.S+a.F*(!G||c(function(){var t=E();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return e=r[1],"function"==typeof e&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!H(e))return e}),r[1]=e,F.apply(j,r)}}}),E[M][R]||n(13)(E[M],R,E[M].valueOf),p(E,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},function(t,e,n){var r=n(3),i=n(34),o=n(35),a=n(125),s=n(7).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(29),i=n(64),o=n(51);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(2),i=n(24).onFreeze;n(16)("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(2),i=n(24).onFreeze;n(16)("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(2),i=n(24).onFreeze;n(16)("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},function(t,e,n){var r=n(2);n(16)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(2);n(16)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(2);n(16)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(15),i=n(21).f;n(16)("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},function(t,e,n){var r=n(19),i=n(42);n(16)("getPrototypeOf",function(){return function(t){return i(r(t))}})},function(t,e,n){var r=n(19),i=n(29);n(16)("keys",function(){return function(t){return i(r(t))}})},function(t,e,n){n(16)("getOwnPropertyNames",function(){return n(126).f})},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(120)})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(221)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(92).set})},function(t,e,n){var r=n(7).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(10)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){var r=n(0),i=n(15),o=n(9);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var r=n(0),i=n(39),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(0),i=n(227)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){var r=n(28),i=n(23);t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(t,e,n){var r=n(0);r(r.P,"String",{repeat:n(127)})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(94),a="startsWith",s=""[a];r(r.P+r.F*n(95)(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(94),a="endsWith",s=""[a];r(r.P+r.F*n(95)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),u=void 0===n?r:Math.min(i(n),r),c=String(t);return s?s.call(e,c,u):e.slice(u-c.length,u)===c}})},function(t,e,n){"use strict";var r=n(0),i=n(94),o="includes";r(r.P+r.F*n(95)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(10)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(233)})},function(t,e,n){"use strict";var r=n(4);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){n(65)("match",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){n(65)("replace",2,function(t,e,n){return[function(r,i){"use strict";var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(t,e,n){n(65)("split",2,function(t,e,r){"use strict";var i=n(128),o=r,a=[].push,s="split",u="length",c="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var l=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!i(t))return o.call(n,t,e);var r,s,p,h,f,d=[],v=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,y=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,v+"g");for(l||(r=new RegExp("^"+g.source+"$(?!\\s)",v));(s=g.exec(n))&&!((p=s.index+s[0][u])>m&&(d.push(n.slice(m,s.index)),!l&&s[u]>1&&s[0].replace(r,function(){for(f=1;f<arguments[u]-2;f++)void 0===arguments[f]&&(s[f]=void 0)}),s[u]>1&&s.index<n[u]&&a.apply(d,s.slice(1)),h=s[0][u],m=p,d[u]>=y));)g[c]===s.index&&g[c]++;return m===n[u]?!h&&g.test("")||d.push(""):d.push(n.slice(m)),d[u]>y?d.slice(0,y):d}}else"0"[s](void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(n,i){var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(t,e,n){n(65)("search",1,function(t,e,n){return[function(n){"use strict";var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]})},function(t,e,n){"use strict";var r=n(18),i=n(0),o=n(19),a=n(119),s=n(89),u=n(9),c=n(96),l=n(90);i(i.S+i.F*!n(61)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,p,h=o(t),f="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,m=void 0!==v,y=0,g=l(h);if(m&&(v=r(v,d>2?arguments[2]:void 0,2)),void 0==g||f==Array&&s(g))for(e=u(h.length),n=new f(e);e>y;y++)c(n,y,m?v(h[y],y):h[y]);else for(p=g.call(h),n=new f;!(i=p.next()).done;y++)c(n,y,m?a(p,v,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(0),i=n(96);r(r.S+r.F*n(5)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(117)}),n(43)("copyWithin")},function(t,e,n){"use strict";var r=n(0),i=n(50)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(43)(o)},function(t,e,n){"use strict";var r=n(0),i=n(50)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(43)(o)},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(86)}),n(43)("fill")},function(t,e,n){var r=n(0),i=n(3).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isInteger:n(129)})},function(t,e,n){var r=n(0),i=n(129),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){var r=n(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(0),i=n(252);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(3).parseFloat,i=n(130).trim;t.exports=1/r(n(97)+"-0")!=-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},function(t,e,n){var r=n(0),i=n(254);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(3).parseInt,i=n(130).trim,o=n(97),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(0),i=n(131),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){function r(t){return isFinite(t=+t)&&0!=t?t<0?-r(-t):Math.log(t+Math.sqrt(t*t+1)):t}var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(t,e,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),i=n(98);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(0),i=n(99);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(0);r(r.S,"Math",{fround:n(263)})},function(t,e,n){var r=n(98),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*c(i/u/a)*u*a:(e=(1+a/o)*i,n=e-(e-i),n>s||n!=n?l*(1/0):l*n)}},function(t,e,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(5)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log1p:n(131)})},function(t,e,n){var r=n(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(0);r(r.S,"Math",{sign:n(98)})},function(t,e,n){var r=n(0),i=n(99),o=Math.exp;r(r.S+r.F*n(5)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(0),i=n(99),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(0);r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){"use strict";var r=n(0),i=n(82)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n(43)("includes")},function(t,e,n){var r=n(0),i=n(132)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(132)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(0),i=n(123),o=n(15),a=n(21),s=n(96);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=a.f,c=i(r),l={},p=0;c.length>p;)void 0!==(n=u(r,e=c[p++]))&&s(l,e,n);return l}})},function(t,e,n){"use strict";var r=n(0),i=n(133);r(r.P,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var r=n(0),i=n(133);r(r.P,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){var r=n(3),i=n(0),o=r.navigator,a=[].slice,s=!!o&&/MSIE .\./.test(o.userAgent),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(0),i=n(93);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(91),i=n(29),o=n(22),a=n(3),s=n(13),u=n(41),c=n(6),l=c("iterator"),p=c("toStringTag"),h=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(f),v=0;v<d.length;v++){var m,y=d[v],g=f[y],_=a[y],b=_&&_.prototype;if(b&&(b[l]||s(b,l,h),b[p]||s(b,p,y),u[y]=h,g))for(m in r)b[m]||o(b,m,r[m],!0)}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new f(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(t,e,n){var i=P;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===A){if("throw"===o)throw a;return v()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=l(s,n);if(u){if(u===O)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===P)throw i=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=C;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?A:k,c.arg===O)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=A,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,l(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,O;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,O):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function p(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function f(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(p,this),this.reset(!0)}function d(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:m,done:!0}}var m,y=Object.prototype,g=y.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",w=_.toStringTag||"@@toStringTag",S="object"==typeof t,T=e.regeneratorRuntime;if(T)return void(S&&(t.exports=T));T=e.regeneratorRuntime=S?t.exports:{},T.wrap=n;var P="suspendedStart",k="suspendedYield",C="executing",A="completed",O={},E={};E[b]=function(){return this};var j=Object.getPrototypeOf,F=j&&j(j(d([])));F&&F!==y&&g.call(F,b)&&(E=F);var M=a.prototype=i.prototype=Object.create(E);o.prototype=M.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",T.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},T.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(M),t},T.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[x]=function(){return this},T.AsyncIterator=u,T.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return T.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(M),M[w]="Generator",M[b]=function(){return this},M.toString=function(){return"[object Generator]"},T.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},T.values=d,f.prototype={constructor:f,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,O):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),O}}}(function(){return this}()||Function("return this")())},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),l=!n&&!r&&s(t),h=!n&&!r&&!l&&c(t),f=n||r||l||h,d=f?i(t.length,String):[],v=d.length;for(var m in t)!e&&!p.call(t,m)||f&&("length"==m||l&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||d.push(m);return d}var i=n(284),o=n(100),a=n(14),s=n(135),u=n(67),c=n(136),l=Object.prototype,p=l.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(53),o=n(55),a="[object Arguments]";t.exports=r},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(54),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(53),o=n(101),a=n(55),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){(function(t){var r=n(134),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{return s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(66)(t))},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(293),o=n(294),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){var r=n(295),i=r(Object.keys,Object);t.exports=i},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){function r(t,e,n,r,m,g){var _=c(t),b=c(e),x=_?d:u(t),w=b?d:u(e);x=x==f?v:x,w=w==f?v:w;var S=x==v,T=w==v,P=x==w;if(P&&l(t)){if(!l(e))return!1;_=!0,S=!1}if(P&&!S)return g||(g=new i),_||p(t)?o(t,e,n,r,m,g):a(t,e,x,n,r,m,g);if(!(n&h)){var k=S&&y.call(t,"__wrapped__"),C=T&&y.call(e,"__wrapped__");if(k||C){var A=k?t.value():t,O=C?e.value():e;return g||(g=new i),m(A,O,n,r,g)}}return!!P&&(g||(g=new i),s(t,e,n,r,m,g))}var i=n(138),o=n(140),a=n(328),s=n(332),u=n(338),c=n(14),l=n(135),p=n(136),h=1,f="[object Arguments]",d="[object Array]",v="[object Object]",m=Object.prototype,y=m.hasOwnProperty;t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():a.call(e,n,1),--this.size,0))}var i=n(70),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(70);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(70);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(70);t.exports=r},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(69);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(69),o=n(103),a=n(104),s=200;t.exports=r},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?d:c).test(s(t))}var i=n(137),o=n(308),a=n(45),s=n(139),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,p=Object.prototype,h=l.toString,f=p.hasOwnProperty,d=RegExp("^"+h.call(f).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(309),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(17),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(312),o=n(69),a=n(103);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(313),o=n(314),a=n(315),s=n(316),u=n(317);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(72);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(72),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(72),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(72),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(73);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(73);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(73);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(73);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(104),o=n(324),a=n(325);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t,e,n,r,i,S,P){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!S(new o(t),new o(e)));case h:case f:case m:return a(+t,+e);case d:return t.name==e.name&&t.message==e.message;case y:case _:return t==e+"";case v:var k=u;case g:var C=r&l;if(k||(k=c),t.size!=e.size&&!C)return!1;var A=P.get(t);if(A)return A==e;r|=p,P.set(t,e);var O=s(k(t),k(e),r,i,S,P);return P.delete(t),O;case b:if(T)return T.call(t)==T.call(e)}return!1}var i=n(54),o=n(329),a=n(71),s=n(140),u=n(330),c=n(331),l=1,p=2,h="[object Boolean]",f="[object Date]",d="[object Error]",v="[object Map]",m="[object Number]",y="[object RegExp]",g="[object Set]",_="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",S=i?i.prototype:void 0,T=S?S.valueOf:void 0;t.exports=r},function(t,e,n){var r=n(17),i=r.Uint8Array;t.exports=i},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t,e,n,r,a,u){var c=n&o,l=i(t),p=l.length;if(p!=i(e).length&&!c)return!1;for(var h=p;h--;){var f=l[h];if(!(c?f in e:s.call(e,f)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var v=!0;u.set(t,e),u.set(e,t);for(var m=c;++h<p;){f=l[h];var y=t[f],g=e[f];if(r)var _=c?r(g,y,f,e,t,u):r(y,g,f,t,e,u);if(!(void 0===_?y===g||a(y,g,n,r,u):_)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(v=!1)}return u.delete(t),u.delete(e),v}var i=n(333),o=1,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return i(t,a,o)}var i=n(334),o=n(335),a=n(52);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(141),o=n(14);t.exports=r},function(t,e,n){var r=n(336),i=n(337),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return a.call(t,e)}))}:i;t.exports=u},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(339),i=n(103),o=n(340),a=n(341),s=n(342),u=n(53),c=n(139),l="[object Map]",p="[object Promise]",h="[object Set]",f="[object WeakMap]",d="[object DataView]",v=c(r),m=c(i),y=c(o),g=c(a),_=c(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=d||i&&b(new i)!=l||o&&b(o.resolve())!=p||a&&b(new a)!=h||s&&b(new s)!=f)&&(b=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return d;case m:return l;case y:return p;case g:return h;case _:return f}return e}),t.exports=b},function(t,e,n){var r=n(31),i=n(17),o=r(i,"DataView");t.exports=o},function(t,e,n){var r=n(31),i=n(17),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(31),i=n(17),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(31),i=n(17),o=r(i,"WeakMap");t.exports=o},function(t,e,n){function r(t,e){return(s(t)?i:a)(t,o(e,3))}var i=n(142),o=n(74),a=n(359),s=n(14);t.exports=r},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(345),o=n(346),a=n(144);t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,l=!r;if(null==t)return!c;for(t=Object(t);u--;){var p=n[u];if(l&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++u<c;){p=n[u];var h=p[0],f=t[h],d=p[1];if(l&&p[2]){if(void 0===f&&!(h in t))return!1}else{var v=new i;if(r)var m=r(f,d,h,t,e,v);if(!(void 0===m?o(d,f,a|s,r,v):m))return!1}}return!0}var i=n(138),o=n(102),a=1,s=2;t.exports=r},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(143),o=n(52);t.exports=r},function(t,e,n){function r(t,e){return s(t)&&u(e)?c(l(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,p|h)}}var i=n(102),o=n(348),a=n(145),s=n(106),u=n(143),c=n(144),l=n(57),p=1,h=2;t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(105);t.exports=r},function(t,e,n){var r=n(350),i=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=r(function(t){var e=[];return i.test(t)&&e.push(""),t.replace(o,function(t,n,r,i){e.push(r?i.replace(a,"$1"):n||t)}),e});t.exports=s},function(t,e,n){function r(t){var e=i(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var i=n(351),o=500;t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(104),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(353);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return l?l.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var i=n(54),o=n(142),a=n(14),s=n(76),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t,e,n){e=i(e,t);for(var r=-1,l=e.length,p=!1;++r<l;){var h=c(e[r]);if(!(p=null!=t&&n(t,h)))break;t=t[h]}return p||++r!=l?p:!!(l=null==t?0:t.length)&&u(l)&&s(h,l)&&(a(t)||o(t))}var i=n(75),o=n(100),a=n(14),s=n(67),u=n(101),c=n(57);t.exports=r},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t)}var i=n(357),o=n(358),a=n(106),s=n(57);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(105);t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,function(t,i,o){r[++n]=e(t,i,o)}),r}var i=n(146),o=n(56);t.exports=r},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(361),o=n(52);t.exports=r},function(t,e,n){var r=n(362),i=r();t.exports=i},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}t.exports=n},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(56);t.exports=r},function(t,e,n){function r(t,e,n){var r=s(t)?i:o;return n&&u(t,e,n)&&(e=void 0),r(t,a(e,3))}var i=n(365),o=n(366),a=n(74),s=n(14),u=n(147);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}t.exports=n},function(t,e,n){function r(t,e){var n=!0;return i(t,function(t,r,i){return n=!!e(t,r,i)}),n}var i=n(146);t.exports=r},function(t,e,n){var r=n(368),i=n(369),o=r(i);t.exports=o},function(t,e,n){function r(t){return function(e,n,r){var s=Object(e);if(!o(e)){var u=i(n,3);e=a(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,r);return c>-1?s[u?e[c]:c]:void 0}}var i=n(74),o=n(56),a=n(52);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var u=null==n?0:a(n);return u<0&&(u=s(r+u,0)),i(t,o(e,3),u)}var i=n(370),o=n(74),a=n(148),s=Math.max;t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||l.test(t)?p(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(45),o=n(76),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt;t.exports=r},function(t,e,n){var r=n(373),i=n(378),o=i(function(t,e){return null==t?{}:r(t,e)});t.exports=o},function(t,e,n){function r(t,e){return i(t,e,function(e,n){return o(t,n)})}var i=n(374),o=n(145);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,s=e.length,u={};++r<s;){var c=e[r],l=i(t,c);n(l,c)&&o(u,a(c,t),l)}return u}var i=n(105),o=n(375),a=n(75);t.exports=r},function(t,e,n){function r(t,e,n,r){if(!s(t))return t;e=o(e,t);for(var c=-1,l=e.length,p=l-1,h=t;null!=h&&++c<l;){var f=u(e[c]),d=n;if(c!=p){var v=h[f];void 0===(d=r?r(v,f,h):void 0)&&(d=s(v)?v:a(e[c+1])?[]:{})}i(h,f,d),h=h[f]}return t}var i=n(376),o=n(75),a=n(67),s=n(45),u=n(57);t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(377),o=n(71),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(150);t.exports=r},function(t,e,n){function r(t){return a(o(t,void 0,i),t+"")}var i=n(379),o=n(381),a=n(383);t.exports=r},function(t,e,n){function r(t){return(null==t?0:t.length)?i(t,1):[]}var i=n(151);t.exports=r},function(t,e,n){function r(t){return a(t)||o(t)||!!(s&&t&&t[s])}var i=n(54),o=n(100),a=n(14),s=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),u=Array(s);++a<s;)u[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(u),i(t,this,c)}}var i=n(382),o=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(384),i=n(386),o=i(r);t.exports=o},function(t,e,n){var r=n(385),i=n(150),o=n(107),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){(function(e,n,r){!function(e){t.exports=function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,n,r){"use strict";function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=c}function o(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function a(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var u;try{throw new Error}catch(t){u=t}var c=t("./schedule"),l=t("./queue"),p=t("./util");i.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},i.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},p.hasDevTools?(i.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},i.prototype.invoke=function(t,e,n){this._trampolineEnabled?a.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},i.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(i.prototype.invokeLater=o,i.prototype.invoke=a,i.prototype.settlePromises=s),i.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=i,n.exports.firstLineError=u},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var p=this._target();if(l._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:p,bindingPromise:c};p._then(e,a,void 0,l,h),c._then(s,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(p);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=r,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+s.classString(t)+" has no method '"+s.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){return n(t,this.pop()).apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var a,s=t("./util"),u=s.canEvaluate;s.isIdentifier;e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(r,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(u){var r=a(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){function n(t,n,s){return function(u){var c=s._boundValue();t:for(var l=0;l<t.length;++l){var p=t[l];if(p===Error||null!=p&&p.prototype instanceof Error){if(u instanceof p)return o(n).call(c,u)}else if("function"==typeof p){var h=o(p).call(c,u);if(h===a)return h;if(h)return o(n).call(c,u)}else if(r.isObject(u)){for(var f=i(p),d=0;d<f.length;++d){var v=f[d];if(p[v]!=u[v])continue t}return o(n).call(c,u)}}return e}}var r=t("./util"),i=t("./es5").keys,o=r.tryCatch,a=r.errorObj;return n}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+z.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?z.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function p(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function f(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new F(this._peekContext())}function v(t,e){if(N(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=T(t);z.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),z.notEnumerableProp(t,"__stackCleaned__",!0)}}}function m(t,e,n,r,i){if(void 0===t&&null!==e&&K){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=w(s),c=u.length-1;c>=0;--c){var l=u[c];if(!B.test(l)){var p=l.match(q);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(u.length>0)for(var h=u[0],c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(f,!0,e)}}function y(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),g(n)}function g(t,e,r){if(at.warnings){var i,o=new U(t);if(e)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=T(o);o.stack=a.message+"\n"+a.stack.join("\n")}et("warning",o)||P(o,"",!0)}}function _(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function x(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}}function w(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||V.test(r),o=i&&rt(r);i&&!o&&(H&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function S(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||V.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function T(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?S(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:w(e)}}function P(t,e,n){if("undefined"!=typeof console){var r;if(z.isObject(t)){var i=t.stack;r=e+$(i,t)}else r=e+String(t);"function"==typeof R?R(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function k(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){L.throwLater(t)}"unhandledRejection"===t?et(t,n,r)||i||P(n,"Unhandled rejection "):et(t,r)}function C(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():z.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+A(e)+">, no stack trace)"}function A(t){return t.length<41?t:t.substr(0,38)+"..."}function O(){return"function"==typeof ot}function E(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function j(t,e){if(O()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var c=E(i[u]);if(c){n=c.fileName,a=c.line;break}}for(var u=0;u<o.length;++u){var c=E(o[u]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(rt=function(t){if(G.test(t))return!0;var e=E(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function F(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,F),e>32&&this.uncycle()}var M,I,R,D=n._getDomain,L=n._async,U=t("./errors").Warning,z=t("./util"),N=z.canAttachTrace,G=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,B=/\((?:timers\.js):\d+:\d+\)/,q=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,V=null,$=null,H=!1,W=!(0==z.env("BLUEBIRD_DEBUG")),X=!(0==z.env("BLUEBIRD_WARNINGS")||!W&&!z.env("BLUEBIRD_WARNINGS")),Y=!(0==z.env("BLUEBIRD_LONG_STACK_TRACES")||!W&&!z.env("BLUEBIRD_LONG_STACK_TRACES")),K=0!=z.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(X||!!z.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){k("rejectionHandled",M,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),k("unhandledRejection",I,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return g(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=D();I="function"==typeof t?null===e?t:z.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=D();M="function"==typeof t?null===e?t:z.domainBind(e,t):void 0};var J=function(){};n.longStackTraces=function(){if(L.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&O()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace;at.longStackTraces=!0,J=function(){if(L.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,r.deactivateLongStackTraces(),L.enableTrampoline(),at.longStackTraces=!1},n.prototype._captureStackTrace=d,n.prototype._attachExtraTrace=v,r.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return at.longStackTraces&&O()};var Z=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return z.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!z.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return z.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!z.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),z.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!z.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Q=function(){return z.isNode?function(){return e.emit.apply(e,arguments)}:z.global?function(t){var e="on"+t.toLowerCase(),n=z.global[e];return!!n&&(n.apply(z.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=Q.apply(null,arguments)}catch(t){L.throwLater(t),e=!0}var n=!1;try{n=Z(t,tt[t].apply(null,arguments))}catch(t){L.throwLater(t),n=!0}return n||e};n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&J()),"warnings"in t){var e=t.warnings;at.warnings=!!e,K=at.warnings,z.isObject(e)&&"wForgottenReturn"in e&&(K=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!at.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=l,n.prototype._propagateFrom=p,n.prototype._onCancel=u,n.prototype._setOnCancel=c,n.prototype._attachCancellationCallback=s,n.prototype._execute=a,nt=p,at.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!at.monitoring?(at.monitoring=!0,n.prototype._fireEvent=et):!t.monitoring&&at.monitoring&&(at.monitoring=!1,n.prototype._fireEvent=o)),n},n.prototype._fireEvent=o,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var nt=h,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;z.inherits(F,Error),r.CapturedTrace=F,F.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;s<t-1?(u._parent=e[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},F.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=T(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(w(i.stack.split("\n"))),i=i._parent;x(r),b(r),z.notEnumerableProp(t,"stack",_(n,r)),z.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():C(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,V=t,$=e;var n=Error.captureStackTrace;return rt=function(t){return G.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return V=/@/,$=e,H=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?($=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?C(e):e.toString()},null):(V=t,$=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(R=function(t){console.warn(t)},z.isNode&&e.stderr.isTTY?R=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:z.isNode||"string"!=typeof(new Error).stack||(R=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:X,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&n.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return f},checkForgottenReturns:m,setBounds:j,warn:g,deprecated:y,CapturedTrace:F,fireDomEvent:Z,fireGlobalEvent:Q}}},{"./errors":12,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},{}],12:[function(t,e,n){"use strict";function r(t,e){function n(r){if(!(this instanceof n))return new n(r);p(this,"message","string"==typeof r?r:e),p(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}function i(t){if(!(this instanceof i))return new i(t);p(this,"name","OperationalError"),p(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(p(this,"message",t.message),p(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,a,s=t("./es5"),u=s.freeze,c=t("./util"),l=c.inherits,p=c.notEnumerableProp,h=r("Warning","warning"),f=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<m.length;++y)"function"==typeof Array.prototype[m[y]]&&(v.prototype[m[y]]=Array.prototype[m[y]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var g=0;v.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return g--,e},l(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=u({CancellationError:f,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},p=function(t){try{return Object(t).constructor.prototype}catch(t){return a}},h=function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}};e.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function a(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return c.call(this,this.promise._target()._settledValue())}function u(t){if(!a(this,t))return h.e=t,h}function c(t){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),t);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var f=n(l,i);if(f instanceof e){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new p("late cancellation observer");return i._attachExtraTrace(d),h.e=d,h}f.isPending()&&f._attachCancellationCallback(new o(this))}return f._then(s,u,void 0,this,void 0)}}}return i.isRejected()?(a(this),h.e=t,h):(a(this),t)}var l=t("./util"),p=e.CancellationError,h=l.errorObj,f=t("./catch_filter")(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new i(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,c,c)},e.prototype.tap=function(t){return this._passThrough(t,1,c)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,c);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var a=arguments[r];if(!l.isObject(a))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(f(i,s,this),1,void 0,c)},i}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=f(n[o])(t);if(r._popContext(),a===h){r._pushContext();var s=e.reject(h.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=t("./errors"),l=c.TypeError,p=t("./util"),h=p.errorObj,f=p.tryCatch,d=[];p.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n=void 0!==this._generator.return;if(n)this._promise._pushContext(),t=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=f(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=f(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=f(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&null===(o=s(o,this._yieldHandlers,this._promise)))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+p.classString(t));d.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}var i=[].slice.call(arguments);t&&i.pop();var r=new n(i).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(t,n,a,o).promise()}var c=e._getDomain,l=t("./util"),p=l.tryCatch,h=l.errorObj,f=e._async;l.inherits(s,n),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=-1*n-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var c=this._promise,l=this._callback,f=c._boundValue();c._pushContext();var d=p(l).call(f,t,n,o),v=c._popContext();if(a.checkForgottenReturns(d,v,null!==s?"Promise.filter":"Promise.map",c),d===h)return this._reject(d.e),!0;var m=i(d,this._promise);if(m instanceof e){m=m._target();var y=m._bitField;if(0==(50397184&y))return u>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}r[n]=d}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return u(this,t,e,null)},e.map=function(t,e,n,r){return u(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r=new e(n);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=a.isArray(c)?s(t).apply(l,c):s(t).call(l,c)}else u=s(t)();var p=r._popContext();return o.checkForgottenReturns(u,p,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];p.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(s(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}var a=t("./util"),s=a.maybeWrapAsError,u=t("./errors"),c=u.OperationalError,l=t("./es5"),p=/^(?:name|message|stack|cause)$/;e.exports=o},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundValue(),[null].concat(t));i===u&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===u&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=s(e).call(n._boundValue(),t);i===u&&a.throwLater(i.e)}var o=t("./util"),a=e._async,s=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){function r(){}function i(t,e){if(null==t||t.constructor!==o)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new _("expecting a function but got "+d.classString(e))}function o(t){t!==x&&i(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(x);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},p=function(){return new o.PromiseInspection(this._target())},h=function(t){return o.reject(new _(t))},f={},d=t("./util");c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=t("./es5"),m=t("./async"),y=new m;v.defineProperty(o,"_async",{value:y});var g=t("./errors"),_=o.TypeError=g.TypeError;o.RangeError=g.RangeError;var b=o.CancellationError=g.CancellationError;o.TimeoutError=g.TimeoutError,o.OperationalError=g.OperationalError,o.RejectionError=g.OperationalError,o.AggregateError=g.AggregateError;var x=function(){},w={},S={},T=t("./thenables")(o,x),P=t("./promise_array")(o,x,T,h,r),k=t("./context")(o),C=k.create,A=t("./debuggability")(o,k),O=(A.CapturedTrace,t("./finally")(o,T,S)),E=t("./catch_filter")(S),j=t("./nodeback"),F=d.errorObj,M=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return h("Catch statement predicate: expecting an object but got "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,E(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(p,p,void 0,this,void 0)},o.prototype.then=function(t,e){if(A.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?h("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,w,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new P(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=n.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(x);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=M(t)(j(e,n));return r===F&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new P(t).promise()},o.cast=function(t){var e=T(t);return e instanceof o||(e=new o(x),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(x);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new _("expecting a function but got "+d.classString(t));return y.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(x),u=this._target(),l=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var p=c();if(0!=(50397184&l)){var h,f,v=u._settlePromiseCtx;0!=(33554432&l)?(f=u._rejectionHandler0,h=t):0!=(16777216&l)?(f=u._fulfillmentHandler0,h=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,f=new b("late cancellation observer"),u._attachExtraTrace(f),h=e),y.invoke(v,u,{handler:null===p?h:"function"==typeof h&&d.domainBind(p,h),promise:s,receiver:r,value:f})}else u._addCallbacks(t,e,s,r,p);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==f)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=f),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=f),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=T(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0==(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&i))this._fulfill(r._value());else if(0!=(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&A.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){if(t!==x){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){r._pushContext();var o;e===w?n&&"number"==typeof n.length?o=M(t).apply(this._boundValue(),n):(o=F,o.e=new _("cannot .spread() a non-array: "+d.classString(n))):o=M(t).call(e,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===S?r._reject(n):o===F?r._rejectCallback(o.e,!1):(A.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var a=t instanceof o,s=this._bitField,u=0!=(134217728&s);0!=(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof O&&n.isFinallyHandler()?(n.cancelPromise=t,M(e).call(n,i)===F&&t._reject(F.e)):e===p?t._fulfill(p.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof P?t._cancel():n.cancel()):"function"==typeof e?a?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(u&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return y.fatalError(t,d.isNode);(65535&e)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled()}},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){return A.deprecated("Promise.defer","new Promise"),{promise:new o(x),resolve:a,reject:s}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),t("./method")(o,x,T,h,A),t("./bind")(o,x,T,A),t("./cancel")(o,P,h,A),t("./direct_resolve")(o),t("./synchronous_inspection")(o),t("./join")(o,P,T,x,y,c),o.Promise=o,o.version="3.5.1",t("./map.js")(o,P,h,T,x,A),t("./call_get.js")(o),t("./using.js")(o,h,T,C,x,A),t("./timers.js")(o,x,A),t("./generators.js")(o,h,x,T,r,A),t("./nodeify.js")(o),t("./promisify.js")(o,x),t("./props.js")(o,P,T,h),t("./race.js")(o,x,T,h),t("./reduce.js")(o,P,h,T,x,A),t("./settle.js")(o,P,A),t("./some.js")(o,P,h),t("./filter.js")(o,x),t("./each.js")(o,x),t("./any.js")(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(x)),A.setBounds(m.firstLineError,d.lastLineError),o}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function s(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=t("./util");u.isArray;return u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,o){var s=r(this._values,this._promise);if(s instanceof e){s=s._target();var c=s._bitField;if(this._values=s,0==(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(0==(33554432&c))return 0!=(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(null===(s=u.asArray(s))){var l=i("expecting an array or an iterable object but got "+u.classString(s)).reason();return void this._promise._rejectCallback(l,!1)}if(0===s.length)return void(-5===o?this._resolveEmptyArray():this._resolve(a(o)));this._iterate(s)},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);u instanceof e?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0==(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!=(33554432&a)?this._promiseFulfilled(u._value(),s):0!=(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t){return!b.test(t)}function i(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function o(t,e,n){var r=h.getDataPropertyOrDefault(t,e+n,g);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function s(t,e,n,r){for(var s=h.inheritedDataKeys(t),u=[],c=0;c<s.length;++c){var l=s[c],p=t[l],f=r===x||x(l,p,t);"function"!=typeof p||i(p)||o(t,l,e)||!r(l,p,t,f)||u.push(l,p)}return a(u,e,n),u}function u(t,r,i,o,a,s){function u(){var i=r;r===p&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof l&&this!==c?this[l]:t,u=f(o,s);try{a.apply(i,d(arguments,u))}catch(t){o._rejectCallback(v(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=t;return"string"==typeof l&&(t=o),h.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(w(e)+"$"),a=s(t,e,o,n),u=0,c=a.length;u<c;u+=2){var l=a[u],f=a[u+1],d=l+e;if(r===S)t[d]=S(l,p,l,f,e,i);else{var v=r(f,function(){return S(l,p,l,f,e,i)});h.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return h.toFastProperties(t),t}function l(t,e,n){return S(t,e,void 0,t,null,n)}var p={},h=t("./util"),f=t("./nodeback"),d=h.withAppended,v=h.maybeWrapAsError,m=h.canEvaluate,y=t("./errors").TypeError,g={__isPromisified__:!0},_=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],b=new RegExp("^(?:"+_.join("|")+")$"),x=function(t){return h.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},w=function(t){return t.replace(/([$])/,"\\$")},S=m?void 0:u;e.promisify=function(t,e){if("function"!=typeof t)throw new y("expecting a function but got "+h.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?p:e.context,o=!!e.multiArgs,a=l(t,n,o);return h.copyDescriptors(t,a,r),a},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var i=e.filter;"function"!=typeof i&&(i=x);var o=e.promisifier;if("function"!=typeof o&&(o=S),!h.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=h.inheritedDataKeys(t),s=0;s<a.length;++s){var u=t[a[s]];"constructor"!==a[s]&&h.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=p(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(t){var n,a=r(t);return c(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=t("./util"),c=u.isObject,l=t("./es5");"function"==typeof Map&&(s=Map);var p=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),h=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,n),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=h(this._values);else{n={};for(var r=this.length(),i=0,o=this.length();i<o;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,r(this,0,this,e,this._front+this._length&e-1)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){function o(t,o){var u=r(t);if(u instanceof e)return s(u);if(null===(t=a.asArray(t)))return i("expecting an array or an iterable object but got "+a.classString(t));var c=new e(n);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,p=c._reject,h=0,f=t.length;h<f;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(l,p,void 0,c,null)}return c}var a=t("./util"),s=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t,n,r,i){this.constructor$(t);var a=h();this._fn=null===a?n:f.domainBind(a,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+f.classString(e)):new s(t,e,n,i).promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;(o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=e._getDomain,f=t("./util"),d=f.tryCatch;f.inherits(s,n),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},s.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./util":36}],29:[function(t,i,o){"use strict";var a,s=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},c=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,p=e.nextTick;a=s.isRecentNode?function(t){l.call(n,t)}:function(t){p.call(e,t)}}else if("function"==typeof c&&"function"==typeof c.resolve){var h=c.resolve();a=function(t){h.then(t)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==r?function(t){r(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div");new MutationObserver(function(){t.classList.toggle("foo"),n=!1}).observe(r,e);var i=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),i()}}();i.exports=a},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t)}var o=e.PromiseInspection;t("./util").inherits(i,n),i.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,c=a.isArray,l={};a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){function r(t,r){if(l(t)){if(t instanceof e)return t;var i=o(t);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(a(t)){var u=new e(n);return t._then(u._fulfill,u._reject,void 0,u,null),u}return s(t,i,r)}}return t}function i(t){return t.then}function o(t){try{return i(t)}catch(t){return c.e=t,c}}function a(t){try{return p.call(t,"_promise0")}catch(t){return!1}}function s(t,r,i){function o(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,p,!0),s=null)}var s=new e(n),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var p=!0,h=u.tryCatch(r).call(t,o,a);return p=!1,s&&h===c&&(s._rejectCallback(h.e,!0,!0),s=null),l}var u=t("./util"),c=u.errorObj,l=u.isObject,p={}.hasOwnProperty;return r}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=t("./util"),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,o){var a,s;return void 0!==o?(a=e.resolve(o)._then(c,null,null,t,void 0),r.cancellation()&&o instanceof e&&a._setOnCancel(o)):(a=new e(n),s=setTimeout(function(){a._fulfill()},+t),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};e.prototype.delay=function(t){return l(t,this)};var p=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(t,e){t=+t;var n,s,u=new i(setTimeout(function(){n.isPending()&&p(n,e,s)},t));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){function s(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(a>=c)return l._fulfill();var o=u(t[a++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(t){return s(t)}if(o instanceof e)return o._then(i,s,null,null,null)}i()}var a=0,c=t.length,l=new e(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function p(t,e,n){this.constructor$(t,e,n)}function h(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function f(t){this.length=t,this.promise=null,this[t-1]=null}var d=t("./util"),v=t("./errors").TypeError,m=t("./util").inherits,y=d.errorObj,g=d.tryCatch,_={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():_},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==_?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},m(p,l),p.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},f.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("expecting a function but got "+d.classString(i));var o,s=!0;2===t&&Array.isArray(arguments[0])?(o=arguments[0],t=o.length,s=!1):(o=arguments,t--);for(var u=new f(t),p=0;p<t;++p){var v=o[p];if(l.isDisposer(v)){var m=v;v=v.promise(),v._setDisposable(m)}else{var _=r(v);_ instanceof e&&(v=_._then(h,null,null,{resources:u,index:p},void 0))}u[p]=v}for(var b=new Array(u.length),p=0;p<b.length;++p)b[p]=e.resolve(u[p]).reflect();var x=e.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void x.cancel();t[e]=n.value()}w._pushContext(),i=g(i);var r=s?i.apply(void 0,t):i(t),o=w._popContext();return a.checkForgottenReturns(r,o,"Promise.using",w),r}),w=x.lastly(function(){var t=new e.PromiseInspection(x);return c(u,t)});return u.promise=w,w._setOnCancel(u),w},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new p(t,this,i());throw new v}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";function o(){try{var t=A;return A=null,t.apply(this,arguments)}catch(t){return j.e=t,j}}function a(t){return A=t,o}function s(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function u(t){return"function"==typeof t||"object"==typeof t&&null!==t}function c(t){return s(t)?new Error(g(t)):t}function l(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function p(t,e,n){if(!O.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function h(t,e,n){if(s(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return O.defineProperty(t,e,r),t}function f(t){throw t}function d(t){try{if("function"==typeof t){var e=O.names(t.prototype),n=O.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=R.test(t+"")&&O.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function v(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function m(t){return D.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function g(t){try{return t+""}catch(t){return"[no string representation]"}}function _(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){try{h(t,"isOperational",!0)}catch(t){}}function x(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function w(t){return _(t)&&O.propertyIsWritable(t,"stack")}function S(t){return{}.toString.call(t)}function T(t,e,n){for(var r=O.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{O.defineProperty(e,o,O.getDescriptor(t,o))}catch(t){}}}function P(t){return G?e.env[t]:void 0}function k(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function C(t,e){return t.bind(e)}var A,O=t("./es5"),E="undefined"==typeof navigator,j={e:{}},F="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:void 0!==this?this:null,M=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},I=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(O.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(t,s);null!=u&&null==u.get&&null==u.set&&r.push(s)}}t=O.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),R=/this\s*\.\s*\S+\s*=/,D=/^[a-z$_][a-z$_0-9]*$/i,L=function(){return"stack"in new Error?function(t){return w(t)?t:new Error(g(t))}:function(t){if(w(t))return t;try{throw new Error(g(t))}catch(t){return t}}}(),U=function(t){return O.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var z="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};U=function(t){return O.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?z(t):null}}var N=void 0!==e&&"[object process]"===S(e).toLowerCase(),G=void 0!==e&&void 0!==e.env,B={isClass:d,isIdentifier:m,inheritedDataKeys:I,getDataPropertyOrDefault:p,thrower:f,isArray:O.isArray,asArray:U,notEnumerableProp:h,isPrimitive:s,isObject:u,isError:_,canEvaluate:E,errorObj:j,tryCatch:a,inherits:M,withAppended:l,maybeWrapAsError:c,toFastProperties:v,filledRange:y,toString:g,canAttachTrace:w,ensureErrorObject:L,originatesFromRejection:x,markAsOriginatingFromRejection:b,classString:S,copyDescriptors:T,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:N,hasEnvVariables:G,env:P,global:F,getNativePromise:k,domainBind:C};B.isRecentNode=B.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),B.isNode&&B.toFastProperties(e);try{throw new Error}catch(t){B.lastLineError=t}r.exports=B},{"./es5":13}]},{},[4])(4)}()}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,n(77),n(30),n(388).setImmediate)},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(389),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,s(u),u++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(l)setTimeout(a,0,t);else{var e=c[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var s,u=1,c={},l=!1,p=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var t=p.documentElement;s=function(e){var n=p.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(30),n(77))},function(t,e,n){t.exports=n(391)},function(t,e,n){"use strict";function r(t){var e=new a(t),n=o(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var i=n(12),o=n(152),a=n(392),s=n(108),u=r(s);u.Axios=a,u.create=function(t){return r(i.merge(s,t))},u.Cancel=n(157),u.CancelToken=n(406),u.isCancel=n(156),u.all=function(t){return Promise.all(t)},u.spread=n(407),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new a,response:new a}}var i=n(108),o=n(12),a=n(401),s=n(402);r.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),t=o.merge(i,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){r.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=r},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(155);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(12);t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var a=[];i.forEach(e,function(t,e){null!==t&&void 0!==t&&(i.isArray(t)&&(e+="[]"),i.isArray(t)||(t=[t]),i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var r=n(12),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(12);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(n){var i=r.isString(n)?t(n):n;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}function i(t){for(var e,n,i=String(t),a="",s=0,u=o;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new r;e=e<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=i},function(t,e,n){"use strict";var r=n(12);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function r(){this.handlers=[]}var i=n(12);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){"use strict";function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var i=n(12),o=n(403),a=n(156),s=n(108),u=n(404),c=n(405);t.exports=function(t){return r(t),t.baseURL&&!u(t.url)&&(t.url=c(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return r(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(r(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(12);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new i(t),e(n.reason))})}var i=n(157);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},o=n(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(e,n(77))},function(t,e,n){"use strict";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,r||t,o),s=c?c+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],a]:t._events[s].push(a):(t._events[s]=a,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,c="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(c=!1)),s.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)u.call(t,e)&&n.push(c?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(t){var e=c?c+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,o=new Array(i);r<i;r++)o[r]=n[r].fn;return o},s.prototype.listenerCount=function(t){var e=c?c+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,r,i,o){var a=c?c+t:t;if(!this._events[a])return!1;var s,u,l=this._events[a],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,i),!0;case 6:return l.fn.call(l.context,e,n,r,i,o),!0}for(u=1,s=new Array(p-1);u<p;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),p){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,r);break;default:if(!s)for(h=1,s=new Array(p-1);h<p;h++)s[h-1]=arguments[h];l[u].fn.apply(l[u].context,s)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,n,r){var i=c?c+t:t;if(!this._events[i])return this;if(!e)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==e||r&&!o.once||n&&o.context!==n||a(this,i);else{for(var s=0,u=[],l=o.length;s<l;s++)(o[s].fn!==e||r&&!o[s].once||n&&o[s].context!==n)&&u.push(o[s]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=c?c+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=c,s.EventEmitter=s,t.exports=s},function(t,e,n){function r(t){return function(e,n,r){return r&&"number"!=typeof r&&o(e,n,r)&&(n=r=void 0),e=a(e),void 0===n?(n=e,e=0):n=a(n),r=void 0===r?e<n?1:-1:a(r),i(e,n,r,t)}}var i=n(411),o=n(147),a=n(149);t.exports=r},function(t,e){function n(t,e,n,o){for(var a=-1,s=i(r((e-t)/(n||1)),0),u=Array(s);s--;)u[o?s:++a]=t,t+=n;return u}var r=Math.ceil,i=Math.max;t.exports=n},function(t,e,n){"use strict";function r(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}t.exports=r},function(t,e,n){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var p=t.arrayArgs[l];n.push(["t",p,"=array",p,".dtype,","r",p,"=array",p,".order"].join("")),o.push("t"+p),o.push("r"+p),a.push("t"+p),a.push("r"+p+".join()"),s.push("array"+p+".data"),s.push("array"+p+".stride"),s.push("array"+p+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+p+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+p+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(i.bind(void 0,t))}var i=n(414);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,p=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)p=l,l=t[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",l].join("")):c.push(["d",i,"s",r,"=(t",i,"p",l,"-s",p,"*t",i,"p",p,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),r=o-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(p=l,l=t[r],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&u.push(["index[",p,"]-=s",p].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,n,i){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(var l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(var l=0;l<a;++l){for(var p=["offset"+l],h=t;h<o;++h)p.push(["j",h,"*t",l,"p",e[h]].join(""));c.push(["p",l,"=(",p.join("+"),")"].join(""))}c.push(r(e,n,i));for(var l=t;l<o;++l)c.push("}");return c.join("\n")}function o(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function a(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var p=e.offsetArgIndex.indexOf(a);l=e.offsetArgs[p].array,c="+q"+p;case"array":c="p"+l+c;var h="l"+a,f="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(i.push(["var ",h,"=",f,".get(",c,")"].join("")),r=r.replace(u,h),o.push([f,".set(",c,",",h,")"].join(""))):r=r.replace(u,[f,".get(",c,")"].join("")):r=r.replace(u,[f,"[",c,"]"].join("")):"generic"===n[l]?(i.push(["var ",h,"=",f,".get(",c,")"].join("")),r=r.replace(u,h),s.lvalue&&o.push([f,".set(",c,",",h,")"].join(""))):(i.push(["var ",h,"=",f,"[",c,"]"].join("")),r=r.replace(u,h),s.lvalue&&o.push([f,"[",c,"]=",h].join("")));else{for(var d=[s.name],v=[c],m=0;m<Math.abs(e.arrayBlockIndices[l]);m++)d.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(m+1)+"*t"+l+"b"+m);if(u=new RegExp(d.join(""),"g"),c=v.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[f,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function u(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),l=new Array(t.arrayArgs.length),p=0;p<t.arrayArgs.length;++p)l[p]=e[2*p],u[p]=e[2*p+1];for(var h=[],f=[],d=[],v=[],m=[],p=0;p<t.arrayArgs.length;++p){t.arrayBlockIndices[p]<0?(d.push(0),v.push(n),h.push(n),f.push(n+t.arrayBlockIndices[p])):(d.push(t.arrayBlockIndices[p]),v.push(t.arrayBlockIndices[p]+n),h.push(0),f.push(t.arrayBlockIndices[p]));for(var y=[],g=0;g<u[p].length;g++)d[p]<=u[p][g]&&u[p][g]<v[p]&&y.push(u[p][g]-d[p]);m.push(y)}for(var _=["SS"],b=["'use strict'"],x=[],g=0;g<n;++g)x.push(["s",g,"=SS[",g,"]"].join(""));for(var p=0;p<t.arrayArgs.length;++p){_.push("a"+p),_.push("t"+p),_.push("p"+p);for(var g=0;g<n;++g)x.push(["t",p,"p",g,"=t",p,"[",d[p]+g,"]"].join(""));for(var g=0;g<Math.abs(t.arrayBlockIndices[p]);++g)x.push(["t",p,"b",g,"=t",p,"[",h[p]+g,"]"].join(""))}for(var p=0;p<t.scalarArgs.length;++p)_.push("Y"+p);if(t.shapeArgs.length>0&&x.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var w=new Array(n),p=0;p<n;++p)w[p]="0";x.push(["index=[",w.join(","),"]"].join(""))}for(var p=0;p<t.offsetArgs.length;++p){for(var S=t.offsetArgs[p],T=[],g=0;g<S.offset.length;++g)0!==S.offset[g]&&(1===S.offset[g]?T.push(["t",S.array,"p",g].join("")):T.push([S.offset[g],"*t",S.array,"p",g].join("")));0===T.length?x.push("q"+p+"=0"):x.push(["q",p,"=",T.join("+")].join(""))}var P=c([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));x=x.concat(P),x.length>0&&b.push("var "+x.join(","));for(var p=0;p<t.arrayArgs.length;++p)b.push("p"+p+"|=0");t.pre.body.length>3&&b.push(a(t.pre,t,l));var k=a(t.body,t,l),C=o(m);C<n?b.push(i(C,m[0],t,k)):b.push(r(m[0],t,k)),t.post.body.length>3&&b.push(a(t.post,t,l)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+b.join("\n")+"\n----------");var A=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",C,s(l)].join("");return new Function(["function ",A,"(",_.join(","),"){",b.join("\n"),"} return ",A].join(""))()}var c=n(159);t.exports=u},function(t,e,n){"use strict";(function(e){function r(t,e,n){this.name=t,this.lvalue=e,this.rvalue=n,this.count=0}function i(t,e,n,r){this.body=t,this.args=e,this.thisVars=n,this.localVars=r}function o(t){if("eval"===t)throw new Error("cwise-parser: eval() not allowed");return"undefined"!=typeof window?t in window:void 0!==e?t in e:"undefined"!=typeof self&&t in self}function a(t){for(var e=t.body[0].expression.callee.params,n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r].name;return n}function s(t){function e(t){var e=v+t.replace(/\_/g,"__");return x.push(e),e}function n(t){var e="this_"+t.replace(/\_/g,"__");return w.push(e),e}function s(t,e){for(var n=t.range[0],r=t.range[1],i=n+1;i<r;++i)_[i]="";_[n]=e}function p(t){return"'"+t.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function h(t){return"AssignmentExpression"===t.parent.type&&t.parent.left===t?"="===t.parent.operator?S:S|T:"UpdateExpression"===t.parent.type?S|T:T}for(var f=["(",t,")()"].join(""),d=u.parse(f,{range:!0}),v="_inline_"+l+++"_",m=a(d),y=new Array(m.length),g=0;g<m.length;++g)y[g]=new r([v,"arg",g,"_"].join(""),!1,!1);for(var _=new Array(f.length),g=0,b=f.length;g<b;++g)_[g]=f.charAt(g);var x=[],w=[],S=1,T=2;return function t(r,i){if(r.parent=i,"MemberExpression"===r.type)r.computed?(t(r.object,r),t(r.property,r)):"ThisExpression"===r.object.type?s(r,n(r.property.name)):t(r.object,r);else{if("ThisExpression"===r.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===r.type){var a=r.name,u=m.indexOf(a);if(u>=0){var c=y[u],l=h(r);l&S&&(c.lvalue=!0),l&T&&(c.rvalue=!0),++c.count,s(r,c.name)}else o(a)||s(r,e(a))}else if("Literal"===r.type)"string"==typeof r.value&&s(r,p(r.value));else{if("WithStatement"===r.type)throw new Error("cwise-parser: with() statements not allowed");for(var f=Object.keys(r),d=0,v=f.length;d<v;++d)if("parent"!==f[d]){var g=r[f[d]];if(g)if(g instanceof Array)for(var _=0;_<g.length;++_)g[_]&&"string"==typeof g[_].type&&t(g[_],r);else"string"==typeof g.type&&t(g,r)}}}}(d.body[0].expression.callee.body,void 0),c(x),c(w),new i(function(t){return _.slice(t.range[0],t.range[1]).join("")}(d.body[0].expression.callee.body),y,w,x)}var u=n(416),c=n(159),l=0;t.exports=s}).call(e,n(30))},function(t,e,n){var r,i,o;!function(n,a){"use strict";i=[e],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(t){"use strict";function e(t,e){if(!t)throw new Error("ASSERT: "+e)}function n(t){return t>=48&&t<=57}function r(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function i(t){return"01234567".indexOf(t)>=0}function o(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function a(t){return 10===t||13===t||8232===t||8233===t}function s(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&oe.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function u(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&oe.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function c(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function p(t){return"eval"===t||"arguments"===t}function h(t){if(ue&&l(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function f(t,n,r,i,o){var a;e("number"==typeof r,"Comment must have valid position"),ve.lastCommentStart>=r||(ve.lastCommentStart=r,a={type:t,value:n},me.range&&(a.range=[r,i]),me.loc&&(a.loc=o),me.comments.push(a),me.attachComment&&(me.leadingComments.push(a),me.trailingComments.push(a)))}function d(t){var e,n,r,i;for(e=ce-t,n={start:{line:le,column:ce-pe-t}};ce<he;)if(r=se.charCodeAt(ce),++ce,a(r))return me.comments&&(i=se.slice(e+t,ce-1),n.end={line:le,column:ce-pe-1},f("Line",i,e,ce-1,n)),13===r&&10===se.charCodeAt(ce)&&++ce,++le,void(pe=ce);me.comments&&(i=se.slice(e+t,ce),n.end={line:le,column:ce-pe},f("Line",i,e,ce,n))}function v(){var t,e,n,r;for(me.comments&&(t=ce-2,e={start:{line:le,column:ce-pe-2}});ce<he;)if(n=se.charCodeAt(ce),a(n))13===n&&10===se.charCodeAt(ce+1)&&++ce,++le,++ce,pe=ce,ce>=he&&G({},ie.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===se.charCodeAt(ce+1))return++ce,++ce,void(me.comments&&(r=se.slice(t+2,ce-2),e.end={line:le,column:ce-pe},f("Block",r,t,ce,e)));++ce}else++ce;G({},ie.UnexpectedToken,"ILLEGAL")}function m(){var t,e;for(e=0===ce;ce<he;)if(t=se.charCodeAt(ce),o(t))++ce;else if(a(t))++ce,13===t&&10===se.charCodeAt(ce)&&++ce,++le,pe=ce,e=!0;else if(47===t)if(47===(t=se.charCodeAt(ce+1)))++ce,++ce,d(2),e=!0;else{if(42!==t)break;++ce,++ce,v()}else if(e&&45===t){if(45!==se.charCodeAt(ce+1)||62!==se.charCodeAt(ce+2))break;ce+=3,d(3)}else{if(60!==t)break;if("!--"!==se.slice(ce+1,ce+4))break;++ce,++ce,++ce,++ce,d(4)}}function y(t){var e,n,i,o=0;for(n="u"===t?4:2,e=0;e<n;++e){if(!(ce<he&&r(se[ce])))return"";i=se[ce++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function g(){var t,e;for(t=se.charCodeAt(ce++),e=String.fromCharCode(t),92===t&&(117!==se.charCodeAt(ce)&&G({},ie.UnexpectedToken,"ILLEGAL"),++ce,t=y("u"),t&&"\\"!==t&&s(t.charCodeAt(0))||G({},ie.UnexpectedToken,"ILLEGAL"),e=t);ce<he&&(t=se.charCodeAt(ce),u(t));)++ce,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==se.charCodeAt(ce)&&G({},ie.UnexpectedToken,"ILLEGAL"),++ce,t=y("u"),t&&"\\"!==t&&u(t.charCodeAt(0))||G({},ie.UnexpectedToken,"ILLEGAL"),e+=t);return e}function _(){var t,e;for(t=ce++;ce<he;){if(92===(e=se.charCodeAt(ce)))return ce=t,g();if(!u(e))break;++ce}return se.slice(t,ce)}function b(){var t,e,n;return t=ce,e=92===se.charCodeAt(ce)?g():_(),n=1===e.length?Qt.Identifier:h(e)?Qt.Keyword:"null"===e?Qt.NullLiteral:"true"===e||"false"===e?Qt.BooleanLiteral:Qt.Identifier,{type:n,value:e,lineNumber:le,lineStart:pe,start:t,end:ce}}function x(){var t,e,n,r,i=ce,o=se.charCodeAt(ce),a=se[ce];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ce,me.tokenize&&(40===o?me.openParenToken=me.tokens.length:123===o&&(me.openCurlyToken=me.tokens.length)),{type:Qt.Punctuator,value:String.fromCharCode(o),lineNumber:le,lineStart:pe,start:i,end:ce};default:if(61===(t=se.charCodeAt(ce+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ce+=2,{type:Qt.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(t),lineNumber:le,lineStart:pe,start:i,end:ce};case 33:case 61:return ce+=2,61===se.charCodeAt(ce)&&++ce,{type:Qt.Punctuator,value:se.slice(i,ce),lineNumber:le,lineStart:pe,start:i,end:ce}}}return">>>="===(r=se.substr(ce,4))?(ce+=4,{type:Qt.Punctuator,value:r,lineNumber:le,lineStart:pe,start:i,end:ce}):">>>"===(n=r.substr(0,3))||"<<="===n||">>="===n?(ce+=3,{type:Qt.Punctuator,value:n,lineNumber:le,lineStart:pe,start:i,end:ce}):(e=n.substr(0,2),a===e[1]&&"+-<>&|".indexOf(a)>=0||"=>"===e?(ce+=2,{type:Qt.Punctuator,value:e,lineNumber:le,lineStart:pe,start:i,end:ce}):"<>=!+-*%&|^/".indexOf(a)>=0?(++ce,{type:Qt.Punctuator,value:a,lineNumber:le,lineStart:pe,start:i,end:ce}):void G({},ie.UnexpectedToken,"ILLEGAL"))}function w(t){for(var e="";ce<he&&r(se[ce]);)e+=se[ce++];return 0===e.length&&G({},ie.UnexpectedToken,"ILLEGAL"),s(se.charCodeAt(ce))&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:Qt.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:le,lineStart:pe,start:t,end:ce}}function S(t){for(var e="0"+se[ce++];ce<he&&i(se[ce]);)e+=se[ce++];return(s(se.charCodeAt(ce))||n(se.charCodeAt(ce)))&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:Qt.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:le,lineStart:pe,start:t,end:ce}}function T(){var t,e;for(t=ce+1;t<he;++t){if("8"===(e=se[t])||"9"===e)return!1;if(!i(e))return!0}return!0}function P(){var t,r,o;if(o=se[ce],e(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=ce,t="","."!==o){if(t=se[ce++],o=se[ce],"0"===t){if("x"===o||"X"===o)return++ce,w(r);if(i(o)&&T())return S(r)}for(;n(se.charCodeAt(ce));)t+=se[ce++];o=se[ce]}if("."===o){for(t+=se[ce++];n(se.charCodeAt(ce));)t+=se[ce++];o=se[ce]}if("e"===o||"E"===o)if(t+=se[ce++],o=se[ce],"+"!==o&&"-"!==o||(t+=se[ce++]),n(se.charCodeAt(ce)))for(;n(se.charCodeAt(ce));)t+=se[ce++];else G({},ie.UnexpectedToken,"ILLEGAL");return s(se.charCodeAt(ce))&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:Qt.NumericLiteral,value:parseFloat(t),lineNumber:le,lineStart:pe,start:r,end:ce}}function k(){var t,n,r,o,s,u,c,l,p="",h=!1;for(c=le,l=pe,t=se[ce],e("'"===t||'"'===t,"String literal must starts with a quote"),n=ce,++ce;ce<he;){if((r=se[ce++])===t){t="";break}if("\\"===r)if((r=se[ce++])&&a(r.charCodeAt(0)))++le,"\r"===r&&"\n"===se[ce]&&++ce,pe=ce;else switch(r){case"u":case"x":u=ce,s=y(r),s?p+=s:(ce=u,p+=r);break;case"n":p+="\n";break;case"r":p+="\r";break;case"t":p+="\t";break;case"b":p+="\b";break;case"f":p+="\f";break;case"v":p+="\v";break;default:i(r)?(o="01234567".indexOf(r),0!==o&&(h=!0),ce<he&&i(se[ce])&&(h=!0,o=8*o+"01234567".indexOf(se[ce++]),"0123".indexOf(r)>=0&&ce<he&&i(se[ce])&&(o=8*o+"01234567".indexOf(se[ce++]))),p+=String.fromCharCode(o)):p+=r}else{if(a(r.charCodeAt(0)))break;p+=r}}return""!==t&&G({},ie.UnexpectedToken,"ILLEGAL"),{type:Qt.StringLiteral,value:p,octal:h,startLineNumber:c,startLineStart:l,lineNumber:le,lineStart:pe,start:n,end:ce}}function C(t,e){var n;try{n=new RegExp(t,e)}catch(t){G({},ie.InvalidRegExp)}return n}function A(){var t,n,r,i,o;for(t=se[ce],e("/"===t,"Regular expression literal must start with a slash"),n=se[ce++],r=!1,i=!1;ce<he;)if(t=se[ce++],n+=t,"\\"===t)t=se[ce++],a(t.charCodeAt(0))&&G({},ie.UnterminatedRegExp),n+=t;else if(a(t.charCodeAt(0)))G({},ie.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){i=!0;break}"["===t&&(r=!0)}return i||G({},ie.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function O(){var t,e,n,r;for(e="",n="";ce<he&&(t=se[ce],u(t.charCodeAt(0)));)if(++ce,"\\"===t&&ce<he)if("u"===(t=se[ce])){if(++ce,r=ce,t=y("u"))for(n+=t,e+="\\u";r<ce;++r)e+=se[r];else ce=r,n+="u",e+="\\u";B({},ie.UnexpectedToken,"ILLEGAL")}else e+="\\",B({},ie.UnexpectedToken,"ILLEGAL");else n+=t,e+=t;return{value:n,literal:e}}function E(){var t,e,n,r;return de=null,m(),t=ce,e=A(),n=O(),r=C(e.value,n.value),me.tokenize?{type:Qt.RegularExpression,value:r,lineNumber:le,lineStart:pe,start:t,end:ce}:{literal:e.literal+n.literal,value:r,start:t,end:ce}}function j(){var t,e,n,r;return m(),t=ce,e={start:{line:le,column:ce-pe}},n=E(),e.end={line:le,column:ce-pe},me.tokenize||(me.tokens.length>0&&(r=me.tokens[me.tokens.length-1],r.range[0]===t&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||me.tokens.pop())),me.tokens.push({type:"RegularExpression",value:n.literal,range:[t,ce],loc:e})),n}function F(t){return t.type===Qt.Identifier||t.type===Qt.Keyword||t.type===Qt.BooleanLiteral||t.type===Qt.NullLiteral}function M(){var t,e;if(!(t=me.tokens[me.tokens.length-1]))return j();if("Punctuator"===t.type){if("]"===t.value)return x();if(")"===t.value)return e=me.tokens[me.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?x():j();if("}"===t.value){if(me.tokens[me.openCurlyToken-3]&&"Keyword"===me.tokens[me.openCurlyToken-3].type){if(!(e=me.tokens[me.openCurlyToken-4]))return x()}else{if(!me.tokens[me.openCurlyToken-4]||"Keyword"!==me.tokens[me.openCurlyToken-4].type)return x();if(!(e=me.tokens[me.openCurlyToken-5]))return j()}return ee.indexOf(e.value)>=0?x():j()}return j()}return"Keyword"===t.type&&"this"!==t.value?j():x()}function I(){var t;return m(),ce>=he?{type:Qt.EOF,lineNumber:le,lineStart:pe,start:ce,end:ce}:(t=se.charCodeAt(ce),s(t)?b():40===t||41===t||59===t?x():39===t||34===t?k():46===t?n(se.charCodeAt(ce+1))?P():x():n(t)?P():me.tokenize&&47===t?M():x())}function R(){var t,e,n;return m(),t={start:{line:le,column:ce-pe}},e=I(),t.end={line:le,column:ce-pe},e.type!==Qt.EOF&&(n=se.slice(e.start,e.end),me.tokens.push({type:te[e.type],value:n,range:[e.start,e.end],loc:t})),e}function D(){var t;return t=de,ce=t.end,le=t.lineNumber,pe=t.lineStart,de=void 0!==me.tokens?R():I(),ce=t.end,le=t.lineNumber,pe=t.lineStart,t}function L(){var t,e,n;t=ce,e=le,n=pe,de=void 0!==me.tokens?R():I(),ce=t,le=e,pe=n}function U(t,e){this.line=t,this.column=e}function z(t,e,n,r){this.start=new U(t,e),this.end=new U(n,r)}function N(){var t,e,n,r;return t=ce,e=le,n=pe,m(),r=le!==e,ce=t,le=e,pe=n,r}function G(t,n){var r,i=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(t,n){return e(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof t.lineNumber?(r=new Error("Line "+t.lineNumber+": "+o),r.index=t.start,r.lineNumber=t.lineNumber,r.column=t.start-pe+1):(r=new Error("Line "+le+": "+o),r.index=ce,r.lineNumber=le,r.column=ce-pe+1),r.description=o,r}function B(){try{G.apply(null,arguments)}catch(t){if(!me.errors)throw t;me.errors.push(t)}}function q(t){if(t.type===Qt.EOF&&G(t,ie.UnexpectedEOS),t.type===Qt.NumericLiteral&&G(t,ie.UnexpectedNumber),t.type===Qt.StringLiteral&&G(t,ie.UnexpectedString),t.type===Qt.Identifier&&G(t,ie.UnexpectedIdentifier),t.type===Qt.Keyword){if(c(t.value))G(t,ie.UnexpectedReserved);else if(ue&&l(t.value))return void B(t,ie.StrictReservedWord);G(t,ie.UnexpectedToken,t.value)}G(t,ie.UnexpectedToken,t.value)}function V(t){var e=D();e.type===Qt.Punctuator&&e.value===t||q(e)}function $(t){var e=D();e.type===Qt.Keyword&&e.value===t||q(e)}function H(t){return de.type===Qt.Punctuator&&de.value===t}function W(t){return de.type===Qt.Keyword&&de.value===t}function X(){var t;return de.type===Qt.Punctuator&&("="===(t=de.value)||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t)}function Y(){var t,e=ce,n=le,r=pe,i=de;return 59===se.charCodeAt(ce)||H(";")?void D():(t=le,m(),le!==t?(ce=e,le=n,pe=r,void(de=i)):void(de.type===Qt.EOF||H("}")||q(de)))}function K(t){return t.type===ne.Identifier||t.type===ne.MemberExpression}function J(){var t,e=[];for(t=de,V("[");!H("]");)H(",")?(D(),e.push(null)):(e.push(mt()),H("]")||V(","));return D(),fe.markEnd(fe.createArrayExpression(e),t)}function Z(t,e){var n,r,i;return n=ue,i=de,r=qt(),e&&ue&&p(t[0].name)&&B(e,ie.StrictParamName),ue=n,fe.markEnd(fe.createFunctionExpression(null,t,[],r),i)}function Q(){var t,e;return e=de,t=D(),t.type===Qt.StringLiteral||t.type===Qt.NumericLiteral?(ue&&t.octal&&B(t,ie.StrictOctalLiteral),fe.markEnd(fe.createLiteral(t),e)):fe.markEnd(fe.createIdentifier(t.value),e)}function tt(){var t,e,n,r,i,o;return t=de,o=de,t.type===Qt.Identifier?(n=Q(),"get"!==t.value||H(":")?"set"!==t.value||H(":")?(V(":"),r=mt(),fe.markEnd(fe.createProperty("init",n,r),o)):(e=Q(),V("("),t=de,t.type!==Qt.Identifier?(V(")"),B(t,ie.UnexpectedToken,t.value),r=Z([])):(i=[bt()],V(")"),r=Z(i,t)),fe.markEnd(fe.createProperty("set",e,r),o)):(e=Q(),V("("),V(")"),r=Z([]),fe.markEnd(fe.createProperty("get",e,r),o))):t.type!==Qt.EOF&&t.type!==Qt.Punctuator?(e=Q(),V(":"),r=mt(),fe.markEnd(fe.createProperty("init",e,r),o)):void q(t)}function et(){var t,e,n,r,i,o=[],a={},s=String;for(i=de,V("{");!H("}");)t=tt(),e=t.key.type===ne.Identifier?t.key.name:s(t.key.value),r="init"===t.kind?re.Data:"get"===t.kind?re.Get:re.Set,n="$"+e,Object.prototype.hasOwnProperty.call(a,n)?(a[n]===re.Data?ue&&r===re.Data?B({},ie.StrictDuplicateProperty):r!==re.Data&&B({},ie.AccessorDataProperty):r===re.Data?B({},ie.AccessorDataProperty):a[n]&r&&B({},ie.AccessorGetSet),a[n]|=r):a[n]=r,o.push(t),H("}")||V(",");return V("}"),fe.markEnd(fe.createObjectExpression(o),i)}function nt(){var t;return V("("),t=yt(),V(")"),t}function rt(){var t,e,n,r;if(H("("))return nt();if(H("["))return J();if(H("{"))return et();if(t=de.type,r=de,t===Qt.Identifier)n=fe.createIdentifier(D().value);else if(t===Qt.StringLiteral||t===Qt.NumericLiteral)ue&&de.octal&&B(de,ie.StrictOctalLiteral),n=fe.createLiteral(D());else if(t===Qt.Keyword){if(W("function"))return Ht();W("this")?(D(),n=fe.createThisExpression()):q(D())}else t===Qt.BooleanLiteral?(e=D(),e.value="true"===e.value,n=fe.createLiteral(e)):t===Qt.NullLiteral?(e=D(),e.value=null,n=fe.createLiteral(e)):H("/")||H("/=")?(n=void 0!==me.tokens?fe.createLiteral(j()):fe.createLiteral(E()),L()):q(D());return fe.markEnd(n,r)}function it(){var t=[];if(V("("),!H(")"))for(;ce<he&&(t.push(mt()),!H(")"));)V(",");return V(")"),t}function ot(){var t,e;return e=de,t=D(),F(t)||q(t),fe.markEnd(fe.createIdentifier(t.value),e)}function at(){return V("."),ot()}function st(){var t;return V("["),t=yt(),V("]"),t}function ut(){var t,e,n;return n=de,$("new"),t=lt(),e=H("(")?it():[],fe.markEnd(fe.createNewExpression(t,e),n)}function ct(){var t,e,n,r,i=ve.allowIn;for(r=de,ve.allowIn=!0,t=W("new")?ut():rt();;){if(H("."))n=at(),t=fe.createMemberExpression(".",t,n);else if(H("("))e=it(),t=fe.createCallExpression(t,e);else{if(!H("["))break;n=st(),t=fe.createMemberExpression("[",t,n)}fe.markEnd(t,r)}return ve.allowIn=i,t}function lt(){var t,n,r;for(e(ve.allowIn,"callee of new expression always allow in keyword."),r=de,t=W("new")?ut():rt();H(".")||H("[");)H("[")?(n=st(),t=fe.createMemberExpression("[",t,n)):(n=at(),t=fe.createMemberExpression(".",t,n)),fe.markEnd(t,r);return t}function pt(){var t,e,n=de;return t=ct(),de.type===Qt.Punctuator&&(!H("++")&&!H("--")||N()||(ue&&t.type===ne.Identifier&&p(t.name)&&B({},ie.StrictLHSPostfix),K(t)||B({},ie.InvalidLHSInAssignment),e=D(),t=fe.markEnd(fe.createPostfixExpression(e.value,t),n))),t}function ht(){var t,e,n;return de.type!==Qt.Punctuator&&de.type!==Qt.Keyword?e=pt():H("++")||H("--")?(n=de,t=D(),e=ht(),ue&&e.type===ne.Identifier&&p(e.name)&&B({},ie.StrictLHSPrefix),K(e)||B({},ie.InvalidLHSInAssignment),e=fe.createUnaryExpression(t.value,e),e=fe.markEnd(e,n)):H("+")||H("-")||H("~")||H("!")?(n=de,t=D(),e=ht(),e=fe.createUnaryExpression(t.value,e),e=fe.markEnd(e,n)):W("delete")||W("void")||W("typeof")?(n=de,t=D(),e=ht(),e=fe.createUnaryExpression(t.value,e),e=fe.markEnd(e,n),ue&&"delete"===e.operator&&e.argument.type===ne.Identifier&&B({},ie.StrictDelete)):e=pt(),e}function ft(t,e){var n=0;if(t.type!==Qt.Punctuator&&t.type!==Qt.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function dt(){var t,e,n,r,i,o,a,s,u,c;if(t=de,u=ht(),r=de,0===(i=ft(r,ve.allowIn)))return u;for(r.prec=i,D(),e=[t,de],a=ht(),o=[u,r,a];(i=ft(de,ve.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,u=o.pop(),n=fe.createBinaryExpression(s,u,a),e.pop(),t=e[e.length-1],fe.markEnd(n,t),o.push(n);r=D(),r.prec=i,o.push(r),e.push(de),n=ht(),o.push(n)}for(c=o.length-1,n=o[c],e.pop();c>1;)n=fe.createBinaryExpression(o[c-1].value,o[c-2],n),c-=2,t=e.pop(),fe.markEnd(n,t);return n}function vt(){var t,e,n,r,i;return i=de,t=dt(),H("?")&&(D(),e=ve.allowIn,ve.allowIn=!0,n=mt(),ve.allowIn=e,V(":"),r=mt(),t=fe.createConditionalExpression(t,n,r),fe.markEnd(t,i)),t}function mt(){var t,e,n,r,i;return t=de,i=de,r=e=vt(),X()&&(K(e)||B({},ie.InvalidLHSInAssignment),ue&&e.type===ne.Identifier&&p(e.name)&&B(t,ie.StrictLHSAssignment),t=D(),n=mt(),r=fe.markEnd(fe.createAssignmentExpression(t.value,e,n),i)),r}function yt(){var t,e=de;if(t=mt(),H(",")){for(t=fe.createSequenceExpression([t]);ce<he&&H(",");)D(),t.expressions.push(mt());fe.markEnd(t,e)}return t}function gt(){for(var t,e=[];ce<he&&!H("}")&&void 0!==(t=Wt());)e.push(t);return e}function _t(){var t,e;return e=de,V("{"),t=gt(),V("}"),fe.markEnd(fe.createBlockStatement(t),e)}function bt(){var t,e;return e=de,t=D(),t.type!==Qt.Identifier&&q(t),fe.markEnd(fe.createIdentifier(t.value),e)}function xt(t){var e,n,r=null;return n=de,e=bt(),ue&&p(e.name)&&B({},ie.StrictVarName),"const"===t?(V("="),r=mt()):H("=")&&(D(),r=mt()),fe.markEnd(fe.createVariableDeclarator(e,r),n)}function wt(t){var e=[];do{if(e.push(xt(t)),!H(","))break;D()}while(ce<he);return e}function St(){var t;return $("var"),t=wt(),Y(),fe.createVariableDeclaration(t,"var")}function Tt(t){var e,n;return n=de,$(t),e=wt(t),Y(),fe.markEnd(fe.createVariableDeclaration(e,t),n)}function Pt(){return V(";"),fe.createEmptyStatement()}function kt(){var t=yt();return Y(),fe.createExpressionStatement(t)}function Ct(){var t,e,n;return $("if"),V("("),t=yt(),V(")"),e=Bt(),W("else")?(D(),n=Bt()):n=null,fe.createIfStatement(t,e,n)}function At(){var t,e,n;return $("do"),n=ve.inIteration,ve.inIteration=!0,t=Bt(),ve.inIteration=n,$("while"),V("("),e=yt(),V(")"),H(";")&&D(),fe.createDoWhileStatement(t,e)}function Ot(){var t,e,n;return $("while"),V("("),t=yt(),V(")"),n=ve.inIteration,ve.inIteration=!0,e=Bt(),ve.inIteration=n,fe.createWhileStatement(t,e)}function Et(){var t,e,n;return n=de,t=D(),e=wt(),fe.markEnd(fe.createVariableDeclaration(e,t.value),n)}function jt(){var t,e,n,r,i,o,a,s=ve.allowIn;return t=e=n=null,$("for"),V("("),H(";")?D():(W("var")||W("let")?(ve.allowIn=!1,t=Et(),ve.allowIn=s,1===t.declarations.length&&W("in")&&(D(),r=t,i=yt(),t=null)):(ve.allowIn=!1,t=yt(),ve.allowIn=s,W("in")&&(K(t)||B({},ie.InvalidLHSInForIn),D(),r=t,i=yt(),t=null)),void 0===r&&V(";")),void 0===r&&(H(";")||(e=yt()),V(";"),H(")")||(n=yt())),V(")"),a=ve.inIteration,ve.inIteration=!0,o=Bt(),ve.inIteration=a,void 0===r?fe.createForStatement(t,e,n,o):fe.createForInStatement(r,i,o)}function Ft(){var t,e=null;return $("continue"),59===se.charCodeAt(ce)?(D(),ve.inIteration||G({},ie.IllegalContinue),fe.createContinueStatement(null)):N()?(ve.inIteration||G({},ie.IllegalContinue),fe.createContinueStatement(null)):(de.type===Qt.Identifier&&(e=bt(),t="$"+e.name,Object.prototype.hasOwnProperty.call(ve.labelSet,t)||G({},ie.UnknownLabel,e.name)),Y(),null!==e||ve.inIteration||G({},ie.IllegalContinue),fe.createContinueStatement(e))}function Mt(){var t,e=null;return $("break"),59===se.charCodeAt(ce)?(D(),ve.inIteration||ve.inSwitch||G({},ie.IllegalBreak),fe.createBreakStatement(null)):N()?(ve.inIteration||ve.inSwitch||G({},ie.IllegalBreak),fe.createBreakStatement(null)):(de.type===Qt.Identifier&&(e=bt(),t="$"+e.name,Object.prototype.hasOwnProperty.call(ve.labelSet,t)||G({},ie.UnknownLabel,e.name)),Y(),null!==e||ve.inIteration||ve.inSwitch||G({},ie.IllegalBreak),fe.createBreakStatement(e))}function It(){var t=null;return $("return"),ve.inFunctionBody||B({},ie.IllegalReturn),32===se.charCodeAt(ce)&&s(se.charCodeAt(ce+1))?(t=yt(),Y(),fe.createReturnStatement(t)):N()?fe.createReturnStatement(null):(H(";")||H("}")||de.type===Qt.EOF||(t=yt()),Y(),fe.createReturnStatement(t))}function Rt(){var t,e;return ue&&(m(),B({},ie.StrictModeWith)),$("with"),V("("),t=yt(),V(")"),e=Bt(),fe.createWithStatement(t,e)}function Dt(){var t,e,n,r=[];for(n=de,W("default")?(D(),t=null):($("case"),t=yt()),V(":");ce<he&&!(H("}")||W("default")||W("case"));)e=Bt(),r.push(e);return fe.markEnd(fe.createSwitchCase(t,r),n)}function Lt(){var t,e,n,r,i;if($("switch"),V("("),t=yt(),V(")"),V("{"),e=[],H("}"))return D(),fe.createSwitchStatement(t,e);for(r=ve.inSwitch,ve.inSwitch=!0,i=!1;ce<he&&!H("}");)n=Dt(),null===n.test&&(i&&G({},ie.MultipleDefaultsInSwitch),i=!0),e.push(n);return ve.inSwitch=r,V("}"),fe.createSwitchStatement(t,e)}function Ut(){var t;return $("throw"),N()&&G({},ie.NewlineAfterThrow),t=yt(),Y(),fe.createThrowStatement(t)}function zt(){var t,e,n;return n=de,$("catch"),V("("),H(")")&&q(de),t=bt(),ue&&p(t.name)&&B({},ie.StrictCatchVariable),V(")"),e=_t(),fe.markEnd(fe.createCatchClause(t,e),n)}function Nt(){var t,e=[],n=null;return $("try"),t=_t(),W("catch")&&e.push(zt()),W("finally")&&(D(),n=_t()),0!==e.length||n||G({},ie.NoCatchOrFinally),fe.createTryStatement(t,[],e,n)}function Gt(){return $("debugger"),Y(),fe.createDebuggerStatement()}function Bt(){var t,e,n,r,i=de.type;if(i===Qt.EOF&&q(de),i===Qt.Punctuator&&"{"===de.value)return _t();if(r=de,i===Qt.Punctuator)switch(de.value){case";":return fe.markEnd(Pt(),r);case"(":return fe.markEnd(kt(),r)}if(i===Qt.Keyword)switch(de.value){case"break":return fe.markEnd(Mt(),r);case"continue":return fe.markEnd(Ft(),r);case"debugger":return fe.markEnd(Gt(),r);case"do":return fe.markEnd(At(),r);case"for":return fe.markEnd(jt(),r);case"function":return fe.markEnd($t(),r);case"if":return fe.markEnd(Ct(),r);case"return":return fe.markEnd(It(),r);case"switch":return fe.markEnd(Lt(),r);case"throw":return fe.markEnd(Ut(),r);case"try":return fe.markEnd(Nt(),r);case"var":return fe.markEnd(St(),r);case"while":return fe.markEnd(Ot(),r);case"with":return fe.markEnd(Rt(),r)}return t=yt(),t.type===ne.Identifier&&H(":")?(D(),n="$"+t.name,Object.prototype.hasOwnProperty.call(ve.labelSet,n)&&G({},ie.Redeclaration,"Label",t.name),ve.labelSet[n]=!0,e=Bt(),delete ve.labelSet[n],fe.markEnd(fe.createLabeledStatement(t,e),r)):(Y(),fe.markEnd(fe.createExpressionStatement(t),r))}function qt(){var t,e,n,r,i,o,a,s,u,c=[];for(u=de,V("{");ce<he&&de.type===Qt.StringLiteral&&(e=de,t=Wt(),c.push(t),t.expression.type===ne.Literal);)n=se.slice(e.start+1,e.end-1),"use strict"===n?(ue=!0,r&&B(r,ie.StrictOctalLiteral)):!r&&e.octal&&(r=e);for(i=ve.labelSet,o=ve.inIteration,a=ve.inSwitch,s=ve.inFunctionBody,ve.labelSet={},ve.inIteration=!1,ve.inSwitch=!1,ve.inFunctionBody=!0;ce<he&&!H("}")&&void 0!==(t=Wt());)c.push(t);return V("}"),ve.labelSet=i,ve.inIteration=o,ve.inSwitch=a,ve.inFunctionBody=s,fe.markEnd(fe.createBlockStatement(c),u)}function Vt(t){var e,n,r,i,o,a,s=[];if(V("("),!H(")"))for(i={};ce<he&&(n=de,e=bt(),o="$"+n.value,ue?(p(n.value)&&(r=n,a=ie.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,a=ie.StrictParamDupe)):t||(p(n.value)?(t=n,a=ie.StrictParamName):l(n.value)?(t=n,a=ie.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(t=n,a=ie.StrictParamDupe)),s.push(e),i[o]=!0,!H(")"));)V(",");return V(")"),{params:s,stricted:r,firstRestricted:t,message:a}}function $t(){var t,e,n,r,i,o,a,s,u,c=[];return u=de,$("function"),n=de,t=bt(),ue?p(n.value)&&B(n,ie.StrictFunctionName):p(n.value)?(o=n,a=ie.StrictFunctionName):l(n.value)&&(o=n,a=ie.StrictReservedWord),i=Vt(o),c=i.params,r=i.stricted,o=i.firstRestricted,i.message&&(a=i.message),s=ue,e=qt(),ue&&o&&G(o,a),ue&&r&&B(r,a),ue=s,fe.markEnd(fe.createFunctionDeclaration(t,c,[],e),u)}function Ht(){var t,e,n,r,i,o,a,s,u=null,c=[];return s=de,$("function"),H("(")||(t=de,u=bt(),ue?p(t.value)&&B(t,ie.StrictFunctionName):p(t.value)?(n=t,r=ie.StrictFunctionName):l(t.value)&&(n=t,r=ie.StrictReservedWord)),i=Vt(n),c=i.params,e=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),a=ue,o=qt(),ue&&n&&G(n,r),ue&&e&&B(e,r),ue=a,fe.markEnd(fe.createFunctionExpression(u,c,[],o),s)}function Wt(){if(de.type===Qt.Keyword)switch(de.value){case"const":case"let":return Tt(de.value);case"function":return $t();default:return Bt()}if(de.type!==Qt.EOF)return Bt()}function Xt(){for(var t,e,n,r,i=[];ce<he&&(e=de,e.type===Qt.StringLiteral)&&(t=Wt(),i.push(t),t.expression.type===ne.Literal);)n=se.slice(e.start+1,e.end-1),"use strict"===n?(ue=!0,r&&B(r,ie.StrictOctalLiteral)):!r&&e.octal&&(r=e);for(;ce<he&&void 0!==(t=Wt());)i.push(t);return i}function Yt(){var t,e;return m(),L(),e=de,ue=!1,t=Xt(),fe.markEnd(fe.createProgram(t),e)}function Kt(){var t,e,n,r=[];for(t=0;t<me.tokens.length;++t)e=me.tokens[t],n={type:e.type,value:e.value},me.range&&(n.range=e.range),me.loc&&(n.loc=e.loc),r.push(n);me.tokens=r}function Jt(t,e){var n,r;n=String,"string"==typeof t||t instanceof String||(t=n(t)),fe=ae,se=t,ce=0,le=se.length>0?1:0,pe=0,he=se.length,de=null,ve={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},me={},e=e||{},e.tokens=!0,me.tokens=[],me.tokenize=!0,me.openParenToken=-1,me.openCurlyToken=-1,me.range="boolean"==typeof e.range&&e.range,me.loc="boolean"==typeof e.loc&&e.loc,"boolean"==typeof e.comment&&e.comment&&(me.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(me.errors=[]);try{if(L(),de.type===Qt.EOF)return me.tokens;for(D();de.type!==Qt.EOF;)try{D()}catch(t){if(de,me.errors){me.errors.push(t);break}throw t}Kt(),r=me.tokens,void 0!==me.comments&&(r.comments=me.comments),void 0!==me.errors&&(r.errors=me.errors)}catch(t){throw t}finally{me={}}return r}function Zt(t,e){var n,r;r=String,"string"==typeof t||t instanceof String||(t=r(t)),fe=ae,se=t,ce=0,le=se.length>0?1:0,pe=0,he=se.length,de=null,ve={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},me={},void 0!==e&&(me.range="boolean"==typeof e.range&&e.range,me.loc="boolean"==typeof e.loc&&e.loc,me.attachComment="boolean"==typeof e.attachComment&&e.attachComment,me.loc&&null!==e.source&&void 0!==e.source&&(me.source=r(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(me.tokens=[]),"boolean"==typeof e.comment&&e.comment&&(me.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(me.errors=[]),me.attachComment&&(me.range=!0,me.comments=[],me.bottomRightStack=[],me.trailingComments=[],me.leadingComments=[]));try{n=Yt(),void 0!==me.comments&&(n.comments=me.comments),void 0!==me.tokens&&(Kt(),n.tokens=me.tokens),void 0!==me.errors&&(n.errors=me.errors)}catch(t){throw t}finally{me={}}return n}var Qt,te,ee,ne,re,ie,oe,ae,se,ue,ce,le,pe,he,fe,de,ve,me;Qt={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},te={},te[Qt.BooleanLiteral]="Boolean",te[Qt.EOF]="<end>",te[Qt.Identifier]="Identifier",te[Qt.Keyword]="Keyword",te[Qt.NullLiteral]="Null",te[Qt.NumericLiteral]="Numeric",te[Qt.Punctuator]="Punctuator",te[Qt.StringLiteral]="String",te[Qt.RegularExpression]="RegularExpression",ee=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],ne={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},re={Data:1,Get:2,Set:4},ie={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},oe={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},ae={name:"SyntaxTree",processComment:function(t){var e,n;if(!(t.type===ne.Program&&t.body.length>0)){for(me.trailingComments.length>0?me.trailingComments[0].range[0]>=t.range[1]?(n=me.trailingComments,me.trailingComments=[]):me.trailingComments.length=0:me.bottomRightStack.length>0&&me.bottomRightStack[me.bottomRightStack.length-1].trailingComments&&me.bottomRightStack[me.bottomRightStack.length-1].trailingComments[0].range[0]>=t.range[1]&&(n=me.bottomRightStack[me.bottomRightStack.length-1].trailingComments,delete me.bottomRightStack[me.bottomRightStack.length-1].trailingComments);me.bottomRightStack.length>0&&me.bottomRightStack[me.bottomRightStack.length-1].range[0]>=t.range[0];)e=me.bottomRightStack.pop();e?e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=e.leadingComments,delete e.leadingComments):me.leadingComments.length>0&&me.leadingComments[me.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=me.leadingComments,me.leadingComments=[]),n&&(t.trailingComments=n),me.bottomRightStack.push(t)}},markEnd:function(t,e){return me.range&&(t.range=[e.start,ce]),me.loc&&(t.loc=new z(void 0===e.startLineNumber?e.lineNumber:e.startLineNumber,e.start-(void 0===e.startLineStart?e.lineStart:e.startLineStart),le,ce-pe),this.postProcess(t)),me.attachComment&&this.processComment(t),t},postProcess:function(t){return me.source&&(t.loc.source=me.source),t},createArrayExpression:function(t){return{type:ne.ArrayExpression,elements:t}},createAssignmentExpression:function(t,e,n){return{type:ne.AssignmentExpression,operator:t,left:e,right:n}},createBinaryExpression:function(t,e,n){return{type:"||"===t||"&&"===t?ne.LogicalExpression:ne.BinaryExpression,operator:t,left:e,right:n}},createBlockStatement:function(t){return{type:ne.BlockStatement,body:t}},createBreakStatement:function(t){return{type:ne.BreakStatement,label:t}},createCallExpression:function(t,e){return{type:ne.CallExpression,callee:t,arguments:e}},createCatchClause:function(t,e){return{type:ne.CatchClause,param:t,body:e}},createConditionalExpression:function(t,e,n){return{type:ne.ConditionalExpression,test:t,consequent:e,alternate:n}},createContinueStatement:function(t){return{type:ne.ContinueStatement,label:t}},createDebuggerStatement:function(){return{type:ne.DebuggerStatement}},createDoWhileStatement:function(t,e){return{type:ne.DoWhileStatement,body:t,test:e}},createEmptyStatement:function(){return{type:ne.EmptyStatement}},createExpressionStatement:function(t){return{type:ne.ExpressionStatement,expression:t}},createForStatement:function(t,e,n,r){return{type:ne.ForStatement,init:t,test:e,update:n,body:r}},createForInStatement:function(t,e,n){return{type:ne.ForInStatement,left:t,right:e,body:n,each:!1}},createFunctionDeclaration:function(t,e,n,r){return{type:ne.FunctionDeclaration,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(t,e,n,r){return{type:ne.FunctionExpression,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(t){return{type:ne.Identifier,name:t}},createIfStatement:function(t,e,n){return{type:ne.IfStatement,test:t,consequent:e,alternate:n}},createLabeledStatement:function(t,e){return{type:ne.LabeledStatement,label:t,body:e}},createLiteral:function(t){return{type:ne.Literal,value:t.value,raw:se.slice(t.start,t.end)}},createMemberExpression:function(t,e,n){return{type:ne.MemberExpression,computed:"["===t,object:e,property:n}},createNewExpression:function(t,e){return{type:ne.NewExpression,callee:t,arguments:e}},createObjectExpression:function(t){return{type:ne.ObjectExpression,properties:t}},createPostfixExpression:function(t,e){return{type:ne.UpdateExpression,operator:t,argument:e,prefix:!1}},createProgram:function(t){return{type:ne.Program,body:t}},createProperty:function(t,e,n){return{type:ne.Property,key:e,value:n,kind:t}},createReturnStatement:function(t){return{type:ne.ReturnStatement,argument:t}},createSequenceExpression:function(t){return{type:ne.SequenceExpression,expressions:t}},createSwitchCase:function(t,e){return{type:ne.SwitchCase,test:t,consequent:e}},createSwitchStatement:function(t,e){return{type:ne.SwitchStatement,discriminant:t,cases:e}},createThisExpression:function(){return{type:ne.ThisExpression}},createThrowStatement:function(t){return{type:ne.ThrowStatement,argument:t}},createTryStatement:function(t,e,n,r){return{type:ne.TryStatement,block:t,guardedHandlers:e,handlers:n,finalizer:r}},createUnaryExpression:function(t,e){return"++"===t||"--"===t?{type:ne.UpdateExpression,operator:t,argument:e,prefix:!0}:{type:ne.UnaryExpression,operator:t,argument:e,prefix:!0}},createVariableDeclaration:function(t,e){return{type:ne.VariableDeclaration,declarations:t,kind:e}},createVariableDeclarator:function(t,e){return{type:ne.VariableDeclarator,id:t,init:e}},createWhileStatement:function(t,e){return{type:ne.WhileStatement,test:t,body:e}},createWithStatement:function(t,e){return{type:ne.WithStatement,object:t,body:e}}},t.version="1.2.5",t.tokenize=Jt,t.parse=Zt,t.Syntax=function(){var t,e={};"function"==typeof Object.create&&(e=Object.create(null));for(t in ne)ne.hasOwnProperty(t)&&(e[t]=ne[t]);return"function"==typeof Object.freeze&&Object.freeze(e),e}()})},function(t,e,n){function r(t,e,n){return t&&t.length?(e=n||void 0===e?1:o(e),i(t,0,e<0?0:e)):[]}var i=n(418),o=n(148);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e){function n(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}t.exports=n},function(t,e,n){"use strict";function r(t,e){return"native"===e[1]?[t,"d0=",t,".length,",t,"d1=",t,"[0].length,"].join(""):[t,"d0=",t,".shape[0],",t,"d1=",t,".shape[1],",t,"s0=",t,".stride[0],",t,"s1=",t,".stride[1],",t,"o=",t,".offset,",t,"d=",t,".data,"].join("")}function i(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]&&(r?a.push("var ",e,"p=",e,"[",r,"];"):a.push("var ",e,"p=",e,"[0];")):r&&i?o?a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",o,",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):r?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0;"):i?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",e,"d",t[0],",",e,"p=",e,"o;"),a}function o(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]&&1===r&&o.push(e,"p=",e,"[",i,"+1]"):o.push(e,"p+=",e,"t",r,";"),o}function a(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]?a.push(e,"p[",i,"]=",o,";"):a.push(e,"[",r,"][",i,"]=",o,";"):"generic"===n[1]?a.push(e,"d.set(",e,"p,",o,");"):a.push(e,"d[",e,"p]=",o,";"),a}function s(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]?o.push(e,"p[",i,"]"):o.push(e,"[",r,"][",i,"]"):"generic"===n[1]?o.push(e,"d.get(",e,"p)"):o.push(e,"d[",e,"p]"),o.join("")}function u(t,e,n,r,u){var c=[],l="r"===t[0]?[1,0]:[0,1],p=[1,0],h=[0,1],f=["i","j"];return c.push.apply(c,i(l,"o",t)),l[1]?(c.push("for(j=0;j<od1;++j){"),c.push("for(i=0;i<od0;++i){")):(c.push("for(i=0;i<od0;++i){"),c.push("for(j=0;j<od1;++j){")),c.push.apply(c,i(p,"a",e,"i")),c.push.apply(c,i(h,"b",n,void 0,"j")),c.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",s(p,"a",e,"i","k"),"*",s(h,"b",n,"k","j"),";"),c.push.apply(c,o(p,"a",e,0,"k")),c.push.apply(c,o(h,"b",n,0,"k")),c.push("}"),r&&c.push("r*=A;"),u&&c.push("r+=B*",s(l,"o",t,"i","j"),";"),c.push.apply(c,a(l,"o",t,"i","j","r")),c.push.apply(c,o(l,"o",t,0,f[1])),c.push("}"),c.push.apply(c,o(l,"o",t,1,f[0])),c.push("}"),c}function c(t,e){var n,r=[],u="r"===t[0]?[1,0]:[0,1];return e&&r.push("if(B!==1.0){"),r.push.apply(r,i(u,"o",t)),u[0]?(r.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),n=["i","j"]):(r.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),n=["j","i"]),e?r.push.apply(r,a(u,"o",t,"i","j","B*"+s(u,"o",t,"i","j"))):r.push.apply(r,a(u,"o",t,"i","j","0")),r.push.apply(r,o(u,"o",t,0,n[1])),r.push("}"),r.push.apply(r,o(u,"o",t,1,n[0])),r.push("}"),e&&r.push("}"),r}function l(t,e,n,r,u){var l=[],p=["od0","od1","ad1"],f=[1,0],d=[1,0],v=[0,1];l.push.apply(l,c(t,u));for(var m=0;m<3;++m)l.push("for(var i",m,"=",p[m],";i",m,">0;){","var w",m,"=",h,";","if(i",m,"<",h,"){","w",m,"=i",m,";","i",m,"=0;","}else{","i",m,"-=",h,";","}");l.push.apply(l,i(f,"o",t,"i0","i1","w1")),l.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),l.push.apply(l,i(d,"a",e,"(i0+i)","i2")),l.push.apply(l,i(v,"b",n,"i2","(i1+j)")),l.push("for(k=0;k<w2;++k){"),l.push("r+=",s(d,"a",e,"(i0+i)","(i2+k)"),"*",s(v,"b",n,"(i2+k)","(i1+j)"),";"),l.push.apply(l,o(d,"a",e,0,"(i2+k)")),l.push.apply(l,o(v,"b",n,0,"(i2+k)")),l.push("}");var y="r";return r&&(y="A*r"),l.push.apply(l,a(f,"o",t,"(i0+i)","(i1+j)",y+"+"+s(f,"o",t,"(i0+i)","(i1+j)"))),l.push.apply(l,o(f,"o",t,0,"(i1+j)")),l.push("}"),l.push.apply(l,o(f,"o",t,1,"(i0+i)")),l.push("}}}}"),l}function p(t,e,n,i,o){var a=["gemm",t[0],t[1],"a",e[0],e[1],"b",n[0],n[1],i?"alpha":"",o?"beta":""].join(""),s=["function ",a,"(o,a,b,A,B){","var ",r("o",t),r("a",e),r("b",n),"i,j,k;"];return"r"===e[0]&&"c"===n[0]?s.push.apply(s,u(t,e,n,i,o)):s.push.apply(s,l(t,e,n,i,o)),s.push("}return ",a),new Function(s.join(""))()}t.exports=p;var h=32},function(t,e,n){"use strict";function r(t,e,n,r,o){for(var a=i.dot,s=e.shape[0]-1;s>=0;s--)o.set(s,o.get(s)*r+t*a(e.pick(s,null),n));return!0}var i=n(78);t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.data,o=e.data,a=t.stride[0],s=e.stride[0],u=t.offset,c=e.offset;for(n=t.shape[0]-1;n>=0;n--,u+=a,c+=s)r=i[u],i[u]=o[c],o[c]=r}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r=e.data,i=e.stride[0],o=e.offset;for(n=e.shape[0]-1;n>=0;n--,o+=i)r[o]*=t}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r=t.data,i=e.data,o=t.stride[0],a=e.stride[0],s=t.offset,u=e.offset;for(n=t.shape[0]-1;n>=0;n--,s+=o,u+=a)i[u]=r[s]}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=e.data,o=n.data,a=e.stride[0],s=n.stride[0],u=e.offset,c=n.offset;for(r=e.shape[0]-1;r>=0;r--,u+=a,c+=s)o[c]+=t*i[u]}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.data,o=t.stride[0],a=t.offset,s=0;if(t===e)for(n=t.shape[0]-1;n>=0;n--,a+=o)r=i[a],s+=r*r;else{var u=e.data,c=e.stride[0],l=e.offset;for(n=t.shape[0]-1;n>=0;n--,a+=o,l+=c)s+=u[l]*i[a]}return s}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=e.data,o=n.data,a=e.stride[0],s=n.stride[0],u=e.offset,c=n.offset;for(r=e.shape[0]-1;r>=0;r--,u+=a,c+=s)o[c]=t*i[u]}},function(t,e,n){"use strict";var r=function(t,e){if(0===t&&0===e)return 0;var n=Math.abs(t),r=Math.abs(e),i=Math.min(n,r),o=Math.max(n,r);return i/=o,o*Math.sqrt(1+i*i)};t.exports=function(t){var e,n,i=t.data,o=t.stride[0],a=t.offset,s=0;for(e=t.shape[0]-1;e>=0;e--,a+=o)n=i[a],s=r(s,n);return s}},function(t,e,n){"use strict";t.exports=function(t){var e,n=t.data,r=t.stride[0],i=t.offset,o=0;for(e=t.shape[0]-1;e>=0;e--,i+=r)o+=Math.abs(n[i]);return o}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=-1/0,o=t.data,a=t.stride[0],s=t.offset,u=t.shape[0];for(e=0;e<u;e++,s+=a)(n=Math.abs(o[s]))>i&&(i=n,r=e);return r}},function(t,e,n){"use strict";Math.sign=Math.sign||function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},t.exports=function(t,e,n){var r=0,i=0,o=0,a=0,s=0;if(0===e?(r=Math.sign(t),i=0,o=Math.abs(t)):0===t?(r=0,i=Math.sign(e),o=Math.abs(e)):Math.abs(t)>Math.abs(e)?(a=e/t,s=Math.sign(t)*Math.sqrt(1+a*a),r=1/s,i=a*r,o=t*s):(a=t/e,s=Math.sign(t)*Math.sqrt(1+a*a),i=1/s,r=a*i,o=e*s),!(void 0!==n&&n.length>2))return[r,i,o];n[0]=r,n[1]=i,n[2]=o}},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){for(var s=0,u=0,c=0,l=0,p=0,h=t.shape[0],f=t.shape[1],d=Math.min(e,h-1),v=Math.min(n,f-1),m=void 0===o?1:o,y=void 0===a?0:a;s<=d;){l=0;var g=Math.min(s+v,f-1);for(c=0;c<=g;c++)l+=t.get(s,c)*r.get(c);i.set(s,l*m+y*i.get(s)),s++}if(s<h)for(u=0;s+v<f;){for(l=0,c=0;c<=d+v;c++)p=u+c+1,l+=t.get(s,p)*r.get(p);if(i.set(s,l*m+y*i.get(s)),s++,u++,s===h)break}if(s<h)for(u++;s-d<f;){for(l=0,c=u;c<f;c++)l+=t.get(s,c)*r.get(c);if(i.set(s,l*m+y*i.get(s)),s++,u++,s===h)break}return!0}t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,o,a){var s=t.shape[0],u=r||!0,c=void 0===o?1:o,l=void 0===a?0:a,p=0,h=0,f=0,d=0;if(0===l)for(p=0;p<n.shape[0];++p)n.set(p,0);else 1!==l&&i.scal(l,n);if(0===c)return!0;if(1===c)if(u)for(h=0;h<s;++h){for(f=e.get(h),d=0,n.set(h,n.get(h)+f*t.get(h,h)),p=h+1;p<s;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+d)}else for(h=0;h<s;++h){for(f=e.get(h),d=0,p=0;p<=h-1;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+f*t.get(h,h)+d)}else if(u)for(h=0;h<s;++h){for(f=c*e.get(h),d=0,n.set(h,n.get(h)+f*t.get(h,h)),p=h+1;p<s;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+c*d)}else for(h=0;h<s;++h){for(f=c*e.get(h),d=0,p=0;p<=h-1;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+f*t.get(h,h)+c*d)}return!0}var i=n(78);t.exports=r},function(t,e,n){"use strict";function r(){console.error("SBMV (symmetric banded matrix vector multiply) not yet implemented")}t.exports=r},function(t,e,n){"use strict";(function(t){function e(){console.error("SPMV (symmetric packed matrix vector multiply) not yet implemented")}t.exporst=e}).call(e,n(66)(t))},function(t,e,n){"use strict";function r(t,e,n){var r=i.dot,o=t.shape[1],a=0;if(n)for(a=o-1;a>=0;a--)e.set(a,r(t.pick(a,null).hi(a+1),e.hi(a+1)));else for(a=0;a<o;a++)e.set(a,r(t.pick(a,null).lo(a),e.lo(a)));return!0}var i=n(78);t.exports=r},function(t,e,n){"use strict";function r(){console.error("TBMV (triangular banded matrix vector multiply) not yet implemented")}t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=i.dot,o=t.shape[1],a=0;if(n)for(e.set(0,e.get(0)/t.get(0,0)),a=1;a<o;a++)e.set(a,(e.get(a)-r(t.pick(a,null).hi(a),e.hi(a)))/t.get(a,a));else for(e.set(o-1,e.get(o-1)/t.get(o-1,o-1)),a=o-2;a>=0;a--)e.set(a,(e.get(a)-r(t.pick(a,null).lo(a+1),e.lo(a+1)))/t.get(a,a));return!0}var i=n(78);t.exports=r},function(t,e,n){"use strict";(function(t){function e(){console.error("TBSV (triangular banded matrix solver) not yet implemented")}t.exporst=e}).call(e,n(66)(t))},function(t,e,n){"use strict";function r(){console.error("TPSV (triangular packed matrix solver) not yet implemented")}t.exports=r},function(t,e,n){"use strict";function r(){console.error("GER (rank 1 operation A := alpha*x*y' + A) not yet implemented")}t.exports=r},function(t,e,n){"use strict";function r(){console.error("SYR (symmetric rank 1 operation A := alpha*x*y' + A) not yet implemented")}t.exports=r},function(t,e,n){"use strict";function r(){console.error("SPR (symmetric packed rank 1 operation A := alpha*x*y' + A) not yet implemented")}t.exports=r},function(t,e,n){"use strict";function r(){console.error("SYR (symmetric rank 2 operation A := alpha*x*y' + alpha*y*x' + A) not yet implemented")}t.exports=r},function(t,e,n){"use strict";function r(){console.error("SPR (symmetric packed rank 2 operation A := alpha*x*y' + alpha*y*x' + A) not yet implemented")}t.exports=r},function(t,e,n){"use strict";function r(){var t,e,n,r;if(2===arguments.length?(e=arguments[0],r=arguments[1]):3===arguments.length&&(n=arguments[0],e=arguments[1],r=arguments[2]),!Array.isArray(r))throw new Error("second argument of tile must be an array of repetition counts for each dimension");var a=e.shape.slice(0),s=a.slice(0),u=Math.max(s.length,r.length);for(t=0;t<u;t++)if(a[t]=void 0===a[t]?1:a[t],r[t]=void 0===r[t]?1:r[t],s[t]=(void 0===s[t]?1:s[t])*r[t],0===s[t])throw new Error("Number of tiles must be greater than zero");n||(n=i.zeros(s,e.dtype));var c=1;for(t=0;t<r.length;t++)c*=r[t];var l=new Array(r.length);for(t=0;t<r.length;t++)l[t]=0;var p=s.slice(0);for(f=0;f<s.length;f++)p[f]=f<e.dimension?null:0;for(t=0;t<c;t++){for(f=e.dimension;f<s.length;f++)p[f]=l[f];var h=n.pick.apply(n,p);if(h=h.lo.apply(h,l),h=h.hi.apply(h,e.shape),o.assign(h,e),t===c-1)break;for(var f=u-1;f>=0&&(l[f]+=a[f],l[f]===s[f]);)l[f]=0,f--}return n}var i=n(164),o=n(1);t.exports=r},function(t,e,n){"use strict";(function(t,r){function i(t){if(t){var e=t.length||t.byteLength,n=g.log2(e);w[n].push(t)}}function o(t){i(t.buffer)}function a(t){var t=g.nextPow2(t),e=g.log2(t),n=w[e];return n.length>0?n.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function u(t){return new Uint16Array(a(2*t),0,t)}function c(t){return new Uint32Array(a(4*t),0,t)}function l(t){return new Int8Array(a(t),0,t)}function p(t){return new Int16Array(a(2*t),0,t)}function h(t){return new Int32Array(a(4*t),0,t)}function f(t){return new Float32Array(a(4*t),0,t)}function d(t){return new Float64Array(a(8*t),0,t)}function v(t){return b?new Uint8ClampedArray(a(t),0,t):s(t)}function m(t){return new DataView(a(t),0,t)}function y(t){t=g.nextPow2(t);var e=g.log2(t),n=S[e];return n.length>0?n.pop():new r(t)}var g=n(452),_=n(165);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:_([32,0]),UINT16:_([32,0]),UINT32:_([32,0]),INT8:_([32,0]),INT16:_([32,0]),INT32:_([32,0]),FLOAT:_([32,0]),DOUBLE:_([32,0]),DATA:_([32,0]),UINT8C:_([32,0]),BUFFER:_([32,0])});var b="undefined"!=typeof Uint8ClampedArray,x=t.__TYPEDARRAY_POOL;x.UINT8C||(x.UINT8C=_([32,0])),x.BUFFER||(x.BUFFER=_([32,0]));var w=x.DATA,S=x.BUFFER;e.free=function(t){if(r.isBuffer(t))S[g.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|g.log2(e);w[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=o,e.freeArrayBuffer=i,e.freeBuffer=function(t){S[g.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return a(t);switch(e){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return c(t);case"int8":return l(t);case"int16":return p(t);case"int32":return h(t);case"float":case"float32":return f(t);case"double":case"float64":return d(t);case"uint8_clamped":return v(t);case"buffer":return y(t);case"data":case"dataview":return m(t);default:return null}return null},e.mallocArrayBuffer=a,e.mallocUint8=s,e.mallocUint16=u,e.mallocUint32=c,e.mallocInt8=l,e.mallocInt16=p,e.mallocInt32=h,e.mallocFloat32=e.mallocFloat=f,e.mallocFloat64=e.mallocDouble=d,e.mallocUint8Clamped=v,e.mallocDataView=m,e.mallocBuffer=y,e.clearCache=function(){for(var t=0;t<32;++t)x.UINT8[t].length=0,x.UINT16[t].length=0,x.UINT32[t].length=0,x.INT8[t].length=0,x.INT16[t].length=0,x.INT32[t].length=0,x.FLOAT[t].length=0,x.DOUBLE[t].length=0,x.UINT8C[t].length=0,w[t].length=0,S[t].length=0}}).call(e,n(30),n(448).Buffer)},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?l(t,e,n):f(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function c(t,e){if(s(e),t=i(t,e<0?0:0|d(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n);t=i(t,r);var a=t.write(e,n);return a!==r&&(t=t.slice(0,a)),t}function p(t,e){var n=e.length<0?0:0|d(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=p(t,e),t}function f(t,e){if(o.isBuffer(e)){var n=0|d(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Y(e.length)?i(t,0):p(t,e);if("Buffer"===e.type&&Z(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),o.alloc(+t)}function m(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return F(this,e,n);case"utf8":case"utf-8":return A(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return j(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===u)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var p=!0,h=0;h<u;h++)if(o(t,c+h)!==o(e,h)){p=!1;break}if(p)return c}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return X(V(e,t.length-n),t,n,r)}function S(t,e,n,r){return X($(e),t,n,r)}function T(t,e,n,r){return S(t,e,n,r)}function P(t,e,n,r){return X(W(e),t,n,r)}function k(t,e,n,r){return X(H(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?K.fromByteArray(t):K.fromByteArray(t.slice(e,n))}function A(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,l,p;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=t[i+1]))&&(p=(31&o)<<6|63&u)>127&&(a=p);break;case 3:u=t[i+1],c=t[i+2],128==(192&u)&&128==(192&c)&&(p=(15&o)<<12|(63&u)<<6|63&c)>2047&&(p<55296||p>57343)&&(a=p);break;case 4:u=t[i+1],c=t[i+2],l=t[i+3],128==(192&u)&&128==(192&c)&&128==(192&l)&&(p=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&p<1114112&&(a=p)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return O(r)}function O(t){var e=t.length;if(e<=Q)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Q));return n}function E(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function j(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function F(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=q(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,r,i){return i||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,i){return i||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function G(t){if(t=B(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function H(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return K.toByteArray(G(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Y(t){return t!==t}var K=n(449),J=n(450),Z=n(451);e.Buffer=o,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return u(null,t,e,n)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):y.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,u=Math.min(a,s),c=this.slice(r,i),l=t.slice(e,n),p=0;p<u;++p)if(c[p]!==l[p]){a=c[p],s=l[p];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return P(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),J.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),J.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),J.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),J.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||R(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:V(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(30))},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,a,s=t.length;o=r(t),a=new p(3*s/4-o),n=o>0?s-4:s;var u=0;for(e=0;e<n;e+=4)i=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,a[u++]=255&i):1===o&&(i=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function a(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function s(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(a(r));return i.join("")}function u(t){for(var e,n=t.length,r=n%3,i="",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(t,a,a+16383>u?u:a+16383));return 1===r?(e=t[n-1],i+=c[e>>2],i+=c[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=c[e>>10],i+=c[e>>4&63],i+=c[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=u;for(var c=[],l=[],p="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=h.length;f<d;++f)c[f]=h[f],l[h.charCodeAt(f)]=f;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?i-1:0,h=n?-1:1,f=t[e+p];for(p+=h,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+t[e+p],p+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+p],p+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+p>=1?h/u:h*Math.pow(2,1-p),e*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(e*u-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+f]=255&a,f+=d,a/=256,c-=8);t[n+f-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,(e|=n)|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";function r(){var t,e,n,r,u,c,l,p,h,f;if(r=i({},s),0===arguments.length)throw new Error("Array of ndarrays to concatenate must not be empty");if(Array.isArray(arguments[0])?(n=arguments[0],i(r,arguments[1]||{})):2===arguments.length&&(n=arguments[1],t=arguments[0],i(r,arguments[2]||{})),0===n.length)throw new Error("Array of ndarrays to concatenate must not be empty");for(u=0;u<n.length;u++)if(l){if(n[u].dimension!==l.length)throw new Error("all arrays must have the same dimensionality");for(c=1;c<n[u].shape.length;c++)if(n[u].shape[c]!==l[c])throw new Error("last n-1 dimensions of concatenated rows must have the same size");l[0]+=n[u].shape[0]}else l=n[u].shape.slice(0);if(t){if(l[0]!==t.shape[0])throw new Error("first dimension of output array must match the total number of concatenated rows")}else t=a.zeros(l,r.dtype);for(c=0,p=0;c<n.length;c++)e=n[c],h=e.shape[0],f=t.lo(p).hi(h),o.assign(f,e),p+=h;return t}t.exports=r;var i=n(454),o=n(1),a=n(164),s={dtype:"double"}},function(t,e){function n(t,e){if(!e||"object"!=typeof e)return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}t.exports=n},function(t,e,n){"use strict";t.exports=n(456)},function(t,e,n){"use strict";function r(){i.Reader._configure(i.BufferReader),i.util._configure()}var i=e;i.build="minimal",i.Writer=n(166),i.BufferWriter=n(465),i.Reader=n(167),i.BufferReader=n(466),i.util=n(33),i.rpc=n(467),i.roots=n(469),i.configure=r,i.Writer._configure(i.BufferWriter),r()},function(t,e,n){"use strict";function r(t,e){for(var n=new Array(arguments.length-1),r=0,i=2,o=!0;i<arguments.length;)n[r++]=arguments[i++];return new Promise(function(i,a){n[r]=function(t){if(o)if(o=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];i.apply(null,e)}};try{t.apply(e||null,n)}catch(t){o&&(o=!1,a(t))}})}t.exports=r},function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(t,e,n){for(var r,o=null,a=[],s=0,u=0;e<n;){var c=t[e++];switch(u){case 0:a[s++]=i[c>>2],r=(3&c)<<4,u=1;break;case 1:a[s++]=i[r|c>>4],r=(15&c)<<2,u=2;break;case 2:a[s++]=i[r|c>>6],a[s++]=i[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=i[r],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var s="invalid encoding";r.decode=function(t,e,n){for(var r,i=n,a=0,u=0;u<t.length;){var c=t.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=o[c]))throw Error(s);switch(a){case 0:r=c,a=1;break;case 1:e[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:e[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:e[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error(s);return n-i},r.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}},function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},function(t,e,n){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){function e(t,e,n){o[0]=t,e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3]}function n(t,e,n){o[0]=t,e[n]=a[3],e[n+1]=a[2],e[n+2]=a[1],e[n+3]=a[0]}function r(t,e){return a[0]=t[e],a[1]=t[e+1],a[2]=t[e+2],a[3]=t[e+3],o[0]}function i(t,e){return a[3]=t[e],a[2]=t[e+1],a[1]=t[e+2],a[0]=t[e+3],o[0]}var o=new Float32Array([-0]),a=new Uint8Array(o.buffer),s=128===a[3];t.writeFloatLE=s?e:n,t.writeFloatBE=s?n:e,t.readFloatLE=s?r:i,t.readFloatBE=s?i:r}():function(){function e(t,e,n,r){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>3.4028234663852886e38)t((i<<31|2139095040)>>>0,n,r);else if(e<1.1754943508222875e-38)t((i<<31|Math.round(e/1.401298464324817e-45))>>>0,n,r);else{var o=Math.floor(Math.log(e)/Math.LN2),a=8388607&Math.round(e*Math.pow(2,-o)*8388608);t((i<<31|o+127<<23|a)>>>0,n,r)}}function n(t,e,n){var r=t(e,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1.401298464324817e-45*i*a:i*Math.pow(2,o-150)*(a+8388608)}t.writeFloatLE=e.bind(null,i),t.writeFloatBE=e.bind(null,o),t.readFloatLE=n.bind(null,a),t.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){function e(t,e,n){o[0]=t,e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7]}function n(t,e,n){o[0]=t,e[n]=a[7],e[n+1]=a[6],e[n+2]=a[5],e[n+3]=a[4],e[n+4]=a[3],e[n+5]=a[2],e[n+6]=a[1],e[n+7]=a[0]}function r(t,e){return a[0]=t[e],a[1]=t[e+1],a[2]=t[e+2],a[3]=t[e+3],a[4]=t[e+4],a[5]=t[e+5],a[6]=t[e+6],a[7]=t[e+7],o[0]}function i(t,e){return a[7]=t[e],a[6]=t[e+1],a[5]=t[e+2],a[4]=t[e+3],a[3]=t[e+4],a[2]=t[e+5],a[1]=t[e+6],a[0]=t[e+7],o[0]}var o=new Float64Array([-0]),a=new Uint8Array(o.buffer),s=128===a[7];t.writeDoubleLE=s?e:n,t.writeDoubleBE=s?n:e,t.readDoubleLE=s?r:i,t.readDoubleBE=s?i:r}():function(){function e(t,e,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,i,o+e),t(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))t(0,i,o+e),t(2146959360,i,o+n);else if(r>1.7976931348623157e308)t(0,i,o+e),t((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<2.2250738585072014e-308)s=r/5e-324,t(s>>>0,i,o+e),t((a<<31|s/4294967296)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),s=r*Math.pow(2,-u),t(4503599627370496*s>>>0,i,o+e),t((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(t,e,n,r,i){var o=t(r,i+e),a=t(r,i+n),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,i,0,4),t.writeDoubleBE=e.bind(null,o,4,0),t.readDoubleLE=n.bind(null,a,0,4),t.readDoubleBE=n.bind(null,s,4,0)}(),t}function i(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function o(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){if(n-e<1)return"";for(var r,i=null,o=[],a=0;e<n;)r=t[e++],r<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(t,e,n){for(var r,i,o=n,a=0;a<t.length;++a)r=t.charCodeAt(a),r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-o}},function(t,e,n){"use strict";function r(t,e,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return t(n);a+n>r&&(o=t(r),a=0);var s=e.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}t.exports=r},function(t,e,n){"use strict";function r(t,e){this.lo=t>>>0,this.hi=e>>>0}t.exports=r;var i=n(33),o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(t){if(0===t)return o;var e=t<0;e&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return e&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i)},r.from=function(t){if("number"==typeof t)return r.fromNumber(t);if(i.isString(t)){if(!i.Long)return r.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new r(t.low>>>0,t.high>>>0):o},r.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;r.fromHash=function(t){return t===a?o:new r((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},r.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},r.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},function(t,e,n){"use strict";function r(){o.call(this)}function i(t,e,n){t.length<40?a.utf8.write(t,e,n):e.utf8Write(t,n)}t.exports=r;var o=n(166);(r.prototype=Object.create(o.prototype)).constructor=r;var a=n(33),s=a.Buffer;r.alloc=function(t){return(r.alloc=a._Buffer_allocUnsafe)(t)};var u=s&&s.prototype instanceof Uint8Array&&"set"===s.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]};r.prototype.bytes=function(t){a.isString(t)&&(t=a._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(u,e,t),this},r.prototype.string=function(t){var e=s.byteLength(t);return this.uint32(e),e&&this._push(i,e,t),this}},function(t,e,n){"use strict";function r(t){i.call(this,t)}t.exports=r;var i=n(167);(r.prototype=Object.create(i.prototype)).constructor=r;var o=n(33);o.Buffer&&(r.prototype._slice=o.Buffer.prototype.slice),r.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,e,n){"use strict";e.Service=n(468)},function(t,e,n){"use strict";function r(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}t.exports=r;var i=n(33);(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function t(e,n,r,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return i.asPromise(t,s,e,n,r,o);if(!s.rpcImpl)return void setTimeout(function(){a(Error("already ended"))},0);try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(t,n){if(t)return s.emit("error",t,e),a(t);if(null===n)return void s.end(!0);if(!(n instanceof r))try{n=r[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)})}catch(t){return s.emit("error",t,e),void setTimeout(function(){a(t)},0)}},r.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,n){"use strict";t.exports={}},function(t,e){},function(t,e,n){function r(t){return"number"==typeof t&&o(t)}var i=n(17),o=i.isFinite;t.exports=r},function(t,e,n){function r(t){return(null==t?0:t.length)?i(t,o):[]}var i=n(151),o=1/0;t.exports=r},function(t,e,n){"use strict";var r=n(165),i=n(8),o=i({args:["array","scalar","index"],body:function(t,e,n){var r,i=e;for(r=0;r<n.length-1;++r)i=i[n[r]];i[n[n.length-1]]=t}});t.exports=function(t){var e=r(t.shape);return o(t,e),e}}])})}).call(exports,__webpack_require__(0).setImmediate,__webpack_require__(0).clearImmediate)},function(t,e,n){"use strict";function r(t){if(!t)return s;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:r(t.pre),body:r(t.body),post:r(t.proc),funcName:t.funcName})}function o(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(i(t))}var a=n(10),s={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var n=u[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in c){var n=c[t];e[t]=o({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in l){var n=l[t];e[t]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<p.length;++t){var n=p[t];e[n]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var t=0;t<h.length;++t){var n=h[t];e[n]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var f=["atan2","pow"];!function(){for(var t=0;t<f.length;++t){var n=f[t];e[n+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),e.any=a({args:["array"],pre:s,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=a({args:["array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=a({args:["array","array"],pre:s,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,n){function r(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(r);var i=new Array(n.length);for(t=0;t<i.length;++t)i[t]=n[t][1];return i}function o(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var r="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(o);return a()}if(0===e){var o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(r?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(r?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",o);return a(p[t][0])}var o=["'use strict'"],s=u(e),c=s.map(function(t){return"i"+t}),l="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),h=s.map(function(t){return"b"+t}).join(","),f=s.map(function(t){return"c"+t}).join(",");o.push("function "+n+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),r?o.push("return this.data.set("+l+",v)}"):o.push("return this.data["+l+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),r?o.push("return this.data.get("+l+")}"):o.push("return this.data["+l+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+l+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),v=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+v.join(","));for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var y=new Array(e),g=new Array(e),m=0;m<e;++m)y[m]="a[i"+m+"]",g[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+y.join(",")+","+g.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(p[t],i)}function a(t){if(c(t))return"buffer";if(l)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,e,n,r){if(void 0===t){var i=p.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var s=e.length;if(void 0===n){n=new Array(s);for(var u=s-1,c=1;u>=0;--u)n[u]=c,c*=e[u]}if(void 0===r){r=0;for(var u=0;u<s;++u)n[u]<0&&(r-=(e[u]-1)*n[u])}for(var l=a(t),h=p[l];h.length<=s+1;)h.push(o(l,h.length-1));var i=h[s+1];return i(t,e,n,r)}var u=n(17),c=n(18),l="undefined"!=typeof Float64Array,p={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=s},function(t,e,n){(function(e,n){/*!
 * Vue.js v2.5.13
 * (c) 2014-2017 Evan You
 * Released under the MIT License.
 */
!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function i(t){return!0===t}function o(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function a(t){return null!==t&&"object"==typeof t}function s(t){return"[object Object]"===In.call(t)}function u(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function c(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function l(t){var e=parseFloat(t);return isNaN(e)?t:e}function p(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function h(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function f(t,e){return Ln.call(t,e)}function d(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}function v(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function m(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function y(t,e){for(var n in e)t[n]=e[n];return t}function g(t){for(var e={},n=0;n<t.length;n++)t[n]&&y(e,t[n]);return e}function _(t,e,n){}function b(t,e){if(t===e)return!0;var n=a(t),r=a(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,n){return b(t,e[n])});if(i||o)return!1;var s=Object.keys(t),u=Object.keys(e);return s.length===u.length&&s.every(function(n){return b(t[n],e[n])})}catch(t){return!1}}function x(t,e){for(var n=0;n<t.length;n++)if(b(t[n],e))return n;return-1}function w(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function S(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function T(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function P(t){return"function"==typeof t&&/native code/.test(t.toString())}function k(t){return new gr(void 0,void 0,void 0,String(t))}function C(t,e){var n=t.componentOptions,r=new gr(t.tag,t.data,t.children,t.text,t.elm,t.context,n,t.asyncFactory);return r.ns=t.ns,r.isStatic=t.isStatic,r.key=t.key,r.isComment=t.isComment,r.fnContext=t.fnContext,r.fnOptions=t.fnOptions,r.fnScopeId=t.fnScopeId,r.isCloned=!0,e&&(t.children&&(r.children=A(t.children,!0)),n&&n.children&&(n.children=A(n.children,!0))),r}function A(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=C(t[i],e);return r}function O(t,e,n){t.__proto__=e}function E(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];T(t,o,e[o])}}function j(t,e){if(a(t)&&!(t instanceof gr)){var n;return f(t,"__ob__")&&t.__ob__ instanceof Pr?n=t.__ob__:Tr.shouldConvert&&!pr()&&(Array.isArray(t)||s(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Pr(t)),e&&n&&n.vmCount++,n}}function F(t,e,n,r,i){var o=new mr,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set,c=!i&&j(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return mr.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&R(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||(u?u.call(t,e):n=e,c=!i&&j(e),o.notify())}})}}function M(t,e,n){if(Array.isArray(t)&&u(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(F(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function I(t,e){if(Array.isArray(t)&&u(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||f(t,e)&&(delete t[e],n&&n.dep.notify())}}function R(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&R(e)}function D(t,e){if(!e)return t;for(var n,r,i,o=Object.keys(e),a=0;a<o.length;a++)r=t[n=o[a]],i=e[n],f(t,n)?s(r)&&s(i)&&D(r,i):M(t,n,i);return t}function L(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?D(r,i):i}:e?t?function(){return D("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function U(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function z(t,e,n,r){var i=Object.create(t||null);return e?y(i,e):i}function N(t,e,n){function r(r){var i=kr[r]||Or;c[r]=i(t[r],e[r],n,r)}"function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[zn(i)]={type:null});else if(s(n))for(var a in n)i=n[a],o[zn(a)]=s(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(s(n))for(var o in n){var a=n[o];r[o]=s(a)?y({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e);var i=e.extends;if(i&&(t=N(t,i,n)),e.mixins)for(var o=0,a=e.mixins.length;o<a;o++)t=N(t,e.mixins[o],n);var u,c={};for(u in t)r(u);for(u in e)f(t,u)||r(u);return c}function G(t,e,n,r){if("string"==typeof n){var i=t[e];if(f(i,n))return i[n];var o=zn(n);if(f(i,o))return i[o];var a=Nn(o);return f(i,a)?i[a]:i[n]||i[o]||i[a]}}function B(t,e,n,r){var i=e[t],o=!f(n,t),a=n[t];if(V(Boolean,i.type)&&(o&&!f(i,"default")?a=!1:V(String,i.type)||""!==a&&a!==Bn(t)||(a=!0)),void 0===a){a=function(t,e,n){if(f(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==q(e.type)?r.call(t):r}}(r,i,t);var s=Tr.shouldConvert;Tr.shouldConvert=!0,j(a),Tr.shouldConvert=s}return a}function q(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function V(t,e){if(!Array.isArray(e))return q(e)===q(t);for(var n=0,r=e.length;n<r;n++)if(q(e[n])===q(t))return!0;return!1}function $(t,e,n){if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){H(t,r,"errorCaptured hook")}}H(t,e,n)}function H(t,e,n){if(Xn.errorHandler)try{return Xn.errorHandler.call(null,t,e,n)}catch(t){W(t,null,"config.errorHandler")}W(t,e,n)}function W(t,e,n){if(!Jn&&!Zn||"undefined"==typeof console)throw t;console.error(t)}function X(){jr=!1;var t=Er.slice(0);Er.length=0;for(var e=0;e<t.length;e++)t[e]()}function Y(t,e){var n;if(Er.push(function(){if(t)try{t.call(e)}catch(t){$(t,e,"nextTick")}else n&&n(e)}),jr||(jr=!0,Fr?Ar():Cr()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}function K(t){J(t,Lr),Lr.clear()}function J(t,e){var n,r,i=Array.isArray(t);if((i||a(t))&&!Object.isFrozen(t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)J(t[n],e);else for(n=(r=Object.keys(t)).length;n--;)J(t[r[n]],e)}}function Z(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=n.slice(),i=0;i<r.length;i++)r[i].apply(null,t)}return e.fns=t,e}function Q(e,n,r,i,o){var a,s,u,c;for(a in e)s=e[a],u=n[a],c=Ur(a),t(s)||(t(u)?(t(s.fns)&&(s=e[a]=Z(s)),r(c.name,s,c.once,c.capture,c.passive,c.params)):s!==u&&(u.fns=s,e[a]=u));for(a in n)t(e[a])&&i((c=Ur(a)).name,n[a],c.capture)}function tt(e,n,o){function a(){o.apply(this,arguments),h(s.fns,a)}e instanceof gr&&(e=e.data.hook||(e.data.hook={}));var s,u=e[n];t(u)?s=Z([a]):r(u.fns)&&i(u.merged)?(s=u).fns.push(a):s=Z([u,a]),s.merged=!0,e[n]=s}function et(t,e,n,i,o){if(r(e)){if(f(e,n))return t[n]=e[n],o||delete e[n],!0;if(f(e,i))return t[n]=e[i],o||delete e[i],!0}return!1}function nt(t){return r(t)&&r(t.text)&&function(t){return!1===t}(t.isComment)}function rt(e,n){var a,s,u,c,l=[];for(a=0;a<e.length;a++)t(s=e[a])||"boolean"==typeof s||(c=l[u=l.length-1],Array.isArray(s)?s.length>0&&(nt((s=rt(s,(n||"")+"_"+a))[0])&&nt(c)&&(l[u]=k(c.text+s[0].text),s.shift()),l.push.apply(l,s)):o(s)?nt(c)?l[u]=k(c.text+s):""!==s&&l.push(k(s)):nt(s)&&nt(c)?l[u]=k(c.text+s.text):(i(e._isVList)&&r(s.tag)&&t(s.key)&&r(n)&&(s.key="__vlist"+n+"_"+a+"__"),l.push(s)));return l}function it(t,e){return(t.__esModule||fr&&"Module"===t[Symbol.toStringTag])&&(t=t.default),a(t)?e.extend(t):t}function ot(t){return t.isComment&&t.asyncFactory}function at(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||ot(n)))return n}}function st(t,e,n){n?Dr.$once(t,e):Dr.$on(t,e)}function ut(t,e){Dr.$off(t,e)}function ct(t,e,n){Dr=t,Q(e,n||{},st,ut),Dr=void 0}function lt(t,e){var n={};if(!t)return n;for(var r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(pt)&&delete n[c];return n}function pt(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ht(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?ht(t[n],e):e[t[n].key]=t[n].fn;return e}function ft(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function dt(t,e){if(e){if(t._directInactive=!1,ft(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)dt(t.$children[n]);mt(t,"activated")}}function vt(t,e){if(!(e&&(t._directInactive=!0,ft(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)vt(t.$children[n]);mt(t,"deactivated")}}function mt(t,e){var n=t.$options[e];if(n)for(var r=0,i=n.length;r<i;r++)try{n[r].call(t)}catch(n){$(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function yt(){Vr=!0;var t,e;for(Nr.sort(function(t,e){return t.id-e.id}),$r=0;$r<Nr.length;$r++)e=(t=Nr[$r]).id,Br[e]=null,t.run();var n=Gr.slice(),r=Nr.slice();$r=Nr.length=Gr.length=0,Br={},qr=Vr=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,dt(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&mt(r,"updated")}}(r),hr&&Xn.devtools&&hr.emit("flush")}function gt(t,e,n){Xr.get=function(){return this[e][n]},Xr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Xr)}function _t(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;Tr.shouldConvert=o;for(var a in e)!function(o){i.push(o);var a=B(o,e,n,t);F(r,o,a),o in t||gt(t,"_props",o)}(a);Tr.shouldConvert=!0}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?_:v(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;e=t._data="function"==typeof e?function(t,e){try{return t.call(e,e)}catch(t){return $(t,e,"data()"),{}}}(e,t):e||{},s(e)||(e={});for(var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);i--;){var o=n[i];r&&f(r,o)||S(o)||gt(t,"_data",o)}j(e,!0)}(t):j(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=pr();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;r||(n[i]=new Wr(t,a||_,_,Yr)),i in t||bt(t,i,o)}}(t,e.computed),e.watch&&e.watch!==ar&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)wt(t,n,r[i]);else wt(t,n,r)}}(t,e.watch)}function bt(t,e,n){var r=!pr();"function"==typeof n?(Xr.get=r?xt(e):n,Xr.set=_):(Xr.get=n.get?r&&!1!==n.cache?xt(e):n.get:_,Xr.set=n.set?n.set:_),Object.defineProperty(t,e,Xr)}function xt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mr.target&&e.depend(),e.value}}function wt(t,e,n,r){return s(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function St(t,e){if(t){for(var n=Object.create(null),r=fr?Reflect.ownKeys(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}):Object.keys(t),i=0;i<r.length;i++){for(var o=r[i],a=t[o].from,s=e;s;){if(s._provided&&a in s._provided){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}}return n}}function Tt(t,e){var n,i,o,s,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(a(t))for(s=Object.keys(t),n=new Array(s.length),i=0,o=s.length;i<o;i++)u=s[i],n[i]=e(t[u],u,i);return r(n)&&(n._isVList=!0),n}function Pt(t,e,n,r){var i,o=this.$scopedSlots[t];if(o)n=n||{},r&&(n=y(y({},r),n)),i=o(n)||e;else{var a=this.$slots[t];a&&(a._rendered=!0),i=a||e}var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function kt(t){return G(this.$options,"filters",t)||Vn}function Ct(t,e,n,r){var i=Xn.keyCodes[e]||n;return i?Array.isArray(i)?-1===i.indexOf(t):i!==t:r?Bn(r)!==e:void 0}function At(t,e,n,r,i){if(n&&a(n)){Array.isArray(n)&&(n=g(n));var o;for(var s in n)!function(a){if("class"===a||"style"===a||Dn(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||Xn.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}a in o||(o[a]=n[a],!i)||((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t})}(s)}return t}function Ot(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?Array.isArray(r)?A(r):C(r):(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),jt(r,"__static__"+t,!1),r)}function Et(t,e,n){return jt(t,"__once__"+e+(n?"_"+n:""),!0),t}function jt(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ft(t[r],e+"_"+r,n);else Ft(t,e,n)}function Ft(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Mt(t,e){if(e&&s(e)){var n=t.on=t.on?y({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}return t}function It(t){t._o=Et,t._n=l,t._s=c,t._l=Tt,t._t=Pt,t._q=b,t._i=x,t._m=Ot,t._f=kt,t._k=Ct,t._b=At,t._v=k,t._e=br,t._u=ht,t._g=Mt}function Rt(t,e,n,r,o){var a=o.options;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||Mn,this.injections=St(a.inject,r),this.slots=function(){return lt(n,r)};var s=Object.create(r),u=i(a._compiled),c=!u;u&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||Mn),a._scopeId?this._c=function(t,e,n,i){var o=Ut(s,t,e,n,i,c);return o&&(o.fnScopeId=a._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,r){return Ut(s,t,e,n,r,c)}}function Dt(t,e){for(var n in e)t[zn(n)]=e[n]}function Lt(e,n,o,s,u){if(!t(e)){var c=o.$options._base;if(a(e)&&(e=c.extend(e)),"function"==typeof e){var l;if(t(e.cid)&&(l=e,void 0===(e=function(e,n,o){if(i(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;if(i(e.loading)&&r(e.loadingComp))return e.loadingComp;if(!r(e.contexts)){var s=e.contexts=[o],u=!0,c=function(){for(var t=0,e=s.length;t<e;t++)s[t].$forceUpdate()},l=w(function(t){e.resolved=it(t,n),u||c()}),p=w(function(t){r(e.errorComp)&&(e.error=!0,c())}),h=e(l,p);return a(h)&&("function"==typeof h.then?t(e.resolved)&&h.then(l,p):r(h.component)&&"function"==typeof h.component.then&&(h.component.then(l,p),r(h.error)&&(e.errorComp=it(h.error,n)),r(h.loading)&&(e.loadingComp=it(h.loading,n),0===h.delay?e.loading=!0:setTimeout(function(){t(e.resolved)&&t(e.error)&&(e.loading=!0,c())},h.delay||200)),r(h.timeout)&&setTimeout(function(){t(e.resolved)&&p(null)},h.timeout))),u=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(o)}(l,c,o))))return function(t,e,n,r,i){var o=br();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(l,n,o,s,u);n=n||{},Nt(e),r(n.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var o=e.on||(e.on={});r(o[i])?o[i]=[e.model.callback].concat(o[i]):o[i]=e.model.callback}(e.options,n);var p=function(e,n,i){var o=n.options.props;if(!t(o)){var a={},s=e.attrs,u=e.props;if(r(s)||r(u))for(var c in o){var l=Bn(c);et(a,u,c,l,!0)||et(a,s,c,l,!1)}return a}}(n,e);if(i(e.options.functional))return function(t,e,n,i,o){var a=t.options,s={},u=a.props;if(r(u))for(var c in u)s[c]=B(c,u,e||Mn);else r(n.attrs)&&Dt(s,n.attrs),r(n.props)&&Dt(s,n.props);var l=new Rt(n,s,o,i,t),p=a.render.call(null,l._c,l);return p instanceof gr&&(p.fnContext=i,p.fnOptions=a,n.slot&&((p.data||(p.data={})).slot=n.slot)),p}(e,p,n,o,s);var h=n.on;if(n.on=n.nativeOn,i(e.options.abstract)){var f=n.slot;n={},f&&(n.slot=f)}!function(t){t.hook||(t.hook={});for(var e=0;e<Jr.length;e++){var n=Jr[e],r=t.hook[n],i=Kr[n];t.hook[n]=r?function(t,e){return function(n,r,i,o){t(n,r,i,o),e(n,r,i,o)}}(i,r):i}}(n);var d=e.options.name||u;return new gr("vue-component-"+e.cid+(d?"-"+d:""),n,void 0,void 0,void 0,o,{Ctor:e,propsData:p,listeners:h,tag:u,children:s},l)}}}function Ut(t,e,n,a,s,u){return(Array.isArray(n)||o(n))&&(s=a,a=n,n=void 0),i(u)&&(s=Qr),function(t,e,n,i,a){if(r(n)&&r(n.__ob__))return br();if(r(n)&&r(n.is)&&(e=n.is),!e)return br();Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0),a===Qr?i=function(t){return o(t)?[k(t)]:Array.isArray(t)?rt(t):void 0}(i):a===Zr&&(i=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(i));var s,u;if("string"==typeof e){var c;u=t.$vnode&&t.$vnode.ns||Xn.getTagNamespace(e),s=Xn.isReservedTag(e)?new gr(Xn.parsePlatformTagName(e),n,i,void 0,void 0,t):r(c=G(t.$options,"components",e))?Lt(c,n,t,i,e):new gr(e,n,i,void 0,void 0,t)}else s=Lt(e,n,t,i);return r(s)?(u&&zt(s,u),s):br()}(t,e,n,a,s)}function zt(e,n,o){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,o=!0),r(e.children))for(var a=0,s=e.children.length;a<s;a++){var u=e.children[a];r(u.tag)&&(t(u.ns)||i(o))&&zt(u,n,o)}}function Nt(t){var e=t.options;if(t.super){var n=Nt(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.extendOptions,i=t.sealedOptions;for(var o in n)n[o]!==i[o]&&(e||(e={}),e[o]=function(t,e,n){if(Array.isArray(t)){var r=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||n.indexOf(t[i])<0)&&r.push(t[i]);return r}return t}(n[o],r[o],i[o]));return e}(t);r&&y(t.extendOptions,r),(e=t.options=N(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Gt(t){this._init(t)}function Bt(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name,a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=N(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)gt(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)bt(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,Hn.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=y({},a.options),i[r]=a,a}}function qt(t){return t&&(t.Ctor.options.name||t.tag)}function Vt(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!function(t){return"[object RegExp]"===In.call(t)}(t)&&t.test(e)}function $t(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=qt(a.componentOptions);s&&!e(s)&&Ht(n,o,r,i)}}}function Ht(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,h(n,e)}function Wt(t){for(var e=t.data,n=t,i=t;r(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(e=Xt(i.data,e));for(;r(n=n.parent);)n&&n.data&&(e=Xt(e,n.data));return function(t,e){return r(t)||r(e)?Yt(t,Kt(e)):""}(e.staticClass,e.class)}function Xt(t,e){return{staticClass:Yt(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Yt(t,e){return t?e?t+" "+e:t:e||""}function Kt(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,o=t.length;i<o;i++)r(e=Kt(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):a(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}function Jt(t){return wi(t)?"svg":"math"===t?"math":void 0}function Zt(t){if("string"==typeof t){return document.querySelector(t)||document.createElement("div")}return t}function Qt(t,e){var n=t.data.ref;if(n){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?h(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}function te(e,n){return e.key===n.key&&(e.tag===n.tag&&e.isComment===n.isComment&&r(e.data)===r(n.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,o=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===o||Pi(i)&&Pi(o)}(e,n)||i(e.isAsyncPlaceholder)&&e.asyncFactory===n.asyncFactory&&t(n.asyncFactory.error))}function ee(t,e,n){var i,o,a={};for(i=e;i<=n;++i)r(o=t[i].key)&&(a[o]=i);return a}function ne(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===Ai,a=e===Ai,s=re(t.data.directives,t.context),u=re(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,ie(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(ie(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var p=function(){for(var n=0;n<c.length;n++)ie(c[n],"inserted",e,t)};o?tt(e,"insert",p):p()}if(l.length&&tt(e,"postpatch",function(){for(var n=0;n<l.length;n++)ie(l[n],"componentUpdated",e,t)}),!o)for(n in s)u[n]||ie(s[n],"unbind",t,t,a)}(t,e)}function re(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++)(i=t[r]).modifiers||(i.modifiers=ji),n[function(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}(i)]=i,i.def=G(e.$options,"directives",i.name);return n}function ie(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){$(r,n.context,"directive "+t.name+" "+e+" hook")}}function oe(e,n){var i=n.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||t(e.data.attrs)&&t(n.data.attrs))){var o,a,s=n.elm,u=e.data.attrs||{},c=n.data.attrs||{};r(c.__ob__)&&(c=n.data.attrs=y({},c));for(o in c)a=c[o],u[o]!==a&&ae(s,o,a);(er||rr)&&c.value!==u.value&&ae(s,"value",c.value);for(o in u)t(c[o])&&(yi(o)?s.removeAttributeNS(mi,gi(o)):di(o)||s.removeAttribute(o))}}function ae(t,e,n){if(vi(e))_i(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n));else if(di(e))t.setAttribute(e,_i(n)||"false"===n?"false":"true");else if(yi(e))_i(n)?t.removeAttributeNS(mi,gi(e)):t.setAttributeNS(mi,e,n);else if(_i(n))t.removeAttribute(e);else{if(er&&!nr&&"TEXTAREA"===t.tagName&&"placeholder"===e&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}function se(e,n){var i=n.elm,o=n.data,a=e.data;if(!(t(o.staticClass)&&t(o.class)&&(t(a)||t(a.staticClass)&&t(a.class)))){var s=Wt(n),u=i._transitionClasses;r(u)&&(s=Yt(s,Kt(u))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function ue(t){function e(){(a||(a=[])).push(t.slice(d,i).trim()),d=i+1}var n,r,i,o,a,s=!1,u=!1,c=!1,l=!1,p=0,h=0,f=0,d=0;for(i=0;i<t.length;i++)if(r=n,n=t.charCodeAt(i),s)39===n&&92!==r&&(s=!1);else if(u)34===n&&92!==r&&(u=!1);else if(c)96===n&&92!==r&&(c=!1);else if(l)47===n&&92!==r&&(l=!1);else if(124!==n||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||p||h||f){switch(n){case 34:u=!0;break;case 39:s=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:p++;break;case 125:p--}if(47===n){for(var v=i-1,m=void 0;v>=0&&" "===(m=t.charAt(v));v--);m&&Ri.test(m)||(l=!0)}}else void 0===o?(d=i+1,o=t.slice(0,i).trim()):e();if(void 0===o?o=t.slice(0,i).trim():0!==d&&e(),a)for(i=0;i<a.length;i++)o=function(t,e){var n=e.indexOf("(");return n<0?'_f("'+e+'")('+t+")":'_f("'+e.slice(0,n)+'")('+t+","+e.slice(n+1)}(o,a[i]);return o}function ce(t){console.error("[Vue compiler]: "+t)}function le(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function pe(t,e,n){(t.props||(t.props=[])).push({name:e,value:n}),t.plain=!1}function he(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n}),t.plain=!1}function fe(t,e,n){t.attrsMap[e]=n,t.attrsList.push({name:e,value:n})}function de(t,e,n,r,i,o){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:r,arg:i,modifiers:o}),t.plain=!1}function ve(t,e,n,r,i,o){(r=r||Mn).capture&&(delete r.capture,e="!"+e),r.once&&(delete r.once,e="~"+e),r.passive&&(delete r.passive,e="&"+e),"click"===e&&(r.right?(e="contextmenu",delete r.right):r.middle&&(e="mouseup"));var a;r.native?(delete r.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:n};r!==Mn&&(s.modifiers=r);var u=a[e];Array.isArray(u)?i?u.unshift(s):u.push(s):a[e]=u?i?[s,u]:[u,s]:s,t.plain=!1}function me(t,e,n){var r=ye(t,":"+e)||ye(t,"v-bind:"+e);if(null!=r)return ue(r);if(!1!==n){var i=ye(t,e);if(null!=i)return JSON.stringify(i)}}function ye(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function ge(t,e,n){var r=n||{},i="$$v";r.trim&&(i="(typeof $$v === 'string'? $$v.trim(): $$v)"),r.number&&(i="_n("+i+")");var o=_e(e,i);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ($$v) {"+o+"}"}}function _e(t,e){var n=function(t){if(ri=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ri-1)return(ai=t.lastIndexOf("."))>-1?{exp:t.slice(0,ai),key:'"'+t.slice(ai+1)+'"'}:{exp:t,key:null};for(ii=t,ai=si=ui=0;!xe();)we(oi=be())?Se(oi):91===oi&&function(t){var e=1;for(si=ai;!xe();)if(t=be(),we(t))Se(t);else if(91===t&&e++,93===t&&e--,0===e){ui=ai;break}}(oi);return{exp:t.slice(0,si),key:t.slice(si+1,ui)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function be(){return ii.charCodeAt(++ai)}function xe(){return ai>=ri}function we(t){return 34===t||39===t}function Se(t){for(var e=t;!xe()&&(t=be())!==e;);}function Te(t,e,n,r,i){e=function(t){return t._withTask||(t._withTask=function(){Fr=!0;var e=t.apply(null,arguments);return Fr=!1,e})}(e),n&&(e=function(t,e,n){var r=ci;return function i(){null!==t.apply(null,arguments)&&Pe(e,i,n,r)}}(e,t,r)),ci.addEventListener(t,e,sr?{capture:r,passive:i}:r)}function Pe(t,e,n,r){(r||ci).removeEventListener(t,e._withTask||e,n)}function ke(e,n){if(!t(e.data.on)||!t(n.data.on)){var i=n.data.on||{},o=e.data.on||{};ci=n.elm,function(t){if(r(t[Di])){var e=er?"change":"input";t[e]=[].concat(t[Di],t[e]||[]),delete t[Di]}r(t[Li])&&(t.change=[].concat(t[Li],t.change||[]),delete t[Li])}(i),Q(i,o,Te,Pe,n.context),ci=void 0}}function Ce(e,n){if(!t(e.data.domProps)||!t(n.data.domProps)){var i,o,a=n.elm,s=e.data.domProps||{},u=n.data.domProps||{};r(u.__ob__)&&(u=n.data.domProps=y({},u));for(i in s)t(u[i])&&(a[i]="");for(i in u){if(o=u[i],"textContent"===i||"innerHTML"===i){if(n.children&&(n.children.length=0),o===s[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===i){a._value=o;var c=t(o)?"":String(o);(function(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.lazy)return!1;if(i.number)return l(n)!==l(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}(t,e))})(a,c)&&(a.value=c)}else a[i]=o}}}function Ae(t){var e=Oe(t.style);return t.staticStyle?y(t.staticStyle,e):e}function Oe(t){return Array.isArray(t)?g(t):"string"==typeof t?Ni(t):t}function Ee(e,n){var i=n.data,o=e.data;if(!(t(i.staticStyle)&&t(i.style)&&t(o.staticStyle)&&t(o.style))){var a,s,u=n.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},p=c||l,h=Oe(n.data.style)||{};n.data.normalizedStyle=r(h.__ob__)?y({},h):h;var f=function(t,e){for(var n,r={},i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Ae(i.data))&&y(r,n);(n=Ae(t.data))&&y(r,n);for(var o=t;o=o.parent;)o.data&&(n=Ae(o.data))&&y(r,n);return r}(n);for(s in p)t(f[s])&&qi(u,s,"");for(s in f)(a=f[s])!==p[s]&&qi(u,s,null==a?"":a)}}function je(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Fe(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Me(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&y(e,Wi(t.name||"v")),y(e,t),e}return"string"==typeof t?Wi(t):void 0}}function Ie(t){eo(function(){eo(t)})}function Re(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),je(t,e))}function De(t,e){t._transitionClasses&&h(t._transitionClasses,e),Fe(t,e)}function Le(t,e,n){var r=Ue(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Yi?Zi:to,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}function Ue(t,e){var n,r=window.getComputedStyle(t),i=r[Ji+"Delay"].split(", "),o=r[Ji+"Duration"].split(", "),a=ze(i,o),s=r[Qi+"Delay"].split(", "),u=r[Qi+"Duration"].split(", "),c=ze(s,u),l=0,p=0;return e===Yi?a>0&&(n=Yi,l=a,p=o.length):e===Ki?c>0&&(n=Ki,l=c,p=u.length):p=(n=(l=Math.max(a,c))>0?a>c?Yi:Ki:null)?n===Yi?o.length:u.length:0,{type:n,timeout:l,propCount:p,hasTransform:n===Yi&&no.test(r[Ji+"Property"])}}function ze(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Ne(e)+Ne(t[n])}))}function Ne(t){return 1e3*Number(t.slice(0,-1))}function Ge(e,n){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=Me(e.data.transition);if(!t(o)&&!r(i._enterCb)&&1===i.nodeType){for(var s=o.css,u=o.type,c=o.enterClass,p=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,v=o.appearActiveClass,m=o.beforeEnter,y=o.enter,g=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,x=o.appear,S=o.afterAppear,T=o.appearCancelled,P=o.duration,k=zr,C=zr.$vnode;C&&C.parent;)k=(C=C.parent).context;var A=!k._isMounted||!e.isRootInsert;if(!A||x||""===x){var O=A&&f?f:c,E=A&&v?v:h,j=A&&d?d:p,F=A?b||m:m,M=A&&"function"==typeof x?x:y,I=A?S||g:g,R=A?T||_:_,D=l(a(P)?P.enter:P),L=!1!==s&&!nr,U=Ve(M),z=i._enterCb=w(function(){L&&(De(i,j),De(i,E)),z.cancelled?(L&&De(i,O),R&&R(i)):I&&I(i),i._enterCb=null});e.data.show||tt(e,"insert",function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),M&&M(i,z)}),F&&F(i),L&&(Re(i,O),Re(i,E),Ie(function(){Re(i,j),De(i,O),z.cancelled||U||(qe(D)?setTimeout(z,D):Le(i,u,z))})),e.data.show&&(n&&n(),M&&M(i,z)),L||U||z()}}}function Be(e,n){function i(){T.cancelled||(e.data.show||((o.parentNode._pending||(o.parentNode._pending={}))[e.key]=e),d&&d(o),b&&(Re(o,p),Re(o,f),Ie(function(){Re(o,h),De(o,p),T.cancelled||x||(qe(S)?setTimeout(T,S):Le(o,c,T))})),v&&v(o,T),b||x||T())}var o=e.elm;r(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var s=Me(e.data.transition);if(t(s)||1!==o.nodeType)return n();if(!r(o._leaveCb)){var u=s.css,c=s.type,p=s.leaveClass,h=s.leaveToClass,f=s.leaveActiveClass,d=s.beforeLeave,v=s.leave,m=s.afterLeave,y=s.leaveCancelled,g=s.delayLeave,_=s.duration,b=!1!==u&&!nr,x=Ve(v),S=l(a(_)?_.leave:_),T=o._leaveCb=w(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[e.key]=null),b&&(De(o,h),De(o,f)),T.cancelled?(b&&De(o,p),y&&y(o)):(n(),m&&m(o)),o._leaveCb=null});g?g(i):i()}}function qe(t){return"number"==typeof t&&!isNaN(t)}function Ve(e){if(t(e))return!1;var n=e.fns;return r(n)?Ve(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function $e(t,e){!0!==e.data.show&&Ge(e)}function He(t,e,n){We(t,e,n),(er||rr)&&setTimeout(function(){We(t,e,n)},0)}function We(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=x(r,Ye(a))>-1,a.selected!==o&&(a.selected=o);else if(b(Ye(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Xe(t,e){return e.every(function(e){return!b(e,t)})}function Ye(t){return"_value"in t?t._value:t.value}function Ke(t){t.target.composing=!0}function Je(t){t.target.composing&&(t.target.composing=!1,Ze(t.target,"input"))}function Ze(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Qe(t){return!t.componentInstance||t.data&&t.data.transition?t:Qe(t.componentInstance._vnode)}function tn(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?tn(at(e.children)):t}function en(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[zn(o)]=i[o];return e}function nn(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function rn(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function on(t){t.data.newPos=t.elm.getBoundingClientRect()}function an(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}function sn(t,e){var n=e?Ho:$o;return t.replace(n,function(t){return Vo[t]})}function un(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}(e),parent:n,children:[]}}function cn(t,e){function n(t){t.pre&&(s=!1),Do(t.tag)&&(u=!1);for(var n=0;n<Ro.length;n++)Ro[n](t,e)}jo=e.warn||ce,Do=e.isPreTag||qn,Lo=e.mustUseProp||qn,Uo=e.getTagNamespace||qn,Mo=le(e.modules,"transformNode"),Io=le(e.modules,"preTransformNode"),Ro=le(e.modules,"postTransformNode"),Fo=e.delimiters;var r,i,o=[],a=!1!==e.preserveWhitespace,s=!1,u=!1;return function(t,e){function n(e){l+=e,t=t.substring(e)}function r(t,n,r){var i,s;if(null==n&&(n=l),null==r&&(r=l),t&&(s=t.toLowerCase()),t)for(i=a.length-1;i>=0&&a[i].lowerCasedTag!==s;i--);else i=0;if(i>=0){for(var u=a.length-1;u>=i;u--)e.end&&e.end(a[u].tag,n,r);a.length=i,o=i&&a[i-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,r):"p"===s&&(e.start&&e.start(t,[],!1,n,r),e.end&&e.end(t,n,r))}for(var i,o,a=[],s=e.expectHTML,u=e.isUnaryTag||qn,c=e.canBeLeftOpenTag||qn,l=0;t;){if(i=t,o&&Bo(o)){var p=0,h=o.toLowerCase(),f=qo[h]||(qo[h]=new RegExp("([\\s\\S]*?)(</"+h+"[^>]*>)","i")),d=t.replace(f,function(t,n,r){return p=r.length,Bo(h)||"noscript"===h||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Xo(h,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});l+=t.length-d.length,t=d,r(h,l-p,l)}else{var v=t.indexOf("<");if(0===v){if(Ao.test(t)){var m=t.indexOf("--\x3e");if(m>=0){e.shouldKeepComment&&e.comment(t.substring(4,m)),n(m+3);continue}}if(Oo.test(t)){var y=t.indexOf("]>");if(y>=0){n(y+2);continue}}var g=t.match(Co);if(g){n(g[0].length);continue}var _=t.match(ko);if(_){var b=l;n(_[0].length),r(_[1],b,l);continue}var x=function(){var e=t.match(To);if(e){var r={tagName:e[1],attrs:[],start:l};n(e[0].length);for(var i,o;!(i=t.match(Po))&&(o=t.match(xo));)n(o[0].length),r.attrs.push(o);if(i)return r.unarySlash=i[1],n(i[0].length),r.end=l,r}}();if(x){!function(t){var n=t.tagName,i=t.unarySlash;s&&("p"===o&&bo(n)&&r(o),c(n)&&o===n&&r(n));for(var l=u(n)||!!i,p=t.attrs.length,h=new Array(p),f=0;f<p;f++){var d=t.attrs[f];Eo&&-1===d[0].indexOf('""')&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var v=d[3]||d[4]||d[5]||"",m="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:d[1],value:sn(v,m)}}l||(a.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h}),o=n),e.start&&e.start(n,h,l,t.start,t.end)}(x),Xo(o,t)&&n(1);continue}}var w=void 0,S=void 0,T=void 0;if(v>=0){for(S=t.slice(v);!(ko.test(S)||To.test(S)||Ao.test(S)||Oo.test(S)||(T=S.indexOf("<",1))<0);)v+=T,S=t.slice(v);w=t.substring(0,v),n(v)}v<0&&(w=t,t=""),e.chars&&w&&e.chars(w)}if(t===i){e.chars&&e.chars(t);break}}r()}(t,{warn:jo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,start:function(t,a,c){var l=i&&i.ns||Uo(t);er&&"svg"===l&&(a=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];ia.test(r.name)||(r.name=r.name.replace(oa,""),e.push(r))}return e}(a));var p=un(t,a,i);l&&(p.ns=l),function(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}(p)&&!pr()&&(p.forbidden=!0);for(var h=0;h<Io.length;h++)p=Io[h](p,e)||p;if(s||(function(t){null!=ye(t,"v-pre")&&(t.pre=!0)}(p),p.pre&&(s=!0)),Do(p.tag)&&(u=!0),s?function(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),r=0;r<e;r++)n[r]={name:t.attrsList[r].name,value:JSON.stringify(t.attrsList[r].value)};else t.pre||(t.plain=!0)}(p):p.processed||(pn(p),function(t){var e=ye(t,"v-if");if(e)t.if=e,hn(t,{exp:e,block:t});else{null!=ye(t,"v-else")&&(t.else=!0);var n=ye(t,"v-else-if");n&&(t.elseif=n)}}(p),function(t){null!=ye(t,"v-once")&&(t.once=!0)}(p),ln(p,e)),r?o.length||r.if&&(p.elseif||p.else)&&hn(r,{exp:p.elseif,block:p}):r=p,i&&!p.forbidden)if(p.elseif||p.else)!function(t,e){var n=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(e.children);n&&n.if&&hn(n,{exp:t.elseif,block:t})}(p,i);else if(p.slotScope){i.plain=!1;var f=p.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[f]=p}else i.children.push(p),p.parent=i;c?n(p):(i=p,o.push(p))},end:function(){var t=o[o.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!u&&t.children.pop(),o.length-=1,i=o[o.length-1],n(t)},chars:function(t){if(i&&(!er||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var e=i.children;if(t=u||t.trim()?function(t){return"script"===t.tag||"style"===t.tag}(i)?t:ra(t):a&&e.length?" ":""){var n;!s&&" "!==t&&(n=function(t,e){var n=e?fo(e):po;if(n.test(t)){for(var r,i,o,a=[],s=[],u=n.lastIndex=0;r=n.exec(t);){(i=r.index)>u&&(s.push(o=t.slice(u,i)),a.push(JSON.stringify(o)));var c=ue(r[1].trim());a.push("_s("+c+")"),s.push({"@binding":c}),u=i+r[0].length}return u<t.length&&(s.push(o=t.slice(u)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}(t,Fo))?e.push({type:2,expression:n.expression,tokens:n.tokens,text:t}):" "===t&&e.length&&" "===e[e.length-1].text||e.push({type:3,text:t})}}},comment:function(t){i.children.push({type:3,text:t,isComment:!0})}}),r}function ln(t,e){!function(t){var e=me(t,"key");e&&(t.key=e)}(t),t.plain=!t.key&&!t.attrsList.length,function(t){var e=me(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){if("slot"===t.tag)t.slotName=me(t,"name");else{var e;"template"===t.tag?(e=ye(t,"scope"),t.slotScope=e||ye(t,"slot-scope")):(e=ye(t,"slot-scope"))&&(t.slotScope=e);var n=me(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,"template"===t.tag||t.slotScope||he(t,"slot",n))}}(t),function(t){var e;(e=me(t,"is"))&&(t.component=e),null!=ye(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var n=0;n<Mo.length;n++)t=Mo[n](t,e)||t;!function(t){var e,n,r,i,o,a,s,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(r=i=u[e].name,o=u[e].value,Ko.test(r))if(t.hasBindings=!0,(a=function(t){var e=t.match(na);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}(r))&&(r=r.replace(na,"")),ea.test(r))r=r.replace(ea,""),o=ue(o),s=!1,a&&(a.prop&&(s=!0,"innerHtml"===(r=zn(r))&&(r="innerHTML")),a.camel&&(r=zn(r)),a.sync&&ve(t,"update:"+zn(r),_e(o,"$event"))),s||!t.component&&Lo(t.tag,t.attrsMap.type,r)?pe(t,r,o):he(t,r,o);else if(Yo.test(r))r=r.replace(Yo,""),ve(t,r,o,a,!1);else{var c=(r=r.replace(Ko,"")).match(ta),l=c&&c[1];l&&(r=r.slice(0,-(l.length+1))),de(t,r,i,o,l,a)}else he(t,r,JSON.stringify(o)),!t.component&&"muted"===r&&Lo(t.tag,t.attrsMap.type,r)&&pe(t,r,"true")}(t)}function pn(t){var e;if(e=ye(t,"v-for")){var n=function(t){var e=t.match(Jo);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(Qo,""),i=r.match(Zo);return i?(n.alias=r.replace(Zo,""),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}(e);n&&y(t,n)}}function hn(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function fn(t){return un(t.tag,t.attrsList.slice(),t.parent)}function dn(t){if(t.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||Rn(t.tag)||!No(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(zo))))}(t),1===t.type){if(!No(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];dn(r),r.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;dn(a),a.static||(t.static=!1)}}}function vn(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)vn(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)vn(t.ifConditions[i].block,e)}}function mn(t,e,n){var r=e?"nativeOn:{":"on:{";for(var i in t)r+='"'+i+'":'+yn(i,t[i])+",";return r.slice(0,-1)+"}"}function yn(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return yn(t,e)}).join(",")+"]";var n=la.test(e.value),r=ca.test(e.value);if(e.modifiers){var i="",o="",a=[];for(var s in e.modifiers)if(fa[s])o+=fa[s],pa[s]&&a.push(s);else if("exact"===s){var u=e.modifiers;o+=ha(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);return a.length&&(i+=function(t){return"if(!('button' in $event)&&"+t.map(gn).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(n?e.value+"($event)":r?"("+e.value+")($event)":e.value)+"}"}return n||r?e.value:"function($event){"+e.value+"}"}function gn(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=pa[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key)"}function _n(t,e){var n=new va(e);return{render:"with(this){return "+(t?bn(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function bn(t,e){if(t.staticRoot&&!t.staticProcessed)return xn(t,e);if(t.once&&!t.onceProcessed)return wn(t,e);if(t.for&&!t.forProcessed)return function(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,"_l(("+i+"),function("+o+a+s+"){return "+bn(t,e)+"})"}(t,e);if(t.if&&!t.ifProcessed)return Sn(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Cn(t,e),i="_t("+n+(r?","+r:""),o=t.attrs&&"{"+t.attrs.map(function(t){return zn(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];return!o&&!a||r||(i+=",null"),o&&(i+=","+o),a&&(i+=(o?"":",null")+","+a),i+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:Cn(e,n,!0);return"_c("+t+","+Pn(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r=t.plain?void 0:Pn(t,e),i=t.inlineTemplate?null:Cn(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return Cn(t,e)||"void 0"}function xn(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+bn(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function wn(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Sn(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+bn(t,e)+","+e.onceId+++","+n+")":bn(t,e)}return xn(t,e)}function Sn(t,e,n,r){return t.ifProcessed=!0,Tn(t.ifConditions.slice(),e,n,r)}function Tn(t,e,n,r){function i(t){return n?n(t,e):t.once?wn(t,e):bn(t,e)}if(!t.length)return r||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+i(o.block)+":"+Tn(t,e,n,r):""+i(o.block)}function Pn(t,e){var n="{",r=function(t,e){var n=t.directives;if(n){var r,i,o,a,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var c=e.directives[o.name];c&&(a=!!c(t,o,e.warn)),a&&(u=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?',arg:"'+o.arg+'"':"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return u?s.slice(0,-1)+"]":void 0}}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:{"+On(t.attrs)+"},"),t.props&&(n+="domProps:{"+On(t.props)+"},"),t.events&&(n+=mn(t.events,!1,e.warn)+","),t.nativeEvents&&(n+=mn(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return kn(n,t[n],e)}).join(",")+"])"}(t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];if(1===n.type){var r=_n(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function kn(t,e,n){return e.for&&!e.forProcessed?function(t,e,n){var r=e.for,i=e.alias,o=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+r+"),function("+i+o+a+"){return "+kn(t,e,n)+"})"}(t,e,n):"{key:"+t+",fn:function("+String(e.slotScope)+"){return "+("template"===e.tag?e.if?e.if+"?"+(Cn(e,n)||"undefined")+":undefined":Cn(e,n)||"undefined":bn(e,n))+"}}"}function Cn(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(r||bn)(a,e);var s=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(An(i)||i.ifConditions&&i.ifConditions.some(function(t){return An(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(o,e.maybeComponent):0,u=i||function(t,e){return 1===t.type?bn(t,e):3===t.type&&t.isComment?function(t){return"_e("+JSON.stringify(t.text)+")"}(t):function(t){return"_v("+(2===t.type?t.expression:En(JSON.stringify(t.text)))+")"}(t)};return"["+o.map(function(t){return u(t,e)}).join(",")+"]"+(s?","+s:"")}}function An(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function On(t){for(var e="",n=0;n<t.length;n++){var r=t[n];e+='"'+r.name+'":'+En(r.value)+","}return e.slice(0,-1)}function En(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function jn(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),_}}function Fn(t){return Go=Go||document.createElement("div"),Go.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Go.innerHTML.indexOf("&#10;")>0}var Mn=Object.freeze({}),In=Object.prototype.toString,Rn=p("slot,component",!0),Dn=p("key,ref,slot,slot-scope,is"),Ln=Object.prototype.hasOwnProperty,Un=/-(\w)/g,zn=d(function(t){return t.replace(Un,function(t,e){return e?e.toUpperCase():""})}),Nn=d(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),Gn=/\B([A-Z])/g,Bn=d(function(t){return t.replace(Gn,"-$1").toLowerCase()}),qn=function(t,e,n){return!1},Vn=function(t){return t},$n="data-server-rendered",Hn=["component","directive","filter"],Wn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],Xn={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:qn,isReservedAttr:qn,isUnknownElement:qn,getTagNamespace:_,parsePlatformTagName:Vn,mustUseProp:qn,_lifecycleHooks:Wn},Yn=/[^\w.$]/,Kn="__proto__"in{},Jn="undefined"!=typeof window,Zn="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Qn=Zn&&WXEnvironment.platform.toLowerCase(),tr=Jn&&window.navigator.userAgent.toLowerCase(),er=tr&&/msie|trident/.test(tr),nr=tr&&tr.indexOf("msie 9.0")>0,rr=tr&&tr.indexOf("edge/")>0,ir=tr&&tr.indexOf("android")>0||"android"===Qn,or=tr&&/iphone|ipad|ipod|ios/.test(tr)||"ios"===Qn,ar=(tr&&/chrome\/\d+/.test(tr),{}.watch),sr=!1;if(Jn)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){sr=!0}}),window.addEventListener("test-passive",null,ur)}catch(t){}var cr,lr,pr=function(){return void 0===cr&&(cr=!Jn&&void 0!==e&&"server"===e.process.env.VUE_ENV),cr},hr=Jn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,fr="undefined"!=typeof Symbol&&P(Symbol)&&"undefined"!=typeof Reflect&&P(Reflect.ownKeys);lr="undefined"!=typeof Set&&P(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dr=_,vr=0,mr=function(){this.id=vr++,this.subs=[]};mr.prototype.addSub=function(t){this.subs.push(t)},mr.prototype.removeSub=function(t){h(this.subs,t)},mr.prototype.depend=function(){mr.target&&mr.target.addDep(this)},mr.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},mr.target=null;var yr=[],gr=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_r={child:{configurable:!0}};_r.child.get=function(){return this.componentInstance},Object.defineProperties(gr.prototype,_r);var br=function(t){void 0===t&&(t="");var e=new gr;return e.text=t,e.isComment=!0,e},xr=Array.prototype,wr=Object.create(xr);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=xr[t];T(wr,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var Sr=Object.getOwnPropertyNames(wr),Tr={shouldConvert:!0},Pr=function(t){this.value=t,this.dep=new mr,this.vmCount=0,T(t,"__ob__",this),Array.isArray(t)?((Kn?O:E)(t,wr,Sr),this.observeArray(t)):this.walk(t)};Pr.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)F(t,e[n],t[e[n]])},Pr.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)j(t[e])};var kr=Xn.optionMergeStrategies;kr.data=function(t,e,n){return n?L(t,e,n):e&&"function"!=typeof e?t:L(t,e)},Wn.forEach(function(t){kr[t]=U}),Hn.forEach(function(t){kr[t+"s"]=z}),kr.watch=function(t,e,n,r){if(t===ar&&(t=void 0),e===ar&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};y(i,t);for(var o in e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},kr.props=kr.methods=kr.inject=kr.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return y(i,t),e&&y(i,e),i},kr.provide=L;var Cr,Ar,Or=function(t,e){return void 0===e?t:e},Er=[],jr=!1,Fr=!1;if(void 0!==n&&P(n))Ar=function(){n(X)};else if("undefined"==typeof MessageChannel||!P(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())Ar=function(){setTimeout(X,0)};else{var Mr=new MessageChannel,Ir=Mr.port2;Mr.port1.onmessage=X,Ar=function(){Ir.postMessage(1)}}if("undefined"!=typeof Promise&&P(Promise)){var Rr=Promise.resolve();Cr=function(){Rr.then(X),or&&setTimeout(_)}}else Cr=Ar;var Dr,Lr=new lr,Ur=d(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}),zr=null,Nr=[],Gr=[],Br={},qr=!1,Vr=!1,$r=0,Hr=0,Wr=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Hr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lr,this.newDepIds=new lr,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!Yn.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Wr.prototype.get=function(){!function(t){mr.target&&yr.push(mr.target),mr.target=t}(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;$(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&K(t),mr.target=yr.pop(),this.cleanupDeps()}return t},Wr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Wr.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Wr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Br[e]){if(Br[e]=!0,Vr){for(var n=Nr.length-1;n>$r&&Nr[n].id>t.id;)n--;Nr.splice(n+1,0,t)}else Nr.push(t);qr||(qr=!0,Y(yt))}}(this)},Wr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||a(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){$(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Wr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Wr.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Wr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||h(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Xr={enumerable:!0,configurable:!0,get:_,set:_},Yr={lazy:!0};It(Rt.prototype);var Kr={init:function(t,e,n,i){if(!t.componentInstance||t.componentInstance._isDestroyed)(t.componentInstance=function(t,e,n,i){var o={_isComponent:!0,parent:e,_parentVnode:t,_parentElm:n||null,_refElm:i||null},a=t.data.inlineTemplate;return r(a)&&(o.render=a.render,o.staticRenderFns=a.staticRenderFns),new t.componentOptions.Ctor(o)}(t,zr,n,i)).$mount(e?t.elm:void 0,e);else if(t.data.keepAlive){var o=t;Kr.prepatch(o,o)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){var o=!!(i||t.$options._renderChildren||r.data.scopedSlots||t.$scopedSlots!==Mn);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i,t.$attrs=r.data&&r.data.attrs||Mn,t.$listeners=n||Mn,e&&t.$options.props){Tr.shouldConvert=!1;for(var a=t._props,s=t.$options._propKeys||[],u=0;u<s.length;u++){var c=s[u];a[c]=B(c,t.$options.props,e,t)}Tr.shouldConvert=!0,t.$options.propsData=e}if(n){var l=t.$options._parentListeners;t.$options._parentListeners=n,ct(t,n,l)}o&&(t.$slots=lt(i,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,mt(n,"mounted")),t.data.keepAlive&&(e._isMounted?function(t){t._inactive=!1,Gr.push(t)}(n):dt(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?vt(e,!0):e.$destroy())}},Jr=Object.keys(Kr),Zr=1,Qr=2,ti=0;!function(t){t.prototype._init=function(t){this._uid=ti++,this._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r,n._parentElm=e._parentElm,n._refElm=e._refElm;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(this,t):this.$options=N(Nt(this.constructor),t||{},this),this._renderProxy=this,this._self=this,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(this),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&ct(t,e)}(this),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=lt(e._renderChildren,r),t.$scopedSlots=Mn,t._c=function(e,n,r,i){return Ut(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Ut(t,e,n,r,i,!0)};var i=n&&n.data;F(t,"$attrs",i&&i.attrs||Mn,0,!0),F(t,"$listeners",e._parentListeners||Mn,0,!0)}(this),mt(this,"beforeCreate"),function(t){var e=St(t.$options.inject,t);e&&(Tr.shouldConvert=!1,Object.keys(e).forEach(function(n){F(t,n,e[n])}),Tr.shouldConvert=!0)}(this),_t(this),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(this),mt(this,"created"),this.$options.el&&this.$mount(this.$options.el)}}(Gt),function(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=M,t.prototype.$delete=I,t.prototype.$watch=function(t,e,n){if(s(e))return wt(this,t,e,n);(n=n||{}).user=!0;var r=new Wr(this,t,e,n);return n.immediate&&e.call(this,r.value),function(){r.teardown()}}}(Gt),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)this.$on(t[r],n);else(this._events[t]||(this._events[t]=[])).push(n),e.test(t)&&(this._hasHookEvent=!0);return this},t.prototype.$once=function(t,e){function n(){r.$off(t,n),e.apply(r,arguments)}var r=this;return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){if(!arguments.length)return this._events=Object.create(null),this;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)this.$off(t[n],e);return this}var i=this._events[t];if(!i)return this;if(!e)return this._events[t]=null,this;if(e)for(var o,a=i.length;a--;)if((o=i[a])===e||o.fn===e){i.splice(a,1);break}return this},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?m(n):n;for(var r=m(arguments,1),i=0,o=n.length;i<o;i++)try{n[i].apply(e,r)}catch(n){$(n,e,'event handler for "'+t+'"')}}return e}}(Gt),function(t){t.prototype._update=function(t,e){this._isMounted&&mt(this,"beforeUpdate");var n=this.$el,r=this._vnode,i=zr;zr=this,this._vnode=t,r?this.$el=this.__patch__(r,t):(this.$el=this.__patch__(this.$el,t,e,!1,this.$options._parentElm,this.$options._refElm),this.$options._parentElm=this.$options._refElm=null),zr=i,n&&(n.__vue__=null),this.$el&&(this.$el.__vue__=this),this.$vnode&&this.$parent&&this.$vnode===this.$parent._vnode&&(this.$parent.$el=this.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){if(!this._isBeingDestroyed){mt(this,"beforeDestroy"),this._isBeingDestroyed=!0;var t=this.$parent;!t||t._isBeingDestroyed||this.$options.abstract||h(t.$children,this),this._watcher&&this._watcher.teardown();for(var e=this._watchers.length;e--;)this._watchers[e].teardown();this._data.__ob__&&this._data.__ob__.vmCount--,this._isDestroyed=!0,this.__patch__(this._vnode,null),mt(this,"destroyed"),this.$off(),this.$el&&(this.$el.__vue__=null),this.$vnode&&(this.$vnode.parent=null)}}}(Gt),function(t){It(t.prototype),t.prototype.$nextTick=function(t){return Y(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e._parentVnode;if(t._isMounted)for(var i in t.$slots){var o=t.$slots[i];(o._rendered||o[0]&&o[0].elm)&&(t.$slots[i]=A(o,!0))}t.$scopedSlots=r&&r.data.scopedSlots||Mn,t.$vnode=r;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){$(e,t,"render"),a=t._vnode}return a instanceof gr||(a=br()),a.parent=r,a}}(Gt);var ei=[String,RegExp,Array],ni={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:ei,exclude:ei,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ht(this.cache,t,this.keys)},watch:{include:function(t){$t(this,function(e){return Vt(t,e)})},exclude:function(t){$t(this,function(e){return!Vt(t,e)})}},render:function(){var t=this.$slots.default,e=at(t),n=e&&e.componentOptions;if(n){var r=qt(n),i=this.include,o=this.exclude;if(i&&(!r||!Vt(i,r))||o&&r&&Vt(o,r))return e;var a=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[u]?(e.componentInstance=a[u].componentInstance,h(s,u),s.push(u)):(a[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&Ht(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={};e.get=function(){return Xn},Object.defineProperty(t,"config",e),t.util={warn:dr,extend:y,mergeOptions:N,defineReactive:F},t.set=M,t.delete=I,t.nextTick=Y,t.options=Object.create(null),Hn.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,y(t.options.components,ni),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=m(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=N(this.options,t),this}}(t),Bt(t),function(t){Hn.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&s(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(Gt),Object.defineProperty(Gt.prototype,"$isServer",{get:pr}),Object.defineProperty(Gt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Gt.version="2.5.13";var ri,ii,oi,ai,si,ui,ci,li,pi=p("style,class"),hi=p("input,textarea,option,select,progress"),fi=function(t,e,n){return"value"===n&&hi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},di=p("contenteditable,draggable,spellcheck"),vi=p("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),mi="http://www.w3.org/1999/xlink",yi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},gi=function(t){return yi(t)?t.slice(6,t.length):""},_i=function(t){return null==t||!1===t},bi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},xi=p("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),wi=p("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Si=function(t){return xi(t)||wi(t)},Ti=Object.create(null),Pi=p("text,number,password,search,email,tel,url"),ki=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(bi[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setAttribute:function(t,e,n){t.setAttribute(e,n)}}),Ci={create:function(t,e){Qt(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Qt(t,!0),Qt(e))},destroy:function(t){Qt(t,!0)}},Ai=new gr("",{},[]),Oi=["create","activate","update","remove","destroy"],Ei={create:ne,update:ne,destroy:function(t){ne(t,Ai)}},ji=Object.create(null),Fi=[Ci,Ei],Mi={create:oe,update:oe},Ii={create:se,update:se},Ri=/[\w).+\-_$\]]/,Di="__r",Li="__c",Ui={create:ke,update:ke},zi={create:Ce,update:Ce},Ni=d(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}),Gi=/^--/,Bi=/\s*!important$/,qi=function(t,e,n){if(Gi.test(e))t.style.setProperty(e,n);else if(Bi.test(n))t.style.setProperty(e,n.replace(Bi,""),"important");else{var r=$i(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},Vi=["Webkit","Moz","ms"],$i=d(function(t){if(li=li||document.createElement("div").style,"filter"!==(t=zn(t))&&t in li)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Vi.length;n++){var r=Vi[n]+e;if(r in li)return r}}),Hi={create:Ee,update:Ee},Wi=d(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Xi=Jn&&!nr,Yi="transition",Ki="animation",Ji="transition",Zi="transitionend",Qi="animation",to="animationend";Xi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ji="WebkitTransition",Zi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Qi="WebkitAnimation",to="webkitAnimationEnd"));var eo=Jn?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},no=/\b(transform|all)(,|$)/,ro=function(e){function n(t){var e=k.parentNode(t);r(e)&&k.removeChild(e,t)}function a(t,e,n,o,a){if(t.isRootInsert=!a,!function(t,e,n,o){var a=t.data;if(r(a)){var c=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1,n,o),r(t.componentInstance))return s(t,e),i(c)&&function(t,e,n,i){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<T.activate.length;++o)T.activate[o](Ai,a);e.push(a);break}u(n,t.elm,i)}(t,e,n,o),!0}}(t,e,n,o)){var l=t.data,p=t.children,d=t.tag;r(d)?(t.elm=t.ns?k.createElementNS(t.ns,d):k.createElement(d,t),f(t),c(t,p,e),r(l)&&h(t,e),u(n,t.elm,o)):i(t.isComment)?(t.elm=k.createComment(t.text),u(n,t.elm,o)):(t.elm=k.createTextNode(t.text),u(n,t.elm,o))}}function s(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,l(t)?(h(t,e),f(t)):(Qt(t),e.push(t))}function u(t,e,n){r(t)&&(r(n)?n.parentNode===t&&k.insertBefore(t,e,n):k.appendChild(t,e))}function c(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)a(e[r],n,t.elm,null,!0);else o(t.text)&&k.appendChild(t.elm,k.createTextNode(String(t.text)))}function l(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return r(t.tag)}function h(t,e){for(var n=0;n<T.create.length;++n)T.create[n](Ai,t);r(w=t.data.hook)&&(r(w.create)&&w.create(Ai,t),r(w.insert)&&e.push(t))}function f(t){var e;if(r(e=t.fnScopeId))k.setAttribute(t.elm,e,"");else for(var n=t;n;)r(e=n.context)&&r(e=e.$options._scopeId)&&k.setAttribute(t.elm,e,""),n=n.parent;r(e=zr)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&k.setAttribute(t.elm,e,"")}function d(t,e,n,r,i,o){for(;r<=i;++r)a(n[r],o,t,e)}function v(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<T.destroy.length;++e)T.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)v(t.children[n])}function m(t,e,i,o){for(;i<=o;++i){var a=e[i];r(a)&&(r(a.tag)?(y(a),v(a)):n(a.elm))}}function y(t,e){if(r(e)||r(t.data)){var i,o=T.remove.length+1;for(r(e)?e.listeners+=o:e=function(t,e){function r(){0==--r.listeners&&n(t)}return r.listeners=e,r}(t.elm,o),r(i=t.componentInstance)&&r(i=i._vnode)&&r(i.data)&&y(i,e),i=0;i<T.remove.length;++i)T.remove[i](t,e);r(i=t.data.hook)&&r(i=i.remove)?i(t,e):e()}else n(t.elm)}function g(e,n,i,o,s){for(var u,c,l,p=0,h=0,f=n.length-1,v=n[0],y=n[f],g=i.length-1,b=i[0],x=i[g],w=!s;p<=f&&h<=g;)t(v)?v=n[++p]:t(y)?y=n[--f]:te(v,b)?(_(v,b,o),v=n[++p],b=i[++h]):te(y,x)?(_(y,x,o),y=n[--f],x=i[--g]):te(v,x)?(_(v,x,o),w&&k.insertBefore(e,v.elm,k.nextSibling(y.elm)),v=n[++p],x=i[--g]):te(y,b)?(_(y,b,o),w&&k.insertBefore(e,y.elm,v.elm),y=n[--f],b=i[++h]):(t(u)&&(u=ee(n,p,f)),t(c=r(b.key)?u[b.key]:function(t,e,n,i){for(var o=n;o<i;o++){var a=e[o];if(r(a)&&te(t,a))return o}}(b,n,p,f))?a(b,o,e,v.elm):te(l=n[c],b)?(_(l,b,o),n[c]=void 0,w&&k.insertBefore(e,l.elm,v.elm)):a(b,o,e,v.elm),b=i[++h]);p>f?d(e,t(i[g+1])?null:i[g+1].elm,i,h,g,o):h>g&&m(0,n,p,f)}function _(e,n,o,a){if(e!==n){var s=n.elm=e.elm;if(i(e.isAsyncPlaceholder))r(n.asyncFactory.resolved)?x(e.elm,n,o):n.isAsyncPlaceholder=!0;else if(i(n.isStatic)&&i(e.isStatic)&&n.key===e.key&&(i(n.isCloned)||i(n.isOnce)))n.componentInstance=e.componentInstance;else{var u,c=n.data;r(c)&&r(u=c.hook)&&r(u=u.prepatch)&&u(e,n);var p=e.children,h=n.children;if(r(c)&&l(n)){for(u=0;u<T.update.length;++u)T.update[u](e,n);r(u=c.hook)&&r(u=u.update)&&u(e,n)}t(n.text)?r(p)&&r(h)?p!==h&&g(s,p,h,o,a):r(h)?(r(e.text)&&k.setTextContent(s,""),d(s,null,h,0,h.length-1,o)):r(p)?m(0,p,0,p.length-1):r(e.text)&&k.setTextContent(s,""):e.text!==n.text&&k.setTextContent(s,n.text),r(c)&&r(u=c.hook)&&r(u=u.postpatch)&&u(e,n)}}}function b(t,e,n){if(i(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var o=0;o<e.length;++o)e[o].data.hook.insert(e[o])}function x(t,e,n,o){var a,u=e.tag,l=e.data,p=e.children;if(o=o||l&&l.pre,e.elm=t,i(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(a=l.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return s(e,n),!0;if(r(u)){if(r(p))if(t.hasChildNodes())if(r(a=l)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var f=!0,d=t.firstChild,v=0;v<p.length;v++){if(!d||!x(d,p[v],n,o)){f=!1;break}d=d.nextSibling}if(!f||d)return!1}else c(e,p,n);if(r(l)){var m=!1;for(var y in l)if(!C(y)){m=!0,h(e,n);break}!m&&l.class&&K(l.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var w,S,T={},P=e.modules,k=e.nodeOps;for(w=0;w<Oi.length;++w)for(T[Oi[w]]=[],S=0;S<P.length;++S)r(P[S][Oi[w]])&&T[Oi[w]].push(P[S][Oi[w]]);var C=p("attrs,class,staticClass,staticStyle,key");return function(e,n,o,s,u,c){if(!t(n)){var p=!1,h=[];if(t(e))p=!0,a(n,h,u,c);else{var f=r(e.nodeType);if(!f&&te(e,n))_(e,n,h,s);else{if(f){if(1===e.nodeType&&e.hasAttribute($n)&&(e.removeAttribute($n),o=!0),i(o)&&x(e,n,h))return b(n,h,!0),e;e=function(t){return new gr(k.tagName(t).toLowerCase(),{},[],void 0,t)}(e)}var d=e.elm,y=k.parentNode(d);if(a(n,h,d._leaveCb?null:y,k.nextSibling(d)),r(n.parent))for(var g=n.parent,w=l(n);g;){for(var S=0;S<T.destroy.length;++S)T.destroy[S](g);if(g.elm=n.elm,w){for(var P=0;P<T.create.length;++P)T.create[P](Ai,g);var C=g.data.hook.insert;if(C.merged)for(var A=1;A<C.fns.length;A++)C.fns[A]()}else Qt(g);g=g.parent}r(y)?m(0,[e],0,0):r(e.tag)&&v(e)}}return b(n,h,p),n.elm}r(e)&&v(e)}}({nodeOps:ki,modules:[Mi,Ii,Ui,zi,Hi,Jn?{create:$e,activate:$e,remove:function(t,e){!0!==t.data.show?Be(t,e):e()}}:{}].concat(Fi)});nr&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Ze(t,"input")});var io={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?tt(n,"postpatch",function(){io.componentUpdated(t,e,n)}):He(t,e,n.context),t._vOptions=[].map.call(t.options,Ye)):("textarea"===n.tag||Pi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",Je),ir||(t.addEventListener("compositionstart",Ke),t.addEventListener("compositionend",Je)),nr&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){He(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Ye);i.some(function(t,e){return!b(t,r[e])})&&(t.multiple?e.value.some(function(t){return Xe(t,i)}):e.value!==e.oldValue&&Xe(e.value,i))&&Ze(t,"change")}}},oo={model:io,show:{bind:function(t,e,n){var r=e.value,i=(n=Qe(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Ge(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;r!==e.oldValue&&((n=Qe(n)).data&&n.data.transition?(n.data.show=!0,r?Ge(n,function(){t.style.display=t.__vOriginalDisplay}):Be(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},ao={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},so={name:"transition",props:ao,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag||ot(t)})).length){var r=this.mode,i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var a=tn(i);if(!a)return i;if(this._leaving)return nn(t,i);var s="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?s+"comment":s+a.tag:o(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var u=(a.data||(a.data={})).transition=en(this),c=this._vnode,l=tn(c);if(a.data.directives&&a.data.directives.some(function(t){return"show"===t.name})&&(a.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(a,l)&&!ot(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var p=l.data.transition=y({},u);if("out-in"===r)return this._leaving=!0,tt(p,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),nn(t,i);if("in-out"===r){if(ot(a))return c;var h,f=function(){h()};tt(u,"afterEnter",f),tt(u,"enterCancelled",f),tt(p,"delayLeave",function(t){h=t})}}return i}}},uo=y({tag:String,moveClass:String},ao);delete uo.mode;var co={Transition:so,TransitionGroup:{props:uo,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=en(this),s=0;s<i.length;s++){var u=i[s];u.tag&&null!=u.key&&0!==String(u.key).indexOf("__vlist")&&(o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a)}if(r){for(var c=[],l=[],p=0;p<r.length;p++){var h=r[p];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):l.push(h)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(rn),t.forEach(on),t.forEach(an),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Re(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Zi,n._moveCb=function t(r){r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Zi,t),n._moveCb=null,De(n,e))})}}))},methods:{hasMove:function(t,e){if(!Xi)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Fe(n,t)}),je(n,e),n.style.display="none",this.$el.appendChild(n);var r=Ue(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Gt.config.mustUseProp=fi,Gt.config.isReservedTag=Si,Gt.config.isReservedAttr=pi,Gt.config.getTagNamespace=Jt,Gt.config.isUnknownElement=function(t){if(!Jn)return!0;if(Si(t))return!1;if(t=t.toLowerCase(),null!=Ti[t])return Ti[t];var e=document.createElement(t);return t.indexOf("-")>-1?Ti[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Ti[t]=/HTMLUnknownElement/.test(e.toString())},y(Gt.options.directives,oo),y(Gt.options.components,co),Gt.prototype.__patch__=Jn?ro:_,Gt.prototype.$mount=function(t,e){return t=t&&Jn?Zt(t):void 0,function(t,e,n){t.$el=e,t.$options.render||(t.$options.render=br),mt(t,"beforeMount");var r;return r=function(){t._update(t._render(),n)},new Wr(t,r,_,null,!0),n=!1,null==t.$vnode&&(t._isMounted=!0,mt(t,"mounted")),t}(this,t,e)},Gt.nextTick(function(){Xn.devtools&&hr&&hr.emit("init",Gt)},0);var lo,po=/\{\{((?:.|\n)+?)\}\}/g,ho=/[-.*+?^${}()|[\]\/\\]/g,fo=d(function(t){var e=t[0].replace(ho,"\\$&"),n=t[1].replace(ho,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),vo={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=ye(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=me(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},mo={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=ye(t,"style");n&&(t.staticStyle=JSON.stringify(Ni(n)));var r=me(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},yo=function(t){return lo=lo||document.createElement("div"),lo.innerHTML=t,lo.textContent},go=p("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),_o=p("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),bo=p("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),xo=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,wo="[a-zA-Z_][\\w\\-\\.]*",So="((?:"+wo+"\\:)?"+wo+")",To=new RegExp("^<"+So),Po=/^\s*(\/?)>/,ko=new RegExp("^<\\/"+So+"[^>]*>"),Co=/^<!DOCTYPE [^>]+>/i,Ao=/^<!--/,Oo=/^<!\[/,Eo=!1;"x".replace(/x(.)?/g,function(t,e){Eo=""===e});var jo,Fo,Mo,Io,Ro,Do,Lo,Uo,zo,No,Go,Bo=p("script,style,textarea",!0),qo={},Vo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},$o=/&(?:lt|gt|quot|amp);/g,Ho=/&(?:lt|gt|quot|amp|#10|#9);/g,Wo=p("pre,textarea",!0),Xo=function(t,e){return t&&Wo(t)&&"\n"===e[0]},Yo=/^@|^v-on:/,Ko=/^v-|^@|^:/,Jo=/(.*?)\s+(?:in|of)\s+(.*)/,Zo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Qo=/^\(|\)$/g,ta=/:(.*)$/,ea=/^:|^v-bind:/,na=/\.[^.]+/g,ra=d(yo),ia=/^xmlns:NS\d+/,oa=/^NS\d+:/,aa=[vo,mo,{preTransformNode:function(t,e){if("input"===t.tag){var n=t.attrsMap;if(n["v-model"]&&(n["v-bind:type"]||n[":type"])){var r=me(t,"type"),i=ye(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=ye(t,"v-else",!0),s=ye(t,"v-else-if",!0),u=fn(t);pn(u),fe(u,"type","checkbox"),ln(u,e),u.processed=!0,u.if="("+r+")==='checkbox'"+o,hn(u,{exp:u.if,block:u});var c=fn(t);ye(c,"v-for",!0),fe(c,"type","radio"),ln(c,e),hn(u,{exp:"("+r+")==='radio'"+o,block:c});var l=fn(t);return ye(l,"v-for",!0),fe(l,":type",r),ln(l,e),hn(u,{exp:i,block:l}),a?u.else=!0:s&&(u.elseif=s),u}}}}],sa={expectHTML:!0,modules:aa,directives:{model:function(t,e,n){var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return ge(t,r,i),!1;if("select"===o)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";r=r+" "+_e(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),ve(t,"change",r,null,!0)}(t,r,i);else if("input"===o&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,i=me(t,"value")||"null",o=me(t,"true-value")||"true",a=me(t,"false-value")||"false";pe(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),ve(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+e+"=$$a.concat([$$v]))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+_e(e,"$$c")+"}",null,!0)}(t,r,i);else if("input"===o&&"radio"===a)!function(t,e,n){var r=n&&n.number,i=me(t,"value")||"null";pe(t,"checked","_q("+e+","+(i=r?"_n("+i+")":i)+")"),ve(t,"change",_e(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,u=!o&&"range"!==r,c=o?"change":"range"===r?Di:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var p=_e(e,l);u&&(p="if($event.target.composing)return;"+p),pe(t,"value","("+e+")"),ve(t,c,p,null,!0),(s||a)&&ve(t,"blur","$forceUpdate()")}(t,r,i);else if(!Xn.isReservedTag(o))return ge(t,r,i),!1;return!0},text:function(t,e){e.value&&pe(t,"textContent","_s("+e.value+")")},html:function(t,e){e.value&&pe(t,"innerHTML","_s("+e.value+")")}},isPreTag:function(t){return"pre"===t},isUnaryTag:go,mustUseProp:fi,canBeLeftOpenTag:_o,isReservedTag:Si,getTagNamespace:Jt,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(aa)},ua=d(function(t){return p("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}),ca=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,la=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,pa={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ha=function(t){return"if("+t+")return null;"},fa={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:ha("$event.target !== $event.currentTarget"),ctrl:ha("!$event.ctrlKey"),shift:ha("!$event.shiftKey"),alt:ha("!$event.altKey"),meta:ha("!$event.metaKey"),left:ha("'button' in $event && $event.button !== 0"),middle:ha("'button' in $event && $event.button !== 1"),right:ha("'button' in $event && $event.button !== 2")},da={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:_},va=function(t){this.options=t,this.warn=t.warn||ce,this.transforms=le(t.modules,"transformCode"),this.dataGenFns=le(t.modules,"genData"),this.directives=y(y({},da),t.directives);var e=t.isReservedTag||qn;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]},ma=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(t){return function(e){function n(n,r){var i=Object.create(e),o=[],a=[];if(i.warn=function(t,e){(e?a:o).push(t)},r){r.modules&&(i.modules=(e.modules||[]).concat(r.modules)),r.directives&&(i.directives=y(Object.create(e.directives||null),r.directives));for(var s in r)"modules"!==s&&"directives"!==s&&(i[s]=r[s])}var u=t(n,i);return u.errors=o,u.tips=a,u}return{compile:n,compileToFunctions:function(t){var e=Object.create(null);return function(n,r,i){(r=y({},r)).warn,delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r),s={},u=[];return s.render=jn(a.render,u),s.staticRenderFns=a.staticRenderFns.map(function(t){return jn(t,u)}),e[o]=s}}(n)}}}(function(t,e){var n=cn(t.trim(),e);!1!==e.optimize&&function(t,e){t&&(zo=ua(e.staticKeys||""),No=e.isReservedTag||qn,dn(t),vn(t,!1))}(n,e);var r=_n(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}})(sa).compileToFunctions),ya=!!Jn&&Fn(!1),ga=!!Jn&&Fn(!0),_a=d(function(t){var e=Zt(t);return e&&e.innerHTML}),ba=Gt.prototype.$mount;return Gt.prototype.$mount=function(t,e){if((t=t&&Zt(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=_a(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){var i=ma(r,{shouldDecodeNewlines:ya,shouldDecodeNewlinesForHref:ga,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ba.call(this,t,e)},Gt.compile=ma,Gt})}).call(e,n(1),n(0).setImmediate)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}var o=n(4),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),s=n(6),u=r(s),c=n(5),l=r(c),p=n(7),h=r(p),f=n(2),d=r(f),v=n(3),m=r(v);new d.default(".btn");var y=new h.default({el:"title",data:{progress:0},computed:{title:function(){return 0!==this.progress?"["+this.progress+"%] DeepAA on Web":"DeepAA on Web"}}});new h.default({el:"#app",data:{modelLoading:!0,modelInitializing:!0,modelLoadingProgress:0,modelInitProgress:0,modelRunning:!1,modelInterrupt:!1,convertPromise:void 0,charListFile:m.default,inputImage:{URL:"sample-data/test_image.png",width:0,height:0},grayscaleImage:{URL:"",width:0,height:0},previewLineImage:{width:632,patchGuidePosX:0},outputAA:{maxLineNum:"-",currentLineNum:"-",totalPercentage:0,linePercentage:0,width:550},resultAA:{text:"",rows:8},highSpeedMode:!1},created:function(){this.model=new a.Model({filepath:"model/model_v2.bin",gpu:!0}),this.model.events.on("loadingProgress",this.handleLoadingProgress),this.model.events.on("initProgress",this.handleInitProgress)},methods:{handleLoadingProgress:function(t){this.modelLoadingProgress=Math.round(t),100===t&&(this.modelLoading=!1)},handleInitProgress:function(t){this.modelInitProgress=Math.round(t),100===t&&(this.modelInitializing=!1)},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(t){var e=this,n=new FileReader;n.onload=function(t){e.inputImage.URL=t.target.result},n.readAsDataURL(t)},canvasResize:function(t,e){var n=this;return new Promise(function(r){var i=new Image;i.onload=function(){var o=t.getContext("2d");t.width*=e,t.height*=e,o.scale(e,e),o.drawImage(i,0,0),n.grayscaleImage.width=t.width,n.grayscaleImage.height=t.height,r(t.toDataURL())},i.src=t.toDataURL()})},grayscale:function(t){var e=this;return new Promise(function(n){try{var r=document.createElement("canvas"),o=new Image;o.onload=i(regeneratorRuntime.mark(function t(){var i,a,s,u,c,l,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=r.getContext("2d"),r.width=o.width,r.height=o.height,i.drawImage(o,0,0),a=i.getImageData(0,0,r.width,r.height),e.inputImage.width=o.width,e.inputImage.height=o.height,s=0;s<a.height;s++)for(u=0;u<a.width;u++)c=4*(s*a.width+u),l=parseInt(.299*a.data[c]+.587*a.data[c+1]+.114*a.data[c+2],10),a.data[c]=l,a.data[c+1]=l,a.data[c+2]=l,a.data[c+3]=255;return i.putImageData(a,0,0),p=e.outputAA.width/o.width,t.next=12,e.canvasResize(r,p);case 12:h=t.sent,n(h);case 14:case"end":return t.stop()}},t,e)})),o.src=t}catch(t){console.error("grayscale: ",t.message),e.resultAA=t.message}})},inputImageUpdate:function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.grayscale(this.inputImage.URL);case 2:this.grayscaleImage.URL=t.sent;case 3:case"end":return t.stop()}},t,this)}));return t}(),onLoadInputImage:function(){this.inputImageUpdate()},onClickInputImageWidth:function(){this.inputImageUpdate()},canvasAddMargin:function(){var t=this;return new Promise(function(e){var n=document.createElement("canvas"),r=new Image;r.onload=function(){var t=n.getContext("2d");n.width=24+r.width+39,n.height=24+r.height+41,t.fillStyle="white",t.fillRect(0,0,n.width,n.height),t.drawImage(r,24,24);var i=t.getImageData(0,0,n.width,n.height);e(i)},r.src=t.grayscaleImage.URL})},convertAA:function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=i(regeneratorRuntime.mark(function t(n){var r,i,o,a,s,c,p,h,f,d,v,m,y,g,_,b,x,w,S,T,P,k,C,A;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.modelRunning=!0,e.resultAA.text="",e.outputAA.totalPercentage=0,e.outputAA.linePercentage=0,r=void 0,i=void 0,t.next=8,e.canvasAddMargin();case 8:return o=t.sent,a=(0,u.default)(new Float32Array(o.data),[o.width,o.height,4]),r=(0,u.default)(new Float32Array(o.width*o.height),[o.width,o.height,1]),l.default.assign(r.pick(null,null,0),a.pick(null,null,0)),l.default.divseq(r,255),i=Math.floor((o.height-48)/18),e.outputAA.maxLineNum=i,e.resultAA.rows=i+1,e.previewLineImage.width=o.width,t.next=19,e.setInterval(16);case 19:s=function(t,e){var n=new Float32Array(t.length+e.length);return n.set(t),n.set(e,t.length),n},c=1/i,p=function(t,n){e.outputAA.currentLineNum=t,e.outputAA.linePercentage=Math.floor(n/r.shape[0]*100),e.outputAA.totalPercentage=Math.floor(c*(t+n/r.shape[0])*100)},h=function(){return e.highSpeedMode?e.setInterval(1):e.setInterval(16)},f=0;case 24:if(!(f<i)){t.next=65;break}d=r.data.slice(18*f*r.shape[0],(18*f+64)*r.shape[0]),e.updatePreviewLineImage(d),v=0,m=64,y=1,g=64;case 31:if(!(m<=r.shape[0])){t.next=61;break}for(_=h(),p(f,m),b=new Float32Array([]),x=0;x<64;x++)w=d.slice(x*r.shape[0]+v,x*r.shape[0]+m),b=s(b,w);return S=(0,u.default)(new Float32Array(b),[64,64]),T={input_1:S.data},t.next=40,e.model.predict(T);case 40:if(P=t.sent,P=(0,u.default)(P.predictions),1===y&&P.set(1,0),k=l.default.argmax(P),C=e.charListFile[k][0],A=e.charListFile[k][1],e.resultAA.text+=C,v+=A,m+=A,y=1===k?1:0,!e.modelInterrupt){t.next=55;break}return e.modelRunning=!1,e.modelInterrupt=!1,n(),t.abrupt("return");case 55:return e.previewLineImage.patchGuidePosX=v,e.updatePreviewPatchImage(S.data),t.next=59,_;case 59:t.next=31;break;case 61:e.resultAA.text+="\n";case 62:f++,t.next=24;break;case 65:e.outputAA.currentLineNum=i,e.outputAA.linePercentage=100,e.outputAA.totalPercentage=100,e.modelRunning=!1,n();case 70:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return t}(),onClickConvertAAStart:function(){function t(){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.model.ready();case 3:if(!this.modelRunning){t.next=8;break}return this.modelInterrupt=!0,console.log("wait until stopped current process"),t.next=8,this.convertPromise;case 8:this.convertPromise=this.convertAA(),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),this.modelRunning=!1,console.error("onClickConvertAAStart",t.t0.message),this.resultAA.text=t.t0.message;case 16:case"end":return t.stop()}},t,this,[[0,11]])}));return t}(),initLineImagePatchGuideRect:function(){var t=this.$refs.lineImagePatchGuideCanvas,e=t.getContext("2d");e.beginPath(),e.strokeStyle="blue",e.strokeRect(0,0,64,64),e.strokeRect(24,24,16,16)},updatePreviewLineImage:function(t){for(var e=this.$refs.lineImageCanvas,n=e.getContext("2d"),r=n.getImageData(0,0,e.width,e.height),i=0;i<r.height;i++)for(var o=0;o<r.width;o++){var a=4*i*r.width+4*o,s=255*t[o+i*r.width];r.data[a]=s,r.data[a+1]=s,r.data[a+2]=s,r.data[a+3]=255}n.putImageData(r,0,0),n.beginPath(),n.strokeStyle="red",n.strokeRect(24,24,e.width-48,16)},updatePreviewPatchImage:function(t){for(var e=this.$refs.patchImageCanvas,n=e.getContext("2d"),r=n.getImageData(0,0,e.width,e.height),i=0;i<r.height;i++)for(var o=0;o<r.width;o++){var a=4*i*r.width+4*o,s=255*t[o+i*r.width];r.data[a]=s,r.data[a+1]=s,r.data[a+2]=s,r.data[a+3]=255}n.putImageData(r,0,0),n.beginPath(),n.strokeStyle="red",n.strokeRect(24,24,16,16)},setInterval:function(){function t(t){return e.apply(this,arguments)}var e=i(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){return setTimeout(t,e)}));case 1:case"end":return t.stop()}},t,this)}));return t}()},watch:{"outputAA.totalPercentage":function(t,e){y.progress=t},highSpeedMode:function(t,e){console.debug("hs"+t)}},computed:{progressMessage:function(){return this.outputAA.totalPercentage>100?"Complete!":this.outputAA.totalPercentage+"%"}},mounted:function(){this.initLineImagePatchGuideRect()}})},function(t,e,n){var r,i,o;!function(a,s){i=[t,n(20)],r=s,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(t){return t&&t.__esModule?t:{default:t}}(e),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},function(t,e,n){"use strict";function r(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new r;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var i=0;i<n.length;++i){var a=n[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,o(e)}var o=n(12);t.exports=i},function(t,e,n){"use strict";function r(t,e,n){var r,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,p=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)p=l,l=t[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",l].join("")):c.push(["d",i,"s",r,"=(t",i,"p",l,"-s",p,"*t",i,"p",p,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),r=o-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(p=l,l=t[r],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&u.push(["index[",p,"]-=s",p].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,n,i){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(var l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(var l=0;l<a;++l){for(var p=["offset"+l],h=t;h<o;++h)p.push(["j",h,"*t",l,"p",e[h]].join(""));c.push(["p",l,"=(",p.join("+"),")"].join(""))}c.push(r(e,n,i));for(var l=t;l<o;++l)c.push("}");return c.join("\n")}function o(t){for(var e=0,n=t[0].length;e<n;){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function a(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var p=e.offsetArgIndex.indexOf(a);l=e.offsetArgs[p].array,c="+q"+p;case"array":c="p"+l+c;var h="l"+a,f="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(i.push(["var ",h,"=",f,".get(",c,")"].join("")),r=r.replace(u,h),o.push([f,".set(",c,",",h,")"].join(""))):r=r.replace(u,[f,".get(",c,")"].join("")):r=r.replace(u,[f,"[",c,"]"].join("")):"generic"===n[l]?(i.push(["var ",h,"=",f,".get(",c,")"].join("")),r=r.replace(u,h),s.lvalue&&o.push([f,".set(",c,",",h,")"].join(""))):(i.push(["var ",h,"=",f,"[",c,"]"].join("")),r=r.replace(u,h),s.lvalue&&o.push([f,"[",c,"]=",h].join("")));else{for(var d=[s.name],v=[c],m=0;m<Math.abs(e.arrayBlockIndices[l]);m++)d.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(m+1)+"*t"+l+"b"+m);if(u=new RegExp(d.join(""),"g"),c=v.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[f,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function s(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function u(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),l=new Array(t.arrayArgs.length),p=0;p<t.arrayArgs.length;++p)l[p]=e[2*p],u[p]=e[2*p+1];for(var h=[],f=[],d=[],v=[],m=[],p=0;p<t.arrayArgs.length;++p){t.arrayBlockIndices[p]<0?(d.push(0),v.push(n),h.push(n),f.push(n+t.arrayBlockIndices[p])):(d.push(t.arrayBlockIndices[p]),v.push(t.arrayBlockIndices[p]+n),h.push(0),f.push(t.arrayBlockIndices[p]));for(var y=[],g=0;g<u[p].length;g++)d[p]<=u[p][g]&&u[p][g]<v[p]&&y.push(u[p][g]-d[p]);m.push(y)}for(var _=["SS"],b=["'use strict'"],x=[],g=0;g<n;++g)x.push(["s",g,"=SS[",g,"]"].join(""));for(var p=0;p<t.arrayArgs.length;++p){_.push("a"+p),_.push("t"+p),_.push("p"+p);for(var g=0;g<n;++g)x.push(["t",p,"p",g,"=t",p,"[",d[p]+g,"]"].join(""));for(var g=0;g<Math.abs(t.arrayBlockIndices[p]);++g)x.push(["t",p,"b",g,"=t",p,"[",h[p]+g,"]"].join(""))}for(var p=0;p<t.scalarArgs.length;++p)_.push("Y"+p);if(t.shapeArgs.length>0&&x.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var w=new Array(n),p=0;p<n;++p)w[p]="0";x.push(["index=[",w.join(","),"]"].join(""))}for(var p=0;p<t.offsetArgs.length;++p){for(var S=t.offsetArgs[p],T=[],g=0;g<S.offset.length;++g)0!==S.offset[g]&&(1===S.offset[g]?T.push(["t",S.array,"p",g].join("")):T.push([S.offset[g],"*t",S.array,"p",g].join("")));0===T.length?x.push("q"+p+"=0"):x.push(["q",p,"=",T.join("+")].join(""))}var P=c([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));x=x.concat(P),x.length>0&&b.push("var "+x.join(","));for(var p=0;p<t.arrayArgs.length;++p)b.push("p"+p+"|=0");t.pre.body.length>3&&b.push(a(t.pre,t,l));var k=a(t.body,t,l),C=o(m);C<n?b.push(i(C,m[0],t,k)):b.push(r(m[0],t,k)),t.post.body.length>3&&b.push(a(t.post,t,l)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+b.join("\n")+"\n----------");var A=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",C,s(l)].join("");return new Function(["function ",A,"(",_.join(","),"){",b.join("\n"),"} return ",A].join(""))()}var c=n(23);t.exports=u},function(t,e,n){"use strict";function r(t){var e=["'use strict'","var CACHED={}"],n=[],r=t.funcName+"_cwise_thunk";e.push(["return function ",r,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var p=t.arrayArgs[l];n.push(["t",p,"=array",p,".dtype,","r",p,"=array",p,".order"].join("")),o.push("t"+p),o.push("r"+p),a.push("t"+p),a.push("r"+p+".join()"),s.push("array"+p+".data"),s.push("array"+p+".stride"),s.push("array"+p+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+p+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+p+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(i.bind(void 0,t))}var i=n(11);t.exports=r},function(t,e){function n(t,e){for(;t&&t.nodeType!==r;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=n},function(t,e,n){function r(t,e,n,r,i){var a=o.apply(this,arguments);return t.addEventListener(n,a,i),{destroy:function(){t.removeEventListener(n,a,i)}}}function i(t,e,n,i,o){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return r(t,e,n,i,o)}))}function o(t,e,n,r){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&r.call(t,n)}}var a=n(13);t.exports=i},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e,n){function r(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return i(t,e,n);if(s.nodeList(t))return o(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return u(document.body,t,e,n)}var s=n(15),u=n(14);t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){v&&f&&(v=!1,f.length?d=f.concat(d):m=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(f=d,d=[];++m<e;)f&&f[m].run();m=-1,e=d.length}f=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,p,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var f,d=[],v=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(t),r.removeAllRanges(),r.addRange(i),e=r.toString()}return e}t.exports=n},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,s(u),u++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(l)setTimeout(a,0,t);else{var e=c[t];if(e){l=!0;try{o(e)}finally{i(t),l=!1}}}}if(!t.setImmediate){var s,u=1,c={},l=!1,p=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var t=p.documentElement;s=function(e){var n=p.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(1),n(19))},function(t,e){function n(){}n.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=n},function(t,e,n){"use strict";function r(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,i=t[a],e(i,o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}function i(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,(r=t[o])!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}function o(t,e,n){return 0===t.length?t:e?(n||t.sort(e),r(t,e)):(n||t.sort(),i(t))}t.exports=o}]);